; FILE: CinematicObjects.ini ///////////////////////////////////////////////////////
; This file contains objects that are not meant for normal game play.  They are used
; in cut scenes and demos.  They are seperate so that later game balancing does not
; alter finished cutscenes
;//////////////////////////////////////////////////////////////////////////////
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
; Hobbits in boat
Object CINE_HobbitBoat                        
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = HobBoat
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = HobBoat.HobBoat
        AnimationMode       = LOOP
      End
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
    End
    AnimationState        = MOVING
      Animation = Moving
        AnimationName       = HobBoat.HobBoat
        AnimationMode       = LOOP
      End
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
      Flags               = RANDOMSTART
    End
  End
 
  ; ***DESIGN parameters ***
  Side = Rohan
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThreatLevel = 1.0
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:HobbitBoat
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = BoatLocomotor
    Condition = SET_NORMAL 
    Speed     = 10
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = No
  Shadow = SHADOW_Volume
  ShadowSizeX = 72
;  ShadowSizeX = 14;
;  ShadowSizeY = 14;
;  ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
; aka CINE_WorkerMordor, Peasant
Object CINE_MordorWorker
	; *** ART Parameters ***

	; This is required for garrisoned objects - please put in all objects.
	ButtonImage = BCFarm_Peasants
    
	Draw = W3DScriptedModelDraw ModuleTag_01

		DefaultModelConditionState
			Model					=	MUOrcLabor_SKN
			Skeleton				=	MUGblnSlv_SKL
		End

		IdleAnimationState
			Animation				=	Stand
				AnimationName		=	MUOrcLabor_IDLG
				AnimationMode		=	ONCE
				AnimationPriority	=	15
			End
			
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		;-----basic animations
		AnimationState				=	MOVING WANDER
			Animation				=	WLKA
				AnimationName		=	MUOrcLabor_WLKA 
				AnimationMode		=	LOOP
			End
			Animation				=	WLKB
				AnimationName		=	MUOrcLabor_WLKB
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				=	MOVING BACKING_UP
			Animation				=	BackingUp
				AnimationName		=	MUOrcLabor_BAKA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				=	MOVING
			Animation				=	WLKC
				AnimationName		=	MUOrcLabor_WLKC 
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				=	FIRING_OR_PREATTACK_A
			Animation				=	DoubleChop
				AnimationName		=	MUOrcLabor_ATKC
				AnimationMode		=	ONCE
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				=	HARVEST_PREPARATION
			Animation				=	SidewaysChop
				AnimationName		=	MUOrcLabor_WRKB
				AnimationMode		=	LOOP
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				=	HARVEST_ACTION
			Animation				=	VerticalChop
				AnimationName		=	MUOrcLabor_WRKA
				AnimationMode		=	LOOP
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				=	DYING AFLAME
			Animation				=	MFDA
				AnimationName		=	MUOrcLabor_MFDA 
				AnimationMode		=	ONCE
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End

		AnimationState				=	DYING DEATH_1
			Animation				=	DIEA
				AnimationName		=	MUOrcLabor_DIEA 
				AnimationMode		=	ONCE
			End
			Animation				=	DIEB
				AnimationName		=	MUOrcLabor_DIEB 
				AnimationMode		=	ONCE
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
	
		AnimationState          = DYING DEATH_2
			Animation
				AnimationName   = MUOrcLabor_IDLA
				AnimationMode   = LOOP
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		; --- stunned anims
		AnimationState				=	STUNNED_FLAILING 
			Animation				=	FLYA
				AnimationName       =	MUOrcLabor_FLYA
				AnimationMode       =	LOOP
			End
			Flags					=	RANDOMSTART
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End

		AnimationState				=	STUNNED 
			Animation				=	LNDA
				AnimationName       =	MUOrcLabor_LNDA
				AnimationMode       =	ONCE
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End

		AnimationState				=	STUNNED_STANDING_UP
			Animation				=	StandUp
				AnimationName       =	MUOrcLabor_GTPA
				AnimationMode       =	ONCE
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		
		;--emotions
		AnimationState				=	EMOTION_AFRAID
			Animation				=	FERA
				AnimationName		=	MUOrcLabor_FERA
				AnimationMode		=	LOOP
			End
			Animation				=	FERB
				AnimationName		=	MUOrcLabor_FERB
				AnimationMode		=	LOOP
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				=	EMOTION_CELEBRATING
			Animation				=	CHRA
				AnimationName		=	MUOrcLabor_CHRA
				AnimationMode		=	Once
			End
			Animation				=	CHRB
				AnimationName		=	MUOrcLabor_CHRB
				AnimationMode		=	Once
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				=	EMOTION_ALERT EMOTION_MORALE_HIGH
			Animation				=	TNTA
				AnimationName		=	MUOrcLabor_TNTA
				AnimationMode		=	ONCE
			End
			Animation				=	Taunting2
				AnimationName		=	MUOrcLabor_TNTB
				AnimationMode		=	ONCE
			End
			Flags					=	RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
			
		AnimationState				=	EMOTION_ALERT EMOTION_AFRAID
			Animation				=	APPA
				AnimationName		=	MUOrcLabor_APPA
				AnimationMode		=	LOOP	;Change this to ONCE if adding additional anims
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		; --------- Click and Hit Reactions ------------
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = MUOrcLabor_HITA
				AnimationMode = ONCE
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				= 	ACTIVELY_CONSTRUCTING
			Animation				= 	WRKA
				AnimationName		= 	MUOrcLabor_WRKA
				AnimationMode		= 	ONCE
				AnimationPriority	=	25
			End
			Animation				=	Stand
				AnimationName		=	MUOrcLabor_IDLC
				AnimationMode		=	ONCE
				AnimationPriority	=	5
			End
			Animation				=	WipeNose
				AnimationName		=	MUOrcLabor_IDLD
				AnimationMode		=	ONCE
				AnimationPriority	=	3
			End
			Animation				=	ScratchBack
				AnimationName		=	MUOrcLabor_IDLE
				AnimationMode		=	ONCE
				AnimationPriority	=	3
			End
			
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
			
			BeginScript
				CurDrawableHideSubObject("AXE")
				CurDrawableShowSubObject("HAMMER")
			EndScript
		End
		
		AnimationState				=	SELECTED
			Animation				=	ATNB
				AnimationName		=	MUOrcLabor_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				CurDrawableShowSubObject("AXE")
				CurDrawableHideSubObject("HAMMER")
			EndScript
		End
	End
	
	; ***DESIGN parameters ***
	Side = Mordor
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
	TransportSlotCount = 1
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 120.0
    BuildCost = 100
    BuildTime = 2.0
	DisplayName = OBJECT:MordorWorker
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles


	; *** AUDIO Parameters ***;



	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Worker Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    MordorWorkerAxe
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	
	Behavior = WorkerAIUpdate ModuleTag_10
		RepairHealthPercentPerSecond  = 0.2%    ; % of max health to repair each second
		BoredTime                     = 5000  ; in milliseconds
		BoredRange                    = 120   ; when bored, we look this far away to do something 
		SpecialContactPoints		   = Repair
		MaxBoxes						= 3		; How many abstract units of goods can I carry
		SupplyWarehouseScanDistance		= 500	; How far to look for trees
		SupplyCenterActionDelay			= 500	; How long it takes to drop off logs
		HarvestTrees					= Yes	; Replace the Dock-with-warehouse with Harvest-From-Point
		HarvestActivationRange			= 25	; How close to a tree counts as close enough
		HarvestPreparationTime			= 1000	; How long to knock a tree down
		HarvestActionTime				= 3000	; How long to grab a load of wood
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 15
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = 15
	End
	
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED
		DeathFlags = DEATH_1
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End
	
	Behavior = SlowDeathBehavior ModuleTag_ConstructionDeath
		DeathTypes = NONE +FADED
		DeathFlags = DEATH_2
		FadeDelay = 500
		FadeTime = 3500
		DestructionDelay = 4500
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 16  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 16
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 7 ; level 1 (light  damage)  hit reaction animations in frames (5 per sec)
		HitReactionLifeTimer2 = 15 ; level 2 (medium damage)  hit reaction animations in frames (5 per sec)
		HitReactionLifeTimer3 = 10 ; level 3 (heavy  damage)  hit reaction animations in frames (5 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: MordorOrcLaborerChopping Animation:MUGblnSlv_SKL.MUOrcLabor_WRKB Frames: 12 
		AnimationSound = Sound: MordorOrcLaborerBuilding Animation:MUGblnSlv_SKL.MUOrcLabor_WRKA Frames: 14 
    End
    
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;
End




;------------------------------------------------------------------------------------
; aka Cinematics Sam


Object CINE_Sam
	; *** ART Parameters ***

	SelectPortrait         = HPSam
	ButtonImage			   = HISam

	Draw = W3DScriptedModelDraw ModuleTag_01
		;RingFXLighting = R:37 G:74 B:190
		;RingFXLighting = R:64 G:64 B:128

		;GlowEnabled = Yes
		;GlowEmissive = No
		
		ExtraPublicBone = SWORDBONE01

		StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		DefaultModelConditionState
			Model               = RUSam_PSNGR
			Skeleton            = RUFrodo_SKL
			WeaponLaunchBone    = SECONDARY B_HANDR
		End

		IdleAnimationState
			Animation           = IDLA
				AnimationName     = RUFrodo_IDLA
				AnimationMode     = ONCE
				AnimationPriority = 15
			End
			Animation           = IDLC
				AnimationName     = RUFrodo_IDLC
				AnimationMode     = ONCE
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
			EndScript
		End

		AnimationState        = DYING WEAPONLOCK_PRIMARY
			Animation           = DIEA
				AnimationName     = RUFrodo_DIEA
				AnimationMode     = ONCE
			End
			StateName           = Sword
		End

		AnimationState        = DYING SPLATTED
			Animation           = LNDA
				AnimationName     = RUFrodo_LNDA
				AnimationMode     = ONCE
			End
			StateName           = NoSword
		End

		AnimationState        = DYING
			Animation           = DIEB
				AnimationName     = RUFrodo_DIEB
				AnimationMode     = ONCE
			End
			StateName           = NoSword
		End

		AnimationState        =  FIRING_OR_PREATTACK_A WEAPONLOCK_PRIMARY
			Animation           = ATKA
				AnimationName     = RUFrodo_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATKB
				AnimationName     = RUFrodo_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			
			StateName           = Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "NoSword" then CurDrawableSetTransitionAnimState("TRANS_DrawSword") end
			EndScript
		End

		AnimationState        =  FIRING_OR_PREATTACK_B 
			Animation           = RockThrow
				AnimationName     = RUFrodo_THRA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			
			FrameForPristineBonePositions = 17
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
			EndScript
		End

		; -- Phial anims (No art yet, use Boromir for reference when hooking up)
		AnimationState        = UNPACKING PACKING_TYPE_1
			Animation           
				AnimationName     = RUFrodo_THRA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = PREPARING PACKING_TYPE_1
			Animation           
				AnimationName     = RUFrodo_THRA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = PACKING PACKING_TYPE_1
			Animation           
				AnimationName     = RUFrodo_THRA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = PACKING_TYPE_1
			Animation           
				AnimationName     = RUFrodo_THRA
				AnimationMode     = LOOP
			End
		End

		; -- Elf Cloak anims (No art yet, use Boromir for reference when hooking up)
		AnimationState        = UNPACKING PACKING_TYPE_2
			Animation           
				AnimationName     = RUFrodo_THRA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = PREPARING PACKING_TYPE_2
			Animation           
				AnimationName     = RUFrodo_THRA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = PACKING PACKING_TYPE_2
			Animation           
				AnimationName     = RUFrodo_THRA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = PACKING_TYPE_2
			Animation           
				AnimationName     = RUFrodo_THRA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = HIDDEN
			Animation           
				AnimationName     = RUFrodo_EATA
				AnimationMode     = LOOP
			End
		End
		
		;---------------------------

		AnimationState        = WEAPONLOCK_PRIMARY MOVING
			Animation           = RUNB
				AnimationName     = RUFrodo_RUNB
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			StateName           = Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "NoSword" then CurDrawableSetTransitionAnimState("TRANS_DrawSword") end
			EndScript
		End

		AnimationState        = USER_1
			Animation           = CinematicSigh
				AnimationName     = RUFrodo_SIEA
				AnimationMode     = LOOP
			End
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
			EndScript
		End

		AnimationState        = USER_2
			Animation           = CinematicNervousPutOnRing
				AnimationName     = RUFrodo_RNGB
				AnimationMode     = ONCE
			End
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
			EndScript
		End

		AnimationState        = MOVING
			Animation           = RUNA
				AnimationName     = RUFrodo_RUNA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
			EndScript
		End

; Although this state does indeed make him put on the ring, it doesn't look right without a "Putting on ring with sword drawn" anim as well.
; Plus, the stealth (and therefore transpanecy) is instant by design, so the longer the anim, the more wrong it looks.
;		AnimationState        = PUTTING_ON_RING
;			Animation           = PutOnRing
;				AnimationName     = RUFrodo_RNGA
;				AnimationMode     = ONCE
;			End
;			StateName           = NoSword
;			BeginScript
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
;			EndScript
;		End

		AnimationState        = STUNNED_FLAILING
			Animation           = FLYA
				AnimationName     = RUFrodo_FLYA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
			EndScript
		End

		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = RUFrodo_LNDA
				AnimationMode     = ONCE
			End
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
			EndScript
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GTPA
				AnimationName     = RUFrodo_GTPA
				AnimationMode     = ONCE
			End
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
			EndScript
		End

		AnimationState        = WEAPONLOCK_PRIMARY
			Animation           = IDLB
				AnimationName     = RUFrodo_IDLB
				AnimationMode     = LOOP
			End
			StateName           = Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "NoSword" then CurDrawableSetTransitionAnimState("TRANS_DrawSword") end
			EndScript
		End

		TransitionState       = TRANS_DrawSword
			Animation           = STHA
				AnimationName     = RUFrodo_STHA
				AnimationMode     = ONCE
			End
		End

		TransitionState       = TRANS_SheatheSword
			Animation           = STHA
				AnimationName     = RUFrodo_STHA
				AnimationMode     = ONCE_BACKWARDS
			End
			Flags               = START_FRAME_LAST 
		End
	End
	
	Draw = W3DLightDraw ModuleTag_DrawLight
		Ambient = R:0 G:0 B:25
		Diffuse = R:128 G:128 B:255
		Radius = 25
		Intensity = 50
		AttachToBoneInAnotherModule = SWORDBONE01
	End

	Draw = W3DScriptedModelDraw ModuleTag_LightController
		DefaultModelConditionState
			Model = None
		End
		
		ModelConditionState = SPECIAL_ENEMY_NEAR
			Model = RUFrodoStng_SKN
		End

		IdleAnimationState
			BeginScript
				CurDrawableHideModule("ModuleTag_DrawLight")
			EndScript
		End
		AnimationState = SPECIAL_ENEMY_NEAR
			BeginScript
				CurDrawableShowModule("ModuleTag_DrawLight")
			EndScript
		End

        AttachToBoneInAnotherModule = SWORDBONE01
	End
		
	; ***DESIGN parameters ***
	Side = Rohan
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThreatLevel = 4.0
	ThingClass = CHARACTER_UNIT

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    HobbitSword
		Weapon = SECONDARY	HobbitRockThrow
	End

	ArmorSet
		Conditions      = None
		Armor           = HeroArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 80.0
	DisplayName = OBJECT:RohanFrodo
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	
	CommandSet = RohanFrodoCommandSet

	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT HERO HOBBIT
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 700                  ;BALANCE Frodo Health
		MaxHealthDamaged  = 350
		RecoveryTime      = 5000
	End
	
	Behavior = LockWeaponCreate ModuleTag_ToggleToSwordToStart
		SlotToLock = PRIMARY
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes STEALTHED		;Even though this has Stealthed listed, it still can't allow targeting while Hidden (elf cloak).  Just while One Ring'd.
		MoodAttackCheckRate        = 500
		AILuaEventsList				=	FrodoFunctions
		HoldGroundCloseRangeDistance = 40
	End
	
	Behavior = AttributeModifierAuraUpdate ModuleTag_HeroRadiateFear
		StartsActive	= No ;If no, requires upgrade to turn on.
		BonusName		= HeroRadiateFear
		TriggeredBy		= Upgrade_HeroRadiateFear
		RefreshDelay	= 2000
		Range			= 120
		TargetEnemy		= Yes
		ObjectFilter	= ANY +ORC
	End	
	
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 32
	End
	
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL HumanVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Hobbit Unit Infantry
	End
	
	Behavior = StealthUpdate ModuleTag_StealthForCloakAndRing
	  StealthDelay                = 500         ; msec
	  FriendlyOpacityMin          = 10.0%
	  FriendlyOpacityMax          = 60.0%
	  PulseFrequency              = 750   ; msec
	  InnateStealth					= No	;I do not go stealthed just when standing around, I must be told through a command to go stealthed
	  OrderIdleEnemiesToAttackMeUponReveal  = Yes
	End
	
	Behavior = SpecialEnemySenseUpdate ModuleTag_StingSeesOrcs
		SpecialEnemyFilter = NONE +ORC +MordorShelob
		ScanRange = 200
		ScanInterval = 2000
	End

	Behavior = SpecialPowerModule ModuleTag_PhialStarter                      
		SpecialPowerTemplate      = SpecialAbilityPhialOfGaladriel
		UpdateModuleStartsAttack  = Yes
		;InitiateSound           = 
	End
	Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_PhialUpdate   
		SpecialPowerTemplate    = SpecialAbilityPhialOfGaladriel
		UnpackingVariation		= 1

;		StartAbilityRange       = 2.0

		UnpackTime              = 1700 ; Drawing the horn
		PreparationTime         = 1   ; nothing
		PersistentPrepTime      = 1600 ; Blowing
		PackTime                = 1666 ; Putting horn away

;    PackSound               = 
;    UnpackSound             = 
;    TriggerSound            = 
;    PrepSoundLoop           = 
		AwardXPForTriggering    = 0
	End

	Behavior = SpecialPowerModule ModuleTag_ElfCloakStarter
		SpecialPowerTemplate      = SpecialAbilityElfCloak
		UpdateModuleStartsAttack  = Yes
		;InitiateSound           = 
	End
	Behavior = ToggleHiddenSpecialAbilityUpdate ModuleTag_ElfCloakUpdate   
		SpecialPowerTemplate    = SpecialAbilityElfCloak
		UnpackingVariation		= 2
;		StartAbilityRange       = 2.0

		UnpackTime              = 1700 ; Drawing the horn
		PreparationTime         = 1   ; nothing
		PersistentPrepTime      = 1600 ; Blowing
		PackTime                = 1666 ; Putting horn away

;    PackSound               = 
;    UnpackSound             = 
;    TriggerSound            = 
;    PrepSoundLoop           = 
		AwardXPForTriggering    = 0
	End	

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

	Shadow = SHADOW_DECAL
	ShadowSizeX = 18;
	ShadowSizeY = 18;
	ShadowTexture = ShadowI;
End



;------------------------------------------------------------------------------
Object CINEBones01

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Cine_Bones01
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Cine_Bones01
  EditorSorting = MISC_NATURAL
  Browser = CINEMATICS MISC_NATURAL
  
   TransportSlotCount  = 1 

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE ROCK_VENDOR SELECTABLE IMMOBILE 
  Shadow = SHADOW_DECAL
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    
     GrabObject = RockGreyThrown01
	GrabOffset = X:16 Y:0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End

;------------------------------------------------------------------------------
Object CINE_SauronIsildur

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model     = GUISILDUR_CINA
      Skeleton  = GUISILDUR_CINA
    End
    
    AnimationState        = USER_1
			Animation           = DIEA
				AnimationName     = GUISILDUR_CINA
				AnimationMode     = ONCE
			End
		End
    
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Cine_Bones01
  EditorSorting = MISC_NATURAL
  Browser = CINEMATICS MISC_NATURAL
  
   TransportSlotCount  = 1 

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE ROCK_VENDOR SELECTABLE IMMOBILE 
  Shadow = SHADOW_DECAL
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    
     GrabObject = RockGreyThrown01
	GrabOffset = X:16 Y:0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End

;------------------------------------------------------------------------------
Object CINEBones02

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Cine_Bones02
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Cine_Bones02
  EditorSorting = MISC_NATURAL
  Browser = CINEMATICS MISC_NATURAL
  
   TransportSlotCount  = 1 

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE ROCK_VENDOR SELECTABLE IMMOBILE 
  Shadow = SHADOW_DECAL
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    
     GrabObject = RockGreyThrown01
	GrabOffset = X:16 Y:0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End


;------------------------------------------------------------------------------
Object CINEBones03

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Cine_Bones03
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Cine_Bones03
  EditorSorting = MISC_NATURAL
  Browser = CINEMATICS MISC_NATURAL
  
   TransportSlotCount  = 1 

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE ROCK_VENDOR SELECTABLE IMMOBILE 
  Shadow = SHADOW_DECAL
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    
     GrabObject = RockGreyThrown01
	GrabOffset = X:16 Y:0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End



;------------------------------------------------------------------------------
Object CINEBones04

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Cine_Bones04
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Cine_Bones04
  EditorSorting = MISC_NATURAL
  Browser = CINEMATICS MISC_NATURAL
  
   TransportSlotCount  = 1 

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE ROCK_VENDOR SELECTABLE IMMOBILE 
  Shadow = SHADOW_DECAL
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    
     GrabObject = RockGreyThrown01
	GrabOffset = X:16 Y:0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End



;------------------------------------------------------------------------------
Object CINETrollCave

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = TrollCave
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:CINETrollCave
  EditorSorting = MISC_NATURAL
  Browser = CINEMATICS MISC_NATURAL
  
   TransportSlotCount  = 1 

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE ROCK_VENDOR SELECTABLE IMMOBILE 
  Shadow = SHADOW_VOLUME
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    
     GrabObject = RockGreyThrown01
	GrabOffset = X:16 Y:0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End

;------------------------------------------------------------------------------
Object SauronDummy

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Cine_Sauron_M
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:SauronDummy
  EditorSorting = MISC_NATURAL
  Browser = CINEMATICS SYSTEM
  
   TransportSlotCount  = 1 

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE ROCK_VENDOR SELECTABLE IMMOBILE 
  Shadow = SHADOW_VOLUME
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    
     GrabObject = RockGreyThrown01
	GrabOffset = X:16 Y:0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End

;------------------------------------------------------------------------------
Object CINE_Sting

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Cine_Sting
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:CINE_Sting
  EditorSorting = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE
  
   TransportSlotCount  = 1 

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE ROCK_VENDOR SELECTABLE IMMOBILE 
  Shadow = SHADOW_VOLUME
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    
     GrabObject = RockGreyThrown01
	GrabOffset = X:16 Y:0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End

;------------------------------------------------------------------------------
Object CINE_Phial

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Cine_Phial
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:CINE_Phial
  EditorSorting = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE
  
   TransportSlotCount  = 1 

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE ROCK_VENDOR SELECTABLE IMMOBILE 
  Shadow = SHADOW_VOLUME
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
    
     GrabObject = RockGreyThrown01
	GrabOffset = X:16 Y:0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End


;------------------------------------------------------------------------------
Object CINEMatteScreen

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MatteScreen
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:MatteScreen
  EditorSorting = SYSTEM
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE IMMOBILE
  Shadow = NONE
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End
;------------------------------------------------------------------------------
; aka CaineAttckTroll
Object CINE_AttackTroll
  ; *** ART Parameters ***

;  SelectPortrait         = SP_CaveTroll
	SelectPortrait         = UPMordor_AttackTroll

  Draw = W3DScriptedModelDraw ModuleTag_01
    ExtraPublicBone = Trunk
    ShowShadowWhileContained = Yes
;	BurntTexture = twwater01.tga

    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

    DefaultModelConditionState
		Model = CinAtkTroll_SKN
		WeaponLaunchBone = PRIMARY Firepoint
	End

	ModelConditionState = BURNT_MODEL
		Model = CinAtkTroll_SKN	
	End


	IdleAnimationState
		StateName = Idle
		Animation = IDLA
			AnimationName = MUMntTroll_SKL.MUMntTroll_IDLA  ;JUST BREATHING
			AnimationMode = ONCE
			AnimationBlendTime = 10
			AnimationPriority = 10
		End
		Animation = IDLC
			AnimationName = MUMntTroll_SKL.MUMntTroll_IDLC  ;BELLY SCRATCH
			AnimationMode = ONCE
			AnimationBlendTime = 10
		End
		Animation = IDLE
			AnimationName = MUMntTroll_SKL.MUMntTroll_IDLE  ;ROAR THEN HIT GROUND
			AnimationMode = ONCE
			AnimationBlendTime = 10
		End
		Animation = IDLF
			AnimationName = MUMntTroll_SKL.MUMntTroll_IDLF  ;BIG ROAR
			AnimationMode = ONCE
			AnimationBlendTime = 10
		End
		Animation = IDLG
			AnimationName = MUMntTroll_SKL.MUMntTroll_IDLG  ;BUTT SCRATCH THEN BURP
			AnimationMode = ONCE
			AnimationBlendTime = 10
		End
		Animation = IDLH
			AnimationName = MUMntTroll_SKL.MUMntTroll_IDLH  ;SHORT ROAR
			AnimationMode = ONCE
			AnimationBlendTime = 10
		End
		Animation = IDLI
			AnimationName = MUMntTroll_SKL.MUMntTroll_IDLI  ;NOSE WIPE
			AnimationMode = ONCE
			AnimationBlendTime = 10
		End
		
		BeginScript
			CurDrawableHideSubObject("Trunk01")
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Throw"	then CurDrawableSetTransitionAnimState("Trans_Throwing_To_Ready") return end	
		EndScript
	End


; Flailing must go before dying in case we are dead in the air
	AnimationState = STUNNED_FLAILING
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_FLYA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End

	AnimationState				= STUNNED_STANDING_UP
		Animation				= MUMntTroll_GTPA
			AnimationName		= MUMntTroll_SKL.MUMntTroll_GTPA
			AnimationMode		= ONCE
		End

	End	
	AnimationState				= STUNNED
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_LNDA
			AnimationMode = ONCE
		End
			ParticleSysBone = B_PELVIS TrollSplatDust2
			ParticleSysBone = BAT_HEAD TrollSplatDust2
	End

    ; --------- With Club ------------

		AnimationState = MOVING WEAPONSTATE_ONE ATTACKING
			Animation
	      AnimationName = MUMntTroll_SKL.MUMntTroll_RUNA  ; Running with club
		    AnimationMode = LOOP
	      AnimationSpeedFactorRange = 0.77 0.77
			End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End

		AnimationState = MOVING WEAPONSTATE_ONE DAMAGED
			Animation
	      AnimationName = MUMntTroll_SKL.MUMntTroll_WLKB ; Walking with club
		    AnimationMode = LOOP
	      AnimationSpeedFactorRange = 1.3 1.3
			End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End

		AnimationState = MOVING WEAPONSTATE_ONE
			Animation
	      AnimationName = MUMntTroll_SKL.MUMntTroll_WLKB ; Walking with club 
		    AnimationMode = LOOP
	      AnimationSpeedFactorRange = 1.36 1.36
			End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End

	AnimationState = FIRING_OR_PREATTACK_A WEAPONSTATE_ONE
;		Animation
;			; Taking this one out since it doesn't work with the logic of the attack, which is a 180 knockback (this one is vertical clubbing, could be used as anti-monster anim, not anti bunch of inf)
;			AnimationName = MUMntTroll_SKL.MUMntTroll_ATKB
;			AnimationMode = ONCE
;			UseWeaponTiming		= Yes
;		End
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_ATKC
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_ATKD
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
	End

    AnimationState = PREPARING WEAPONSTATE_ONE
			Animation
				AnimationName = MUMntTroll_SKL.MUMntTroll_GRBC
				AnimationMode = ONCE
			End
		End

    AnimationState = PACKING WEAPONSTATE_ONE
			Animation
				AnimationName = MUMntTroll_SKL.MUMntTroll_GRBD
				AnimationMode = ONCE
			End
      BeginScript
				CurDrawableShowSubObject("Trunk01")
      EndScript
		End

		AnimationState = WEAPONSTATE_ONE
			Animation = IDLA
	      AnimationName = MUMntTroll_SKL.MUMntTroll_IDLB
	      AnimationMode = LOOP
				AnimationPriority = 15
		AnimationSpeedFactorRange = 0.8 1.0
			End
	Flags = RANDOMSTART
      BeginScript
				CurDrawableShowSubObject("Trunk01")
      EndScript
		End

; --------- With Rock or Infantry ------------

	AnimationState = MOVING WEAPONSTATE_TWO ATTACKING
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_RUNA 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 0.77 0.77
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
	End

	AnimationState = MOVING WEAPONSTATE_TWO DAMAGED
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_WLKB 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.3 1.3
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
	End

	AnimationState = MOVING WEAPONSTATE_TWO
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_WLKB 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.36 1.36
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
	End

	AnimationState = FIRING_OR_PREATTACK_A WEAPONSTATE_TWO
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_THRW
			AnimationMode = ONCE
			UseWeaponTiming = Yes
		End
		FrameForPristineBonePositions = 21
		StateName = Throw
	End
	
	AnimationState = FIRING_OR_PREATTACK_B WEAPONSTATE_TWO
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_THRW
			AnimationMode = ONCE
			UseWeaponTiming = Yes
		End
		FrameForPristineBonePositions = 21
		StateName = Throw
	End

	AnimationState = PACKING WEAPONSTATE_TWO
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_GRBB
			AnimationMode = ONCE
		End
	End

	;Building attack, which you can do with a rock in yo hand
	AnimationState = FIRING_OR_PREATTACK_C WEAPONSTATE_TWO
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_ATKF
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
	End

	AnimationState = WEAPONSTATE_TWO
		Animation = IDLB
			AnimationName = MUMntTroll_SKL.MUMntTroll_IDLB
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 0.8 1.0
		End
			Flags = RANDOMSTART
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	
; ------ SWINGING THE GROND BATTERING RAM -----
   ModelConditionState = PASSENGER
		Model =  MUGrndTrl_SKN
	End

	AnimationState = PREATTACK_A PASSENGER PASSENGER_VARIATION_1 ; swinging grond
			Animation = grasping_grond_lefthanded
			AnimationName =  MUGrndTrl_SKL.MUGrndTrl_GAA1
			AnimationMode = ONCE
			AnimationBlendTime = 15				
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End
	AnimationState = PREATTACK_A PASSENGER PASSENGER_VARIATION_2 ; swinging grond
			Animation = grasping_grond_righthanded
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GAB1
			AnimationMode = ONCE
			AnimationBlendTime = 15
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = FIRING_A PASSENGER_VARIATION_1 ; swinging grond
		Animation = swinging_grond_lefthanded
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GAA2
			AnimationMode = ONCE
			AnimationBlendTime = 5	
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End
	AnimationState = FIRING_A PASSENGER_VARIATION_2 ; swinging grond
		Animation = swinging_grond_righthanded
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GAB2
			AnimationMode = ONCE
			AnimationBlendTime = 5			
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = BETWEEN_FIRING_SHOTS_A PASSENGER PASSENGER_VARIATION_1 ; swinging grond
		Animation = swinging_grond_lefthanded
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GAA4
			AnimationMode = ONCE
			AnimationBlendTime = 15	
		End

		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End
	AnimationState = BETWEEN_FIRING_SHOTS_A PASSENGER PASSENGER_VARIATION_2 ; swinging grond
		Animation = swinging_grond_righthanded
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GAB4
			AnimationMode = ONCE
			AnimationBlendTime = 15	
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End


	AnimationState = UNPACKING PASSENGER PASSENGER_VARIATION_1 ; swinging grond
			Animation = packing_grond_lefthanded
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GAA4
			AnimationMode = ONCE
			AnimationBlendTime = 15				
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End
	AnimationState = UNPACKING PASSENGER PASSENGER_VARIATION_2 ; swinging grond
			Animation = packing_grond_righthanded
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GAB4
			AnimationMode = ONCE
			AnimationBlendTime = 15			
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript		
	End

; --------- With Bare Hands ------------
	AnimationState = PASSENGER MOVING BACKING_UP; pulling the seige tower or grond
			Animation = Passenger_moving
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GBKA
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 2.0 2.0
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript		
		Flags = RANDOMSTART
	End

	AnimationState = PASSENGER MOVING ; pushing the seige tower
			Animation = Passenger_moving
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GWKA
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 2.5 2.5
		End
		Flags = RANDOMSTART
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = PASSENGER ; idling by the grond
		Animation = Passenger
			AnimationName = MUGrndTrl_SKL.MUGrndTrl_GIDA
			AnimationMode = LOOP
			AnimationBlendTime = 15
		End
		Flags = RANDOMSTART
		BeginScript
				CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = UNPACKING
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_GRBA
			AnimationMode = ONCE
		End
	End

	AnimationState = MOVING TURN_LEFT
		Animation = Moving
			AnimationName = MUMntTroll_SKL.MUMntTroll_TRNL
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = MOVING TURN_RIGHT
		Animation = Moving
			AnimationName = MUMntTroll_SKL.MUMntTroll_TRNR
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = MOVING ATTACKING
		Animation = Charging
			AnimationName = MUMntTroll_SKL.MUMntTroll_RUNB
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 0.8 0.8
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = MOVING DAMAGED
		Animation = Moving_Damaged
			AnimationName = MUMntTroll_SKL.MUMntTroll_WLKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	; Normal fist attacks
	AnimationState = FIRING_OR_PREATTACK_B
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_ATKA
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_ATKE
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_ATKG
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	;Building attack
	AnimationState = FIRING_OR_PREATTACK_C
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_ATKF
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
	End
	

	AnimationState = DYING SPLATTED
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_LNDA
			AnimationMode = ONCE
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript	
	End


	AnimationState = DYING DEATH_1
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_DIEA
			AnimationMode = ONCE
		End

		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
			ParticleSysBone = B_PELVIS TrollSplatDust
			ParticleSysBone = BAT_HEAD TrollSplatDust
	End

	AnimationState = DYING DEATH_2
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_DIEB
			AnimationMode = ONCE
		End

		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
			ParticleSysBone = BAT_SPINE1 TrollSplatDust1
			ParticleSysBone = BAT_HEAD TrollSplatDust1
	End

	AnimationState = DYING AFLAME
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_MFDA
			AnimationMode = ONCE
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = DYING
		Animation
			AnimationName     =  MUMntTroll_SKL.MUMntTroll_DIEB
			AnimationMode     = ONCE
		End
 		BeginScript
 			CurDrawableHideSubObject("Trunk01")
 		EndScript		
	End
	
	AnimationState				= MOVING PANICKING
		Animation				= RUNM
			AnimationName		=  MUMntTroll_SKL.MUMntTroll_MFDA
			AnimationMode		= LOOP
		End
		Flags					= RANDOMSTART
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = MOVING
		Animation = Moving
			AnimationName = MUMntTroll_SKL.MUMntTroll_WLKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
		BeginScript
			CurDrawableHideSubObject("Trunk01")
		EndScript
	End

	AnimationState = ENGAGED
		Animation
			AnimationName = MUMntTroll_SKL.MUMntTroll_IDLA
			AnimationMode = LOOP
		End
		BeginScript
			CurDrawableHideSubObject("Trunk01")
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Throw"	then CurDrawableSetTransitionAnimState("Trans_Throwing_To_Ready") return end	
		EndScript
	End
	
	
		AnimationState =DESTROYED_WEAPON
			Animation
				AnimationName = MUMntTroll_SKL.MUMntTroll_ATKA
				AnimationMode = ONCE
			End

			BeginScript
				CurDrawableHideSubObject("Trunk01")
			EndScript
		End
	

; --------- Click and Hit Reactions ------------
		
    AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
	      AnimationName = MUMntTroll_SKL.MUMntTroll_HITC
		    AnimationMode = ONCE
			End
    End

    AnimationState = HIT_REACTION HIT_LEVEL_2
			Animation = Hit_Level_2
	      AnimationName = MUMntTroll_SKL.MUMntTroll_HITB
		    AnimationMode = ONCE
			End
    End

    AnimationState = HIT_REACTION HIT_LEVEL_3
			Animation = Hit_Level_3
	      AnimationName = MUMntTroll_SKL.MUMntTroll_HITA
		    AnimationMode = ONCE
			End
    End

    AnimationState = REACT_1
			Animation = Click_React_1
	      AnimationName = MUMntTroll_SKL.MUMntTroll_RCTA
		    AnimationMode = ONCE
			End
    End

    AnimationState = REACT_2
			Animation = Click_React_2
	      AnimationName = MUMntTroll_SKL.MUMntTroll_RCTB
		    AnimationMode = ONCE
			End
    End

    AnimationState = REACT_3
			Animation = Click_React_3
	      AnimationName = MUMntTroll_SKL.MUMntTroll_RCTC
		    AnimationMode = ONCE
			End
    End

    AnimationState = REACT_4
			Animation = Click_React_4
	      AnimationName = MUMntTroll_SKL.MUMntTroll_RCTD
		    AnimationMode = ONCE
			End
    End

    AnimationState = REACT_5
			Animation = Click_React_5
	      AnimationName = MUMntTroll_SKL.MUMntTroll_RCTE
		    AnimationMode = ONCE
			End
    End
    
;-----------------------------------
;Emotion
   	AnimationState = EMOTION_MORALE_HIGH
		Animation
			AnimationName	=	MUMntTroll_SKL.MUMntTroll_IDLE
			AnimationMode	=	ONCE
		End
		Animation
			AnimationName	=	MUMntTroll_SKL.MUMntTroll_IDLF
			AnimationMode	=	ONCE
		End
		
		Animation
			AnimationName	=	MUMntTroll_SKL.MUMntTroll_IDLH
			AnimationMode	=	ONCE
		End
		Flags	=	RESTART_ANIM_WHEN_COMPLETE
	End

  End
 
  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
  TransportSlotCount = 1

  WeaponSet
    Conditions          =  None
    Weapon              =  PRIMARY    MordorCaveTrollRockThrow
    Weapon              =  SECONDARY  MordorCaveTrollPunch
    Weapon              =  TERTIARY   MordorCaveTrollBash
    OnlyAgainst         =  TERTIARY   STRUCTURE BLOCKING_GATE
  End

  WeaponSet
    Conditions          = PASSENGER_TYPE_ONE 
    Weapon              = PRIMARY     MordorCaveTrollClubSwing
  End

  WeaponSet
    Conditions          = RAMPAGE
    Weapon              = PRIMARY     MordorCaveTrollRampage
  End

  ArmorSet
    Conditions      = None
    Armor           = CavalryArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 40.0
  ShroudClearingRange = 120
  DisplayName = OBJECT:MordorMountainTroll
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MordorCaveTrollCommandSet
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT WORKING_PASSENGER NO_FREEWILL_ENTER
 
    BuildCost = 1400
    BuildTime = 30.0

  Body = ActiveBody ModuleTag_02
    MaxHealth         = 400                  ;BALANCE CaveTroll Health
    MaxHealthDamaged  = 200
    RecoveryTime      = 5000
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
     AILuaEventsList = TrollFunctions
  End

	Behavior = AutoPickUpUpdate AutoPickUpModuleTag
		ScanDelayTime = 1500
		PickUpKindOf = ROCK CLUB
	End

  LocomotorSet
    Locomotor = HumanChargeLocomotor
    Condition = SET_NORMAL 
    Speed     = 26
  End

  LocomotorSet
    Locomotor = HumanWanderLocomotor
    Condition = SET_WANDER
    Speed     = 24
  End
  
	LocomotorSet
		Locomotor	=	HumanPanicLocomotor
		Condition	=	SET_PANIC
		Speed		=	96
	End

;  Behavior = FlammableUpdate FlammableModuleTag_15
;    AflameDuration = 5000 ; Burn until expressly put out.  Made of wood and all.
;    AflameDamageDelay = 999999 ; No Thag, just for looks.
;    AflameDamageAmount = 0
;    FlameDamageLimit = 1; Catch fire from just 1 flame damage point
    
;    SwapModelWhenAflame = Yes
;    SwapModelWhenQuenched = Yes
;    SwapTextureWhenAflame = Yes
;    SwapTextureWhenQuenched = Yes
    
;    FireFXList = FX:FX_ForgeChimneySmoke BONE:B_SPINE
;    FireFXList = FX:FX_ForgeChimneySmoke BONE:BAT_HEAD
;    FireFXList = FX:FX_ForgeChimneySmoke BONE:B_SPINE
;    FireFXList = FX:FX_ForgeChimneySmoke BONE:BAT_HEAD
;    FireFXList = FX:FX_ForgeSteam BONE:B_SPINE
;    FireFXList = FX:FX_ForgeSteam BONE:BAT_HEAD
;    FireFXList = FX:FX_ForgeSparks BONE:B_SPINE
;  End

  Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
    HitReactionLifeTimer1 = 45 ; level 1 (light  damage)  hit reaction animations in frames (30 per sec)
    HitReactionLifeTimer2 = 90 ; level 2 (medium damage)  hit reaction animations in frames (30 per sec)
    HitReactionLifeTimer3 = 60 ; level 3 (heavy  damage)  hit reaction animations in frames (30 per sec)

    HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
    HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
    HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
  End

  Behavior = ClickReactionBehavior ClickBehaviorModuleTag
    ClickReactionTimer = 600 ; 10 seconds in ticks
    ReactionFrames1 = 90  ; in frames (30 per sec)
    ReactionFrames2 = 45  ; in frames (30 per sec)
    ReactionFrames3 = 45  ; in frames (30 per sec)
    ReactionFrames4 = 90  ; in frames (30 per sec)
    ReactionFrames5 = 110 ; in frames (30 per sec)
  End

  ;Behavior = RampageBehavior  RampageBehaviorModuleTag
  ;  RampageHealthThreshold = 0.25  ; 25% of health left will trigger rampage mode
  ;  RampageLifeTimer = 150         ; 5 seconds in ticks (1 round of rampage)
  ;  RampageAngryLifeTimer = 90     ; 3 seconds in ticks (1 round of angry animation)
  ;  RampageResetTimer = 900        ; 30 seconds in ticks
  ;  RampageEnemyCheckRange = 100.0 ; look for enemies around this range
  ;  RampageEnemyThreshold = 3      ; need to have atleast 3 enemies around before rampage is triggered
  ;End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStandingTime = 27800	;msec
  End 
 
  Behavior = SlowDeathBehavior ModuleTag_50
    DeathTypes = ALL -KNOCKBACK
    DestructionDelay = 35000
    DecayBeginTime = 5000
    SinkDelay = 18000
    SinkRate = 0.64     ; in Dist/Sec
    Sound = INITIAL TrollDie
    ProbabilityModifier = 50
    DeathFlags   = DEATH_1 ; Tell model which death animation to play. Sets BOTH model condition and object status bits.
  End

  Behavior = SlowDeathBehavior ModuleTag_51
    DeathTypes = ALL -KNOCKBACK
    DestructionDelay = 35000
    DecayBeginTime = 5000
    SinkDelay = 18000
    SinkRate = 0.64     ; in Dist/Sec
    Sound = INITIAL TrollDie
    ProbabilityModifier = 50
    DeathFlags   = DEATH_2 ; Tell model which death animation to play. Sets BOTH model condition and object status bits.
  End

  Behavior = SlowDeathBehavior ModuleTag_52
    ; Same as normal death, but no sound (sound already played by SoundImpact = ... )
    DeathTypes = NONE +KNOCKBACK
    DestructionDelay = 35000
    DecayBeginTime = 5000
    SinkDelay = 18000
    SinkRate = 0.64     ; in Dist/Sec
    DeathFlags   = DEATH_1 ; Tell model which death animation to play. Sets BOTH model condition and object status bits.
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Behavior = SpecialPowerModule ModuleTag_07                      
    SpecialPowerTemplate      = SpecialAbilityGrabPassenger
    UpdateModuleStartsAttack  = Yes
    ;InitiateSound           = 
  End
  Behavior = SpecialAbilityUpdate ModuleTag_08                
    SpecialPowerTemplate    = SpecialAbilityGrabPassenger
    StartAbilityRange       = 8.0

    UnpackTime              = 533 ; Nothing to touching it
    PreparationTime         = 1   ; touching it to grabbing it
    PersistentPrepTime      = 833 ; grabbing it to whacking it on the ground (if shrubbery)
    PackTime                = 466 ; whacking it to holding it nice

;    PackSound               = 
;    UnpackSound             = 
;    TriggerSound            = 
;    PrepSoundLoop           = 
    AwardXPForTriggering    = 0
  End

  Behavior = TransportContain ModuleTag_09
	ObjectStatusOfContained = UNSELECTABLE
    PassengerFilter = ANY +CLUB +THROWN_OBJECT
    Slots = 1
    ShowPips = No
    AllowEnemiesInside = Yes
    AllowNeutralInside = Yes
    AllowAlliesInside  = Yes
    DamagePercentToUnits = 0%
    TypeOneForWeaponSet = CLUB
;    TypeTwoForWeaponSet = THROWN_OBJECT
    
    TypeOneForWeaponState = CLUB
    TypeTwoForWeaponState = THROWN_OBJECT

    PassengerBonePrefix = PassengerBone:Trunk       KindOf:CLUB
    PassengerBonePrefix = PassengerBone:Firepoint   KindOf:ROCK
    PassengerBonePrefix = PassengerBone:Trunk       KindOf:INFANTRY
  End
     
  ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: MordorGrondTrollAttack Animation:MUGRNDTRL_SKL.MUGRNDTRL_GAA2 Frames: 78  Animation:MUGRNDTRL_SKL.MUGRNDTRL_GAB2 Frames: 80 
		AnimationSound = Sound: MordorGrondTrollAttack Animation:MUGRNDTRL_SKL.MUGRNDTRL_GATA Frames: 137 
		AnimationSound = Sound: MordorTrollIdleA Animation:MUMNTTROLL_SKL.MUMNTTROLL_IDLA Frames: 13 
		AnimationSound = Sound: MordorGrondTrollPush Animation:MUGRNDTRL_SKL.MUGRNDTRL_GWKA Frames: 41 
		AnimationSound = Sound: MordorTrollIdleB Animation:MUMNTTROLL_SKL.MUMNTTROLL_IDLB Frames: 7 
		AnimationSound = Sound: MordorTrollIdleE Animation:MUMNTTROLL_SKL.MUMNTTROLL_IDLE Frames: 10 
		AnimationSound = Sound: MordorTrollIdleF Animation:MUMNTTROLL_SKL.MUMNTTROLL_IDLF Frames: 8 
		AnimationSound = Sound: MordorTrollIdleG Animation:MUMNTTROLL_SKL.MUMNTTROLL_IDLG Frames: 101 
		AnimationSound = Sound: MordorTrollIdleH Animation:MUMNTTROLL_SKL.MUMNTTROLL_IDLH Frames: 2 
		AnimationSound = Sound: MordorTrollIdleI Animation:MUMNTTROLL_SKL.MUMNTTROLL_IDLI Frames: 102 
End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	Key = Monster Unit Infantry
    UnitWeight = 2 ; Trollsie counts as 2 infantry when computing group size
  End
 
 
  Geometry = CYLINDER
  GeometryMajorRadius = 17.6
  GeometryHeight = 32.0
  GeometryIsSmall = No
  Shadow                = SHADOW_VOLUME
 ; Shadow = SHADOW_VOLUME_NON_SELF_2; volumetric shadow that doesn't cast onto all objects using SHADOW_VOLUME_NON_SELF_2
 ; ShadowSizeX = 45; clamp the angle so shadow isn't as long.
 ; ShadowSizeX = 14;
 ; ShadowSizeY = 14;
 ; ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
; Gothmog
Object CINE_Gothmog
	; *** ART Parameters ***
	; NOTE: If you are updating any of the art parameters, you should really check
	; GondorCavalryRiderless in FactionSubObject.ini and see if it needs to be updated

	SelectPortrait         = SP_Gondor_Horseman

	Draw = W3DScriptedModelDraw ModuleTag_01 
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD


		DefaultModelConditionState
			Model					= MUGTHRDR_SKN
		End

		IdleAnimationState
			Animation				=	IdleA
				AnimationName		=	IUWargridr_SKL.IUWargridr_IDLA
				AnimationPriority	=	20
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
			Animation				=	IdleB
				AnimationName		=	IUWargridr_SKL.IUWargridr_IDLB
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
				;ParticleSysBone			=	Weapon FireTorch FollowBone:Yes
				;ParticleSysBone			=	Weapon OrcTorchFlare FollowBone:Yes 
			End
			ParticleSysBone			=	Weapon GothmogTorch FollowBone:Yes
			ParticleSysBone			=	Weapon GothmogFlare FollowBone:Yes 
		End
		; --- stunned anims
;		AnimationState				=	STUNNED_FLAILING 
;			Animation				=	JustDie
;				AnimationName		=	RURohrm_SKL.RURohrm_FLYA
;				AnimationMode		=	LOOP
;			End
;			Flags					=	RANDOMSTART
;		End

;		AnimationState				=	STUNNED 
;			Animation				=	Land
;				AnimationName		=	RURohrm_SKL.RURohrm_LNDA
;				AnimationMode		=	ONCE
;			End
;		End

;		AnimationState				=	STUNNED_STANDING_UP
;			Animation				=	StandUp
;				AnimationName		=	RURohrm_SKL.RURohrm_GTPA
;				AnimationMode		=	ONCE
;			End
;		End

		; This is the no-spawn-horse type of death
		AnimationState				=	DYING     ; DEATH_2 Normally has DEATH_2, but just as a backup don't insist
			Animation				=	JustDie
				AnimationName		=	IUWargRidr_SKL.IUWargridr_DIEA
				AnimationMode		=	ONCE
			End
		End
		
		; When the rider is killed, we call this animation even though the unit hasn't officially died yet.
;		AnimationState				=	DEATH_2
;			Animation				=	JustDie
;				AnimationName       =	RURohrm_SKL.RURohrm_DIEB
;				AnimationMode       =	ONCE
;			End
;		End
		
;		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
;			Animation					= TerrorFromTheSky
;				AnimationName			= RURohrm_SKL.RURohrm_RUNB
;				AnimationMode			= LOOP
;			End
;		End
		
;		AnimationState = MOVING ENGAGED
;			Animation = Moving_Engaged
;				AnimationName = RURohrm_SKL.RURohrm_RUNC
;				AnimationMode = LOOP
;			End
;			Flags               = RANDOMSTART
;		End

;		AnimationState				=	MOVING TURN_LEFT 
;			Animation				=	TurnLeft
;				AnimationName		=	RURohrm_SKL.RURohrm_TRNL
;				AnimationMode		=	LOOP
;			End
;;			ParticleSysBone			=	None CalvaryDustTrails
;		End

;		AnimationState				=	MOVING TURN_RIGHT 
;			Animation				=	TurnRight
;				AnimationName		=	RURohrm_SKL.RURohrm_TRNR
;				AnimationMode		=	LOOP
;			End
;;			ParticleSysBone			=	None CalvaryDustTrails
;		End
	
;		AnimationState				=	MOVING ACCELERATE
;			Animation				=	Accelerate
;				AnimationName		=	RURohrm_SKL.RURohrm_ACCL
;				AnimationMode		=	LOOP
;			End
;			ParticleSysBone			=	None CalvaryDustTrails
;		End

;		AnimationState				=	MOVING DECELERATE
;			Animation				=	Decelerate
;				AnimationName		=	RURohrm_SKL.RURohrm_DECL
;				AnimationMode		=	ONCE
;			End
;			ParticleSysBone			=	None CalvaryDustTrails
;		End




		AnimationState				=	MOVING
			Animation				=	RunA
				AnimationName		=	IUWargRidr_SKL.IUWargridr_RUNA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			ParticleSysBone			=	None CalvaryDustTrails 
			ParticleSysBone			=	Weapon GothmogTorch FollowBone:Yes
			ParticleSysBone			=	Weapon GothmogFlare FollowBone:Yes 
		End

		AnimationState				=	ATTACKING
			Animation				=	AttackA1
				AnimationName		=	IUWargRidr_SKL.IUWargridr_ATA1
				AnimationMode		=	ONCE
			End
			Animation				=	AttackA2
				AnimationName		=	IUWargRidr_SKL.IUWargridr_ATA1
				AnimationMode		=	ONCE
			End
			
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End

		; This is what happens when Theo gives his rousing speech
		;AnimationState				=	EMOTION_GUNG_HO
		;	Animation				=	CheerA
		;		AnimationName		=	RURohrm_SKL.RURohrm_CHRA
		;		AnimationMode		=	ONCE
		;		AnimationBlendTime	=	74
        ;       AnimationMustCompleteBlend = yes
		;	End
		;	Animation				=	CheerB
		;		AnimationName		=	RURohrm_SKL.RURohrm_CHRB
		;		AnimationMode		=	ONCE
		;		AnimationBlendTime	=	74
        ;       AnimationMustCompleteBlend = yes
		;	End
		;	Animation				=	CheerC
		;		AnimationName		=	RURohrm_SKL.RURohrm_CHRC
		;		AnimationMode		=	ONCE
		;		AnimationBlendTime	=	74
        ;       AnimationMustCompleteBlend = yes
		;	End
		;	Animation				=	CheerD
		;		AnimationName		=	RURohrm_SKL.RURohrm_CHRD
		;		AnimationMode		=	ONCE
		;		AnimationBlendTime	=	74
        ;       AnimationMustCompleteBlend = yes
		;	End
		;	Animation				=	Salute
		;		AnimationName		=	RURohrm_SKL.RURohrm_SLTA
		;		AnimationMode		=	ONCE
		;		AnimationBlendTime	=	74
        ;       AnimationMustCompleteBlend = yes
		;	End
		;End

		AnimationState				=	SELECTED
			SimilarRestart			=   Yes
			Animation				=	AtAttention
				AnimationName		=	IUWargridr_SKL.IUWargridr_ATNA
				AnimationMode		=	ONCE
			End
			ParticleSysBone			=	Weapon GothmogTorch FollowBone:Yes
			ParticleSysBone			=	Weapon GothmogFlare FollowBone:Yes 
		End
		
			
		;AnimationState				=	EMOTION_CELEBRATING
		;		Animation           =	CHRA
		;			AnimationName   =	RURohrm_SKL.RURohrm_CHRA
		;			AnimationMode   =	ONCE
		;			AnimationPriority	=	10
		;		End
		;		Animation           =	CHRB
		;			AnimationName   =	RURohrm_SKL.RURohrm_CHRB
		;			AnimationMode   =	ONCE
		;			AnimationPriority	=	5
		;		End
		;		Flags				=	RESTART_ANIM_WHEN_COMPLETE
		;		
		;	End
			
		AnimationState					= EMOTION_ALERT EMOTION_MORALE_HIGH
			Animation					= Taunting
				AnimationName			= IUWargRidr_SKL.IUWargridr_TNTA
				AnimationMode			= ONCE
			End
			;Animation					= Taunting2
			;	AnimationName			= RURohrm_SKL.RURohrm_TNTB
			;	AnimationMode			= ONCE
			;End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End
		
		;AnimationState					= EMOTION_AFRAID
		;	Animation					= FERA
		;		AnimationName			= RURohrm_SKL.RURohrm_FERA
		;		AnimationMode			= LOOP
		;	End
		;	Animation					= FERB
		;		AnimationName			= RURohrm_SKL.RURohrm_FERB
		;		AnimationMode			= LOOP
		;	End
		;End
				
		;AnimationState					=	EMOTION_ALERT EMOTION_AFRAID
		;	Animation					=	Apprehensive
		;		AnimationName			=	RURohrm_SKL.RURohrm_APPA
		;		AnimationMode			=	LOOP	;Change this to ONCE if adding additional anims
		;	End
		;End
		
End

	Draw = W3DLightDraw ModuleTag_05
		Ambient = R:0 G:0 B:0
		Diffuse = R:255 G:100 B:0
		Radius = 90
		Intensity = 6
		AttachToBoneInAnotherModule = Weapon
	End 
	
	; NOTE, PLEASE: If you are changing this unit in any way, you should consider changing 
	; GondorCavalryRiderless in FactionSubObject.ini

	; ***DESIGN parameters ***
	Side = Mordor
	Browser = CINEMATICS UNIT
	EditorSorting = UNIT
	ThreatLevel = 1.0
	TransportSlotCount = 1
	ArmorSet
		Conditions      = None
		Armor           = CavalryArmor
		DamageFX        = NormalDamageFX
	End
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    WargRiderWeapon
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	VisionRange = 280.0
	DisplayName = OBJECT:IsengardWargRider
	CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 1
	
	MinCrushVelocityPercent = 50 ; Has to be moving at at least 50% of full speed.
	CrushDecelerationPercent =10 ; Lose 10 percent of max velocity when crushing.
	
	RamPower = 30;
	RamZMult = 0.5;

	; *** AUDIO Parameters ***;

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	ThingClass = CAVALRY_UNIT

	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE 
	
	Body = DetachableRiderBody ModuleTag_02
		MaxHealth		= 250                  ;BALANCE Rohirrim Health
		MaxHealthDamaged	= 125
		RecoveryTime		= 5000
		HealthPercentageWhenRiderDies = 50%		;When the unit "dies" the rider will be killed and the unit will be set to this health %.
		;TriggeredBy			= Upgrade_RohanHorseDiscipline
		StartsActive		= Yes  ;When set no upgrade is required
	End
	Behavior = DetachableRiderUpdate ModuleTag_DetachableRiderUpdate01
		;List of any number of subobject names to toggle off when rider is killed. 
		;When new rider joins unit, the subobjects will be turned back on.
		RiderSubObjects = RUROHRM SHIELD 

		;When unit is riderless, the weapon will get locked to this slot.
		RiderlessWeaponSlot = SECONDARY
		
		;When entire horde is riderless, will they all flee off the map? (player loses control)
		RiderlessHordeFlees = Yes	;***NOTE*** If set, requires RunOffMapBehavior module!

		;When the rider is killed, a random death entry will be chosen. It plays specified animation,
		;the animationTime must match the length of the animation, and after the animation is finished,
		;the specified OCL will be created to leave a dead rider behind.
		DeathEntry =	AnimState:DEATH_2	AnimTime:3000	RiderOCL:OCL_RohirrimSpawnDeadRider
	End
 
	Behavior = RunOffMapBehavior ModuleTag_RunOff
		RequiresSpecificTrigger = Yes ;Triggers when DetachableRiderUpdate says so!
	End
   	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes
		AILuaEventsList	=	WargRiderFunctions
	End

	LocomotorSet
		Locomotor = HorseLocomotor
		Condition = SET_NORMAL 
		Speed     = 56
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End


	Behavior = SlowDeathBehavior ModuleTag_08
		; Die and don't spawn horse
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 10000
		;ProbabilityModifier = 33
		DeathFlags = DEATH_2 ; Tell model which death animation to play. Sets BOTH model condition and object status bits.
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Cavalry
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 10.4
	GeometryMinorRadius = 10.4
	GeometryHeight = 20.0
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
	ShadowSizeX = 32;
	ShadowSizeY = 20;
	ShadowTexture = ShadowI;

	; So the question you need to ask yourself is: do I need to change GondorCavalryRiderless?
	; Well, do ya, punk?
End


;------------------------------------------------------------------------------
Object CINE_OrcWithPike              ;BALANCE Isengard Pikeman
  ; *** ART Parameters ***

  SelectPortrait         = SP_OrcAxe

  Draw = W3DScriptedModelDraw ModuleTag_01

    ; Arrow sticking
    DefaultModelConditionState
      Model = MUOrcPike_SKN
    End

		IdleAnimationState
			Animation = IDLA
	      AnimationName = IUPikeman_SKL.IUPikeman_IDLA
	      AnimationMode = ONCE
				AnimationPriority = 15
			End
			Animation = IDLB
	      AnimationName = IUPikeman_SKL.IUPikeman_IDLB
	      AnimationMode = ONCE
				AnimationPriority = 10
			End
			Animation = IDLC
	      AnimationName = IUPikeman_SKL.IUPikeman_IDLC
	      AnimationMode = ONCE
			End
			StateName = Idle
		End
 
    AnimationState = MOVING
			Animation = Moving_1
	      AnimationName = IUPikeman_SKL.IUPikeman_RUNA
		    AnimationMode = LOOP
			End
			Animation = Moving_2
	      AnimationName = IUPikeman_SKL.IUPikeman_RUNB
		    AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
    End


	AnimationState =  FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
		Animation = ATKC
			AnimationName		= IUPikeman_SKL.IUPikeman_ATKC
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
	End
	

	AnimationState = FIRING_OR_PREATTACK_A AIM_HIGH 
		Animation = ATKB
			AnimationName		= IUPikeman_SKL.IUPikeman_ATKB
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
	End
	

	AnimationState =  FIRING_OR_PREATTACK_A
		Animation = ATKA
			AnimationName		= IUPikeman_SKL.IUPikeman_ATKA
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
	End

    AnimationState = DYING SPLATTED
 			Animation = Splattered_On_Ground_1
				AnimationName = IUPikeman_SKL.IUBanner_LNDA
	      AnimationMode = ONCE
			End
 			Animation = Splattered_On_Ground_2
				AnimationName = IUPikeman_SKL.IUBanner_LNDB
	      AnimationMode = ONCE
			End
    End

     AnimationState = DYING AFLAME
			Animation = Flaming_Death
	      AnimationName = IUPikeman_SKL.IUPikeman_MFDA
		    AnimationMode = ONCE
			End
    End

    AnimationState = DYING
			Animation = Dying_1
	      AnimationName = IUPikeman_SKL.IUPikeman_DTHA
		    AnimationMode = ONCE
			End
			Animation = Dying_2
	      AnimationName = IUPikeman_SKL.IUPikeman_DTHB
		    AnimationMode = ONCE
			End
    End
 
    ; --- stunned anims
    AnimationState = STUNNED_FLAILING
 			Animation = Flying_1
				AnimationName = IUPikeman_SKL.IUPikeman_FLYA
	      AnimationMode = LOOP
			End
 			Animation = Flying_2
				AnimationName = IUPikeman_SKL.IUPikeman_FLYB
	      AnimationMode = LOOP
			End
 			Animation = Flying_3
				AnimationName = IUPikeman_SKL.IUPikeman_FLYC
	      AnimationMode = LOOP
			End
      Flags = RANDOMSTART
    End

    AnimationState = STUNNED
 			Animation = Splattered_On_Ground
				AnimationName = IUPikeman_SKL.IUPikeman_LNDA
	      AnimationMode = ONCE
			End
    End

    AnimationState = STUNNED_STANDING_UP
 			Animation = Standing_Back_Up
				AnimationName = IUPikeman_SKL.IUPikeman_GTPA
	      AnimationMode = ONCE
			End
    End
  End
  
  ; ***DESIGN parameters ***
  Side = Isengard
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
  ThingClass = HORDE_UNIT
  CommandPoints = 1

  TransportSlotCount = 1
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    IsengardPikemanPike ;BALANCE Isengard Pikeman Weapon
  End
	
  ArmorSet
    Conditions      = None
    Armor           = ArcherArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 80.0
  DisplayName = OBJECT:IsengardPikeman
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
;  CommandSet = MordorFighterCommandSet

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER SCORE THROWN_OBJECT
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = 150                  ;BALANCE Isengard Pikeman Health
    MaxHealthDamaged  = 75
    RecoveryTime      = 5000
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 500
    HoldGroundCloseRangeDistance = 80
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 36
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 16
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStunnedTimeLow = 9000
    ShockStunnedTimeHigh = 15000
    ShockStandingTime = 6000
  End
  
  Behavior = AimWeaponBehavior AimWeaponModuleTag
		AimHighThreshold =  0.15
	End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Behavior = SlowDeathBehavior ModuleTag_07
    ; Same as normal death, but no sound (sound already played by SoundImpact = ... )
    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 24
    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 70%
    TumbleRandomly = Yes

    CrushStyle = Yes ; I don't detonate, I just hit
    DieOnImpact = Yes
    BounceCount = 1   ; When I hit the ground, I'll arc again
    BounceDistance = 40 ; this far
    BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight = 24
    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX       = FX_ThrownRockGroundHit
    GroundBounceFX    = FX_ThrownRockBounceHit
  End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc Unit Infantry
  End
 
 
  Behavior = DualWeaponBehavior ModuleTag_09
    SwitchWeaponOnCloseRangeDistance = 40
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 11;
  ShadowSizeY = 11;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
Object CINE_MTFull

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = Mintsinone
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTTestObject
  EditorSorting   = STRUCTURE
  Browser = CINEMATICS STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End


  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = No
  Shadow                = NONE
End






;------------------------------------------------------------------------------
Object CINEMordorCatapultDeadHulk
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MUCatpDMG
    End
  End

  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting   = DEBRIS
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***
  KindOf =  CAN_CAST_REFLECTIONS IMMOBILE NO_COLLIDE HULK

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
  End

;  Behavior = PhysicsBehavior ModuleTag_03
;    AllowBouncing = Yes
;    KillWhenRestingOnGround = Yes
;  End

  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 0.0        ; min lifetime in msec
    MaxLifetime = 0.0        ; max lifetime in msec
  End


End













;-------------------------------------------------------------------------------------------------


Object CINE_OrcWithBanner
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = MUOrcBanr_SKN
    End

    IdleAnimationState
      Animation = Idle
        AnimationName     = IUBanner_SKL.IUBanner_IDLA 
        AnimationMode     = ONCE
        AnimationPriority = 5
      End
      Animation = Idle
        AnimationName     = IUBanner_SKL.IUBanner_IDLC
        AnimationMode     = ONCE
      End
    End
 
    ; --- stunned anims
    AnimationState      = STUNNED_FLAILING 
      Animation         = StunFly
        AnimationName     = IUOrcBanr_SKL.IUOrcBanr_FLYA
        AnimationMode     = LOOP
      End
      Flags             = RANDOMSTART
    End

    AnimationState      = STUNNED 
      Animation         = DieStun
        AnimationName     = IUBanner_SKL.IUBanner_LNDA
        AnimationMode     = ONCE
      End
      Animation         = DieStunB
        AnimationName     = IUBanner_SKL.IUBanner_LNDB
        AnimationMode     = ONCE
      End
    End

    AnimationState        = MOVING
      Animation           = March
        AnimationName       = IUBanner_SKL.IUBanner_RUNA 
        Distance            = 16.0
        AnimationMode       = LOOP
;       AnimationSpeedFactorRange = 2.75 2.75
      End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End

    AnimationState      = DYING
      Animation         = DieA
        AnimationName     = IUBanner_SKL.IUBanner_DIEA
        AnimationMode     = ONCE
      End
      Animation         = DieB
        AnimationName     = IUBanner_SKL.IUBanner_DIEB
        AnimationMode     = ONCE
      End
    End

  End

  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 120.0
  DisplayName = OBJECT:MordorBanner
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE 
 
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  ;BALANCE Orc Warrior Health
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = HumanLocomotor
    Condition = SET_NORMAL 
    Speed     = 36
  End

  LocomotorSet
    Locomotor = HumanWanderLocomotor
    Condition = SET_WANDER 
    Speed     = 16
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	Key = Orc Unit Infantry
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 9.6
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 11;
  ShadowSizeY = 11;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
Object CINE_DeadGondorArcher01

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GUDEADAR1
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_DeadGondorArcher02

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GUDEADAR2
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_DeadGondorFighter01

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GUDEADMAA1
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_DeadGondorFighter02

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GUDEADMAA2
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_DeadGondorFamily01

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GUDeadPAIR1
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_DeadGondorMan01

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GUDeadTMN1
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_DeadGondorMan02

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GUDeadTMN2
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_DeadGondorWoman01

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GUDeadTWM1
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_DeadGondorWoman02

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GUDeadTWM2
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_DeadEomer

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	
		DefaultModelConditionState
			Model            = RUEomrHrs_SKN 
		End
; --- Idle Anims
		AnimationState				=	EMOTION_AFRAID
			Animation				=	IDLA
				AnimationName		=	RUHHs_Theo_SKL.RUHHs_Theo_DIEA
				AnimationMode		=	ONCE
			End
		End
	End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Eomer
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = SHADOW_DECAL
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 1.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_MtDoom

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = CINE_MTDoomB
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:CINE_MTDoomB
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CinematicLocator

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
    End
    
    ModelConditionState = WORLD_BUILDER
			Model = locator
		End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End


;------------------------------------------------------------------------------
Object CinematicWhiteBall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
    End
    
    ModelConditionState = WORLD_BUILDER
			Model = Cine_White
		End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End





;------------------------------------------------------------------------------
Object CinematicFear

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
    End
    
    ModelConditionState = WORLD_BUILDER
			Model = locator
		End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End
  
  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes
     AILuaEventsList = TrollFunctions
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object Cine_PointLightWHITE

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
    End
    
    ModelConditionState = WORLD_BUILDER
			Model = locator
		End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End
  
  Draw = W3DLightDraw ModuleTag_02
    Ambient = R:0 G:0 B:0
    Diffuse = R:255 G:255 B:255
    Radius = 65
    Intensity = 7
    ;AttachToBoneInAnotherModule = NONE
  End 

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CampfireLight

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  
    DefaultModelConditionState
      Model = firelocator
	End   
	 
	IdleAnimationState
			Animation = Idle
				AnimationName     = firelocator.firelocator
				AnimationMode     = LOOP
			End 
	End
    
    ModelConditionState = WORLD_BUILDER
			Model = locator
	End

  End




  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End
  
  Draw = W3DLightDraw ModuleTag_02
    Ambient = R:0 G:0 B:0
    Diffuse = R:255 G:120 B:80
    Radius = 200
    Intensity = 3
    AttachToBoneInAnotherModule = firebone
  End 
  
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End
;------------------------------------------------------------------------------
Object CampfireLight_Flash

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  
    DefaultModelConditionState
      Model = firelocator
	End   
	 
	IdleAnimationState
			Animation = Idle
				AnimationName     = firelocator.firelocator
				AnimationMode     = LOOP
			End 
	End
    
    ModelConditionState = WORLD_BUILDER
			Model = locator
	End

  End




  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
    InitialHealth   = 99999.0
  End
  
  Draw = W3DLightDraw ModuleTag_02
    Ambient = R:0 G:0 B:0
    Diffuse = R:255 G:120 B:0
    Radius = 200
    Intensity = 1
    FlickerAmplitude = 3.0
    FlickerFrequency = .5
    AttachToBoneInAnotherModule = firebone
  End 
  
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_MtDoomFireBall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None MtDoomFireballs
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_MtDoomSmoke

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None MtDoomSmoke
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_MtDoomLava

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None MtDoomLava
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_MtDoomLava2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None MtDoomLava2
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_MtDoomLava3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None MtDoomLava3
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_MtDoomHeat

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None MtDoomHeat
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End
;------------------------------------------------------------------------------
Object CINE_ParticleSysProxy

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None AreaDustEffect
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_ParticleSysProxy2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None AreaHazeThin
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_ParticleSysProxy3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None AreaDustEffect
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End
;------------------------------------------------------------------------------
Object CINE_ParticleSysProxy4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None AreaDustEffect
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End
;------------------------------------------------------------------------------
Object CINE_ParticleSysProxy5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None HorseFallDust
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_ParticleSysProxy6

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None FireFieldTinyFire
      ParticleSysBone = None FireFieldTinyEmbers
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object MTChunk

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  
    DefaultModelConditionState
      Model = MTChunks
	End   
	 
	IdleAnimationState
			Animation = Idle
				AnimationName     = MTChunks.MTChunks
				AnimationMode     = LOOP
			End 
	End
    
    ModelConditionState = WORLD_BUILDER
			Model = MTChunks
	End

  End




  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End
  
  
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End


;------------------------------------------------------------------------------
Object ExplTest

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  
    DefaultModelConditionState
      Model = EXPL_ANM
	End   
	 
	IdleAnimationState
			Animation = Idle
				AnimationName     = EXPL_ANM.EXPL_ANM
				AnimationMode     = ONCE
			End 
	End
    
    ModelConditionState = WORLD_BUILDER
			Model = EXPL_ANM
	End

  End




  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End
  
  
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End







;------------------------------------------------------------------------------
Object CINE_OrcWithBannerEye
  ; *** ART Parameters ***

  ; This is currently exactly the same as CINE_OrcWithBanner -- the special skin seems to have disappeared
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = MUOrcBanr_SKN
    End

    IdleAnimationState
      Animation = Idle
        AnimationName     = IUBanner_SKL.IUBanner_IDLA 
        AnimationMode     = ONCE
        AnimationPriority = 5
      End
      Animation = Idle
        AnimationName     = IUBanner_SKL.IUBanner_IDLC
        AnimationMode     = ONCE
      End
    End
 
    ; --- stunned anims
    AnimationState      = STUNNED_FLAILING 
      Animation         = StunFly
        AnimationName     = IUOrcBanr_SKL.IUOrcBanr_FLYA
        AnimationMode     = LOOP
      End
      Flags             = RANDOMSTART
    End

    AnimationState      = STUNNED 
      Animation         = DieStun
        AnimationName     = IUBanner_SKL.IUBanner_LNDA
        AnimationMode     = ONCE
      End
      Animation         = DieStunB
        AnimationName     = IUBanner_SKL.IUBanner_LNDB
        AnimationMode     = ONCE
      End
    End

    AnimationState        = MOVING
      Animation           = March
        AnimationName       = IUBanner_SKL.IUBanner_RUNA 
        Distance            = 16.0
        AnimationMode       = LOOP
;       AnimationSpeedFactorRange = 2.75 2.75
      End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End

    AnimationState      = DYING
      Animation         = DieA
        AnimationName     = IUBanner_SKL.IUBanner_DIEA
        AnimationMode     = ONCE
      End
      Animation         = DieB
        AnimationName     = IUBanner_SKL.IUBanner_DIEB
        AnimationMode     = ONCE
      End
    End

  End

  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 120.0
  DisplayName = OBJECT:MordorBannerEye
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE 
 
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  ;BALANCE Orc Warrior Health
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = HumanLocomotor
    Condition = SET_NORMAL 
    Speed     = 36
  End

  LocomotorSet
    Locomotor = HumanWanderLocomotor
    Condition = SET_WANDER 
    Speed     = 16
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	Key = Orc Unit Infantry
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 9.6
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 11;
  ShadowSizeY = 11;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
Object CINE_OrcWithTorch
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = MUOrcTorch_SKN
    End

    IdleAnimationState
      Animation = Idle
        AnimationName       = MUOrcTorch_SKL.MUOrcTorch_IDL
        AnimationMode       = ONCE
      End
      ParticleSysBone     = Pike FireTorch FollowBone:Yes
      ParticleSysBone     = Pike OrcTorchFlare FollowBone:Yes
    End
 
    ; --- stunned anims
    AnimationState      = STUNNED_FLAILING 
      Animation = Fly
        AnimationName     = MUOrcTorch_SKL.MUOrcTorch_FLYA
        AnimationMode     = LOOP
      End
      Flags             = RANDOMSTART
    End

    AnimationState      = STUNNED 
      Animation = StunDie
        AnimationName     = MUOrcTorch_SKL.MUOrcTorch_SPLT
        AnimationMode     = ONCE
      End
    End

    AnimationState        = MOVING
      Animation = March
        AnimationName       = MUOrcTorch_SKL.MUOrcTorch_MRCH 
        AnimationMode       = LOOP
        Distance            = 16.0
      End
      Flags               = RANDOMSTART
      ParticleSysBone     = Pike FireTorch FollowBone:Yes
      ParticleSysBone     = Pike OrcTorchFlare FollowBone:Yes
    End

    AnimationState      = DYING
      Animation = Die
        AnimationName     = MUOrcTorch_SKL.MUOrcTorch_SPLT
        AnimationMode     = ONCE
      End
    End
  End

  Draw = W3DLightDraw ModuleTag_02
    Ambient = R:0 G:0 B:0
    Diffuse = R:255 G:100 B:0
    Radius = 90
    Intensity = 6
    AttachToBoneInAnotherModule = Pike
  End 

  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 120.0
  DisplayName = OBJECT:MordorOrcTorch
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE 
 
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 50.0                  ;BALANCE Orc Warrior Health
  End
 
  Behavior = AIUpdateInterface ModuleTag_04
  End
 
  LocomotorSet
    Locomotor = HumanLocomotor
    Condition = SET_NORMAL 
    Speed     = 16
  End

  LocomotorSet
    Locomotor = HumanWanderLocomotor
    Condition = SET_WANDER 
    Speed     = 16
  End

  Behavior = PhysicsBehavior ModuleTag_05
    GravityMult = 1.0
  End
 
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_07
    ;nothing
  End
 
  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	Key = Orc Unit Infantry
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 9.6
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 11;
  ShadowSizeY = 11;
  ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
Object CINE_SmokeColumnLarge

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = None
      ParticleSysBone = None SmokeColumnLarge
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS ATMOSPHERIC_EFFECTS

End

;------------------------------------------------------------------------------
Object CINE_FireSmokeBig

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = None
      ParticleSysBone = None FireSmokeBig
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS ATMOSPHERIC_EFFECTS

End

;------------------------------------------------------------------------------
Object CINE_AtmosphericHaze

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = None
      ParticleSysBone = None AtmosphericHaze
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS ATMOSPHERIC_EFFECTS

End

;------------------------------------------------------------------------------
Object CINE_SauronEye ;A great eye, lidless, wreathed in flame.

  ; *** ART Parameters ***
    Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = SauronEyeCine
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:CINE_MUBanr01
  EditorSorting = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***
  KindOf = PRELOAD SELECTABLE IMMOBILE
  Shadow = SHADOW_VOLUME
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 32.0
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_MUBanner_HighRes

  ; *** ART Parameters ***
    Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = CINE_MUBanr01
      ;ParticleSysBone = Firebone01 FireTorch
      ;ParticleSysBone = Firebone02 FireTorch
	  ;ParticleSysBone = Firebone01 BanrEmbers
      ;ParticleSysBone = Firebone02 BanrEmbers
	  ;ParticleSysBone = Firebone01 BanrFire
      ;ParticleSysBone = Firebone02 BanrFire
    End
    IdleAnimationState
      Animation
        AnimationName       = CINE_MUBanr01.CINE_MUBanr01      
        AnimationMode       = ONCE
      End
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:CINE_MUBanr01
  EditorSorting = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***
  KindOf = PRELOAD SELECTABLE IMMOBILE
  Shadow = SHADOW_DECAL
  ShadowSizeX = 32;
  ShadowSizeY = 20;
  ShadowTexture = ShadowI;
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 32.0
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object MU_Banner01

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MU_Banr_A
    End
    IdleAnimationState
      Animation
        AnimationName       = MU_Banr_A.MU_Banr_A      
        AnimationMode       = ONCE
      End
    End
  End
  
  
  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Lamp1
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object MU_Banner01_W

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MU_Banr_W
    End
    IdleAnimationState
      Animation
        AnimationName       = MU_Banr_W.MU_Banr_W      
        AnimationMode       = ONCE
      End
    End
  End
  
  
  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Lamp1
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_EyeOfSauron

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = SFE_Eye
      ParticleSysBone = Lightning1 EyeOfSauronLightning1
      ParticleSysBone = Lightning2 EyeOfSauronLightning2
      ParticleSysBone = Lightning1 EyeOfSauronLightning3
      ParticleSysBone = Lightning2 EyeOfSauronLightning3
      ParticleSysBone = Lightning1 EyeOfSauronFlare1
      ParticleSysBone = Lightning2 EyeOfSauronFlare2
      ParticleSysBone = None EyeOfSauronFlare3
    End
  End

  Draw = W3DLightDraw ModuleTag_02
    Ambient = R:0 G:0 B:0
    Diffuse = R:196 G:96 B:32
    Radius = 200
    Intensity = 20
    FlickerAmplitude = 20
    FlickerFrequency = 5
    AttachToBoneInAnotherModule = None
  End 

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** AUDIO Parameters ***
  
  ; *** ENGINEERING Parameters ***  

  Shadow                = SHADOW_VOLUME
  
End

;------------------------------------------------------------------------------
Object CINE_Eye_Skybox

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = SFE_Doom
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;------------------------------------------------------------------------------
Object CINE_SmokeHazeLargeNight

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = None
      ParticleSysBone = None SmokeHazeLargeNight
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS ATMOSPHERIC_EFFECTS

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;------------------------------------------------------------------------------
Object CINE_MordorBanner

  ; This is currently exactly the same as CINE_OrcWithBanner -- the special skin seems to have disappeared
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = MUOrcBanr_SKN
    End

    IdleAnimationState
      Animation = Idle
        AnimationName     = IUBanner_SKL.IUBanner_IDLA 
        AnimationMode     = ONCE
        AnimationPriority = 5
      End
      Animation = Idle
        AnimationName     = IUBanner_SKL.IUBanner_IDLC
        AnimationMode     = ONCE
      End
    End
 
    ; --- stunned anims
    AnimationState      = STUNNED_FLAILING 
      Animation         = StunFly
        AnimationName     = IUOrcBanr_SKL.IUOrcBanr_FLYA
        AnimationMode     = LOOP
      End
      Flags             = RANDOMSTART
    End

    AnimationState      = STUNNED 
      Animation         = DieStun
        AnimationName     = IUBanner_SKL.IUBanner_LNDA
        AnimationMode     = ONCE
      End
      Animation         = DieStunB
        AnimationName     = IUBanner_SKL.IUBanner_LNDB
        AnimationMode     = ONCE
      End
    End

    AnimationState        = MOVING
      Animation           = March
        AnimationName       = IUBanner_SKL.IUBanner_RUNA 
        Distance            = 16.0
        AnimationMode       = LOOP
;       AnimationSpeedFactorRange = 2.75 2.75
      End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End

    AnimationState      = DYING
      Animation         = DieA
        AnimationName     = IUBanner_SKL.IUBanner_DIEA
        AnimationMode     = ONCE
      End
      Animation         = DieB
        AnimationName     = IUBanner_SKL.IUBanner_DIEB
        AnimationMode     = ONCE
      End
    End

  End

  ; ***DESIGN parameters ***
  Side                = Mordor
  EditorSorting       = MISC_MAN_MADE
  Browser = CINEMATICS UNIT

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;------------------------------------------------------------------------------
Object CINE_BlackCloud

;  Scale = 3.0
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = LoomingCloud
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS ATMOSPHERIC_EFFECTS

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End
;------------------------------------------------------------------------------
Object CINE_DomeSkyboxDusk

;  Scale = 3.0
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxDusk
      End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End
;p------------------------------------------------------------------------------
Object CINE_CloudySkybox

;  Scale = 3.0
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxClouds01
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End


;------------------------------------------------------------------------------
Object CINE_DomeSkybox

;  Scale = 3.0
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Skybox01
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End


;------------------------------------------------------------------------------
Object CINE_DomeSkyboxMT

;  Scale = 3.0
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MrdrSkyBox
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;------------------------------------------------------------------------------
Object CINE_DomeSkyboxMTdark

;  Scale = 3.0
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MrdrSkyBoxD
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End


;------------------------------------------------------------------------------
Object CINE_DomeSkyboxNoon

;  Scale = 3.0
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = SkyBoxNoon
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;------------------------------------------------------------------------------
Object CINE_DomeSkyboxMorning

;  Scale = 3.0
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = SkyBoxMorning
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;------------------------------------------------------------------------------
Object CINE_DomeSkyboxNight

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = SkyBoxNight
;      ParticleSysBone = LightningNode SkyBoxNightLightning
;      ParticleSysBone = None RainOfFireFlareNoTrails
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End
;------------------------------------------------------------------------------

Object CINE_DomeSkyboxNight_Doom

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = SkyBoxNightC
;      ParticleSysBone = LightningNode SkyBoxNightLightning
;      ParticleSysBone = None RainOfFireFlareNoTrails
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;------------------------------------------------------------------------------
Object CINE_DomeSkyboxNightB

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = SkyBoxNightB
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;------------------------------------------------------------------------------
Object CINE_SilverTree

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GBSlvrTree
;      ParticleSysBone = None SmokeHazeLarge
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SHRUBBERY
  Browser = CINEMATICS SHRUBBERY

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
; aka Knight, GondorKnight, CavalryGondor
Object CINE_GondorCavalry
  ; *** ART Parameters ***
  ; NOTE: If you are updating any of the art parameters, you should really check
  ; GondorCavalryRiderless in FactionSubObject.ini and see if it needs to be updated

  Draw = W3DScriptedModelDraw ModuleTag_01

    ;Removed non-armored horse textures
    ;--------------------------------------------------
    RandomTexture = CUHorse_BnA.tga		0 CUHorse_BnWtA.tga
    RandomTexture = CUHorse_BnWtA.tga	0 CUHorse_BnWtA.tga
    RandomTexture = CUHorse_WtA.tga		0 CUHorse_BnWtA.tga
    RandomTexture = CUHorse_WtBkA.tga	0 CUHorse_BnWtA.tga

    DefaultModelConditionState   
      Model               = GUCavalry_SKN
    End

    IdleAnimationState
      Animation       = Idle
        AnimationName       = GUCavalry_SKL.GUCavalry_IDLA 
        AnimationMode       = ONCE
        AnimationBlendTime  = 15
        AnimationPriority   = 25 
      End

      Animation        = SecondaryIdle
        AnimationName       = GUCavalry_SKL.GUCavalry_IDLD
        AnimationMode       = ONCE
        AnimationBlendTime  = 15
      End
    End

    ; --- stunned anims
    AnimationState      = STUNNED_FLAILING 
      Animation         = FlyNDie
        AnimationName     = GUCavalry_SKL.GUCavalry_FLYA
        AnimationMode     = LOOP
      End
      Flags             = RANDOMSTART
    End

    AnimationState      = STUNNED 
      Animation         = Stunned
        AnimationName     = GUCavalry_SKL.GUCavalry_LNDA
        AnimationMode     = ONCE
      End
    End

    ; This is the first spawn horse type of death
    AnimationState        = DYING DEATH_1
      Animation           = DieAndSpawn
        AnimationName       = GUCavalry_SKL.GUCavalry_DIEB
        AnimationMode       = ONCE
      End
    End

    ; This is the second spawn horse type of death
    AnimationState        = DYING DEATH_3
      Animation           = DieAndSpawn
        AnimationName       = GUCavalry_SKL.GUCavalry_DIED
        AnimationMode       = ONCE
      End
    End

    ; This is the no-spawn-horse type of death
    AnimationState        = DYING DEATH_2
      Animation           = DieAndNoSpawn
        AnimationName       = GUCavalry_SKL.GUCavalry_DIEA
        AnimationMode       = ONCE
      End
    End

    AnimationState        = MOVING WALKING
      Animation           = Walk
        AnimationName       = GUCavalry_SKL.GUCavalry_WLKA
        AnimationMode       = LOOP
      End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails  
    End

    AnimationState        = MOVING TURN_LEFT
      Animation           = TurnLeft
        AnimationName       = GUCavalry_SKL.GUCavalry_TRNL
        AnimationMode       = LOOP
      End
;     ParticleSysBone     = None CalvaryDustTrails
    End

    AnimationState        = MOVING TURN_RIGHT
      Animation           = TurnRight
        AnimationName       = GUCavalry_SKL.GUCavalry_TRNR
        AnimationMode       = LOOP
      End
;     ParticleSysBone     = None CalvaryDustTrails
    End
 
    AnimationState        = MOVING ACCELERATE
      Animation           = Accelerate
        AnimationName       = GUCavalry_SKL.GUCavalry_ACCL
        AnimationMode       = LOOP
      End
      ParticleSysBone     = None CalvaryDustTrails
    End

    AnimationState        = MOVING DECELERATE
      Animation           = Decelerate
        AnimationName       = GUCavalry_SKL.GUCavalry_DECL
        AnimationMode       = ONCE
      End
      ParticleSysBone     = None CalvaryDustTrails
    End

    AnimationState        = MOVING
      Animation           = GallopA
        AnimationName       = GUCavalry_SKL.GUCavalry_RUNA
        AnimationMode       = LOOP
      End
      Animation           = GallopB
        AnimationName       = GUCavalry_SKL.GUCavalry_RUNB
        AnimationMode       = LOOP
      End

      Flags               = RANDOMSTART
      ParticleSysBone     = None CalvaryDustTrails  
    End


    ; Attacking _while not moving_
    AnimationState        = ATTACKING
      Animation           = Attack1
        AnimationName       = GUCavalry_SKL.GUCavalry_ATA1
        AnimationMode       = ONCE
      End
      Animation           = Attack2
        AnimationName       = GUCavalry_SKL.GUCavalry_ATA2
        AnimationMode       = ONCE
      End
      Animation           = Attack3
        AnimationName       = GUCavalry_SKL.GUCavalry_ATB1
        AnimationMode       = ONCE
      End
      Animation           = Attack4
        AnimationName       = GUCavalry_SKL.GUCavalry_ATB2
        AnimationMode       = ONCE
      End
      Animation           = Defend
        AnimationName       = GUCavalry_SKL.GUCavalry_DFDA
        AnimationMode       = ONCE
      End
      Flags               = RESTART_ANIM_WHEN_COMPLETE
    End

	AnimationState = USER_1
		Animation  = IdleLook
			AnimationName     = GUCavalry_SKL.GUCavalry_IDLB
			AnimationMode     = LOOP
		End
	End

    AnimationState        = REALLYDAMAGED
      Animation       = WoundedIdle
        AnimationName       = GUCavalry_SKL.GUCavalry_IDLC
        AnimationMode       = ONCE
        AnimationBlendTime  = 15
      End
    End
  End

  ; ***DESIGN parameters ***
  ; NOTE, PLEASE: If you are changing this unit in any way, you should consider changing 
  ; GondorCavalryRiderless in FactionSubObject.ini
  Side = Gondor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    GondorCavalrySword
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  VisionRange = 280.0
  DisplayName = OBJECT:GondorCavalryCINE
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CrusherLevel = 1
  RamPower = 30;
  RamZMult = 0.5;

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE 
 
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  ;BALANCE Knight Health
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = HorseLocomotor
    Condition = SET_NORMAL 
    Speed     = 104
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

  ; 66% chance of die & horse-runs-away, 33% horse dies too
  Behavior = SlowDeathBehavior ModuleTag_07
    ; Die-and-spawn-horse number 1
    SinkDelay = 30000 ; Should be >= DestructionDelay; spawned objects are responsible for sinking
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 3000 ; MUST BE EQUAL TO LENGTH OF DIEB ANIMATION
    DeathTypes = ALL 
    OCL = FINAL OCL_GondorCavalryDeathRunAwayB
    ProbabilityModifier = 33
    DeathFlags = DEATH_1 ; Tell model which death animation to play
  End
 
  Behavior = SlowDeathBehavior ModuleTag_08
    ; Die and don't spawn horse
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    ProbabilityModifier = 33
    DeathFlags = DEATH_2 ; Tell model which death animation to play
  End

  Behavior = SlowDeathBehavior ModuleTag_09
    ; Die-and-spawn-horse number 2
    SinkDelay = 30000 ; Should be >= DestructionDelay; spawned objects are responsible for sinking
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 2000 ; MUST BE EQUAL TO LENGTH OF DIED ANIMATION
    DeathTypes = ALL 
    OCL = FINAL OCL_GondorCavalryDeathRunAwayD
    ProbabilityModifier = 33
    DeathFlags = DEATH_3 ; Tell model which death animation to play
  End
 
 
  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	Key = Human Unit Cavalry
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 1.6 ; temporarily reduced for demo
  GeometryMinorRadius = 1.6 ; temporarily reduced for demo
  GeometryHeight = 8.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 32;
  ShadowSizeY = 20;
  ShadowTexture = ShadowI;

  ; So the question you need to ask yourself is: do I need to change GondorCavalryRiderless?
  ; Well, do ya, punk?
End

;------------------------------------------------------------------------------
Object CINE_Shell02

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = ShellMap01
    End

  End

  ; ***DESIGN parameters ***
  EditorSorting       = System

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

 ; Shadow                = SHADOW_VOLUME
End



;------------------------------------------------------------------------------
Object CINE_Shell03

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Shell04BrdDur
    End
    IdleAnimationState
      Animation = Idle
        AnimationName = Shell04BrdDur.Shell04BrdDur
        AnimationMode       = LOOP
      End
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = System

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

  Geometry = Box
  GeometryMajorRadius = 48.0
  GeometryMinorRadius = 24.0
  GeometryHeight = 6400.0
  GeometryIsSmall = No

 ; Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
; Faramir
Object CINE_GondorFaramir
	; *** ART Parameters ***

	Draw = W3DScriptedModelDraw ModuleTag_DRAW

    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		ExtraPublicBone = arrow

		DefaultModelConditionState
			Model               = GUFaramir_SKN
			WeaponLaunchBone    = PRIMARY arrow
		End


		; --- Transition Anims
		TransitionState       = TRANS_DrawBow
			Animation           = GUFaramir_TOS3
				AnimationName     = GUFaramir_SKL.GUFaramir_TOS3
				AnimationMode     = ONCE
			End
		End
		TransitionState       = Trans_Bow_To_Sword
			Animation           = GUFaramir_STHA
				AnimationName     = GUFaramir_SKL.GUFaramir_STHA 
				AnimationMode     = ONCE
			End
		End
		TransitionState       = Trans_Sword_To_Bow
			Animation           = GUFaramir_STHB
				AnimationName     = GUFaramir_SKL.GUFaramir_STHB 
				AnimationMode     = ONCE
			End
		End

		; --- Idle Anims
		IdleAnimationState
			BeginScript
				CurDrawableShowSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_DrawBow") end
			EndScript

			Animation           = IDLA
				AnimationName     = GUFaramir_SKL.GUFaramir_IDLA 0 15
				AnimationMode     = ONCE
			End
		End


		; --- Moving Anims
		AnimationState        = MOVING DAMAGED WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUFaramir_IWKA
				AnimationName     = GUFaramir_SKL.GUFaramir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUFaramir_WLKA
				AnimationName     = GUFaramir_SKL.GUFaramir_WLKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUFaramir_RUNB
				AnimationName     = GUFaramir_SKL.GUFaramir_RUNB
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING DAMAGED
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUFaramir_IWKA
				AnimationName     = GUFaramir_SKL.GUFaramir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUFaramir_WLKA
				AnimationName     = GUFaramir_SKL.GUFaramir_WLKA
				AnimationMode     = LOOP
			End
		End
		
; Make the Run a walk		
		AnimationState        = MOVING
			;ParticleSysBone     = None InfantryDustTrails
			Flags               = RANDOMSTART
			Animation           = GUFaramir_WLKA
				AnimationName     = GUFaramir_SKL.GUFaramir_WLKA
				AnimationMode     = LOOP
			End
		End



		; Attacking Anims [Weapon_A]
		AnimationState        = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = ATKA
				AnimationName     = GUFaramir_SKL.GUFaramir_ATKA 
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATKB
				AnimationName    = GUFaramir_SKL.GUFaramir_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		AnimationState        = FIRING_OR_PREATTACK_A
			Animation           = GUFaramir_ATKD
				AnimationName     = GUFaramir_SKL.GUFaramir_ATKD 
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			FrameForPristineBonePositions = 59
		End

		; --- Dying anims
		AnimationState        = DYING SPLATTED
			Animation           = GUFaramir_LNDA
				AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = DYING WEAPONSTATE_CLOSE_RANGE
			Animation           = GUFaramir_DIEB
				AnimationName     = GUFaramir_SKL.GUFaramir_DIEB
				AnimationMode     = ONCE
			End
		End
		AnimationState        = DYING
			Animation           = GUFaramir_DIEB
				AnimationName     = GUFaramir_SKL.GUFaramir_DIEB
				AnimationMode     = ONCE
			End
		End



		; --- Stunned anims
		AnimationState        = STUNNED_FLAILING 
			Flags               = RANDOMSTART
			Animation           = GUFaramir_FLYA
				AnimationName     = GUFaramir_SKL.GUFaramir_FLYA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUFaramir_GTPA
				AnimationName     = GUFaramir_SKL.GUFaramir_GTPA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = STUNNED 
			Animation           = GUFaramir_LNDA
				AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
				AnimationMode     = ONCE
			End
		End




		; --------- Idle Anims
		AnimationState        = WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = GUFaramir_IDLC
				AnimationName     = GUFaramir_SKL.GUFaramir_IDLC
				AnimationMode     = ONCE
			End
		End
		
		; --------- Click and Hit Reactions ------------
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUFaramir_SKL.GUFaramir_HITA
				AnimationMode = ONCE
			End
    End
		

	End

	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThingClass = CHARACTER_UNIT

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    FaramirBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY    FaramirSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 120.0
	DisplayName = OBJECT:GondorFaramir
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

	CommandSet = GenericCommandSet 

	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE 

	Body = ActiveBody ModuleTag_02
		MaxHealth         = 500		; (was 10) Hack for DEMO Close Combat map so Faramir will stay alive
		MaxHealthDamaged  = 250   ; (was 5)
		RecoveryTime      = 5000	
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes
		MoodAttackCheckRate        = 500
		HoldGroundCloseRangeDistance = 40
	End

; EDIT THE SPEED
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 16
	End
	
	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 16
	End
	  
	Behavior = DualWeaponBehavior ModuleTag_13
		SwitchWeaponOnCloseRangeDistance = 80
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry
		UnitWeight = 2   ; Faramir counts as 2 infantry
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 45 ; level 1 (light  damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer2 = 90 ; level 2 (medium damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer3 = 60 ; level 3 (heavy  damage)  hit reaction animations in frames (30 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
	ShadowSizeX = 11;
	ShadowSizeY = 11;
	ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
; aka Man at Arms, GondorManatArms, FighterGondor GondorFighter GondorSoldier
Object CINE_GondorFighter
	; *** ART Parameters ***

	SelectPortrait         = SP_Gondor_Swordman

	Draw = W3DScriptedModelDraw ModuleTag_01

		DefaultModelConditionState
			Model               = GUMAArms_SKN
			Skeleton            = GUMAArms_SKL
		End
   
		IdleAnimationState
			StateName				= STATE_Idle
			Animation				= IDLI
				AnimationName       = GUMAArms_IDLI
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 20
			End
			Animation				= IDLI
				AnimationName       = GUMAArms_IDLI
				AnimationMode       = ONCE_BACKWARDS
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 5
			End
			Animation				= IDLI
				AnimationName       = GUMAArms_IDLI
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 10
			End
			Animation				= IDLI
				AnimationName       = GUMAArms_IDLI
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
		End

		AnimationState        = PASSENGER
			Animation           = FLLA
				AnimationName     = GUMAArms_FLLA
				AnimationMode     = LOOP
			End
		End
		
		AnimationState			= HIT_REACTION
			Animation           = HITA
				AnimationName     = GUMAArms_HITA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = THROWN_PROJECTILE
			Animation           = FLYA
				AnimationName     = GUMAArms_FLYA
				AnimationMode     = LOOP
			End
		End

		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			Animation					= TerrorFromTheSky
				AnimationName			= GUMAArms_RUNC
				AnimationMode			= LOOP
			End
		End
		
		AnimationState					= MOVING PANICKING
			Animation					= MFDA
				AnimationName			= GUMAArms_MFDA
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
			;ParticleSysBone				= None InfantryDustTrails
		End
		
		AnimationState        = MOVING BACKING_UP
			Animation           = RUNA
				AnimationName     = GUMAArms_BAKA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End



		AnimationState        = MOVING ATTACKING
			Animation           = RUNA
				AnimationName     = GUMAArms_RUNA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End
		
; When units are all in a horde, they move at the same speed.  So the damaged looks wrong.
;		AnimationState        = DAMAGED MOVING
;			Animation           = IWKA
;				AnimationName     = GUMAArms_IWKA
;				AnimationMode     = LOOP
;			End
;		End
		AnimationState        = MOVING WANDER
			Animation           = WLKA
				AnimationName     = GUMAArms_WLKA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End
		
		
		AnimationState        = MOVING
			Animation           = RUNB
				AnimationName     = GUMAArms_RUNB
				AnimationMode     = LOOP
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End
		
		


		AnimationState        =  FIRING_OR_PREATTACK_A
			Animation           = ATA1
				AnimationName     = GUMAArms_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATB1
				AnimationName     = GUMAArms_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATC1
				AnimationName     = GUMAArms_ATKC
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			;ParticleSysBone     = None MeleeDust
		End

		AnimationState        = STUNNED_FLAILING
			Animation           = FLYA
				AnimationName     = GUMAArms_FLYA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = GUMAArms_LNDA
				AnimationMode     = ONCE
			End
                  EnteringStateFX = FX_SoldierHitGround
		End

		AnimationState        = DYING AFLAME
			Animation           = MFDA
				AnimationName     = GUMAArms_MFDA
				AnimationMode     = LOOP
			End
		End

		AnimationState        = DYING SPLATTED
;			Animation           = LNDA
;				AnimationName     = GUMAArms_LNDA
;				AnimationMode     = ONCE
;			End
			Animation           = demoDie1
				AnimationName     = GUMAArms_RDTHA
				AnimationMode     = ONCE
			End
			Animation           = demoDie2
				AnimationName     = GUMAArms_RDTHB
				AnimationMode     = ONCE
			End
                  EnteringStateFX = FX_SoldierHitGround
		End

		AnimationState        = DYING
			Animation           = DIEA
				AnimationName     = GUMAArms_DIEA
				AnimationMode     = ONCE
			End
			Animation           = DIEB
				AnimationName     = GUMAArms_DIEB
				AnimationMode     = ONCE
			End
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GTPA
				AnimationName     = GUMAArms_GTPA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = BETWEEN_FIRING_SHOTS_A
			Animation           = ALERT_1
				AnimationName     = GUMAArms_IDLA
				AnimationMode     = LOOP
				AnimationPriority = 10
			End
		End

		TransitionState       = TRANS_IdleToSelected
			Animation           = ATNA
				AnimationName     = GUMAArms_ATNA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.7 1.3
				
			End
		End
		
		TransitionState       = TRANS_SelectedToGuard
			Animation           = ATNC
				AnimationName     = GUMAArms_ATNC
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
		End

		AnimationState			= EMOTION_AFRAID
			Animation           = FERA
				AnimationName     = GUMAArms_FERA
				AnimationMode     = LOOP
			End
			Animation           = FERB
				AnimationName     = GUMAArms_FERB
				AnimationMode     = LOOP
			End
			Animation           = FERC
				AnimationName     = GUMAArms_FERC
				AnimationMode     = LOOP
			End
			Animation           = FERD
				AnimationName     = GUMAArms_FERD
				AnimationMode     = LOOP
			End
			
		End

		AnimationState        = EMOTION_AFRAID
			Animation           = FERA
				AnimationName     = GUMAArms_FERA
				AnimationMode     = LOOP
			End
			Animation           = FERB
				AnimationName     = GUMAArms_FERB
				AnimationMode     = LOOP
			End
			Animation           = FERC
				AnimationName     = GUMAArms_FERC
				AnimationMode     = LOOP
			End
			Animation           = FERD
				AnimationName     = GUMAArms_FERD
				AnimationMode     = LOOP
			End
		End
		
		AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation           = ATNB
				AnimationName     = GUMAArms_ATNB
				AnimationMode     = LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
			EndScript
		End
		
		AnimationState			= EMOTION_CELEBRATING
			Animation           = CHRA
				AnimationName   =  GUMAArms_CHRA
				AnimationMode   = ONCE
			End
			Animation           = CHRB
				AnimationName   = GUMAArms_CHRB
				AnimationMode   = ONCE
			End
			Animation           = CHRC
				AnimationName   =GUMAArms_CHRC
				AnimationMode   = ONCE
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState					= EMOTION_ALERT EMOTION_MORALE_HIGH
			Animation					= Taunting
				AnimationName			= GUMAArms_IDLC
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= GUMAArms_IDLE
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= GUMAArms_IDLH
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End
		
				
		
		
		TransitionState       = TRANS_TO_USER_1
			Animation
				AnimationName     = GUMAArms_RCTA
				AnimationMode     = ONCE
			End
		End

		TransitionState       = TRANS_TO_USER_2
			Animation
				AnimationName     = GUMAArms_RCTB
				AnimationMode     = ONCE
			End
		End
		
		AnimationState = USER_1
			Animation  = ReactionD
				AnimationName     = GUMAArms_RCTD
				AnimationMode     = LOOP
			End
			;BeginScript
			;	Prev = CurDrawablePrevAnimationState()
			;	if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_TO_USER_1") end
			;	if Prev == "STATE_User_3" then CurDrawableSetTransitionAnimState("TRANS_TO_USER_1") end
			;EndScript
		End

		AnimationState = USER_2
			Animation  = ReactionC
				AnimationName     = GUMAArms_RCTC
				AnimationMode     = LOOP
			End
;			BeginScript
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_TO_USER_2") end
;				if Prev == "STATE_User_3" then CurDrawableSetTransitionAnimState("TRANS_TO_USER_1") end
;			EndScript
		End

		AnimationState = USER_3
			Animation  = GUARD_STANCE
				AnimationName     = GUMAArms_IDLA
				AnimationMode     = LOOP
			End
			StateName = STATE_User_3
		End		
		
;		AnimationState = USER_4 ; UNSUSED
;			Animation
;				AnimationName     =
;				AnimationMode     =
;			End
;		End		


		AnimationState			=	EMOTION_ALERT EMOTION_AFRAID
			Animation			=	Apprehensive
				AnimationName	=	GUMAArms_APPA
				AnimationMode	=	ONCE
			End
			Animation			=	Apprehensive2
				AnimationName	=	GUMAArms_APPB
			End
			Flags				=	RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End


		AnimationState        = EMOTION_ALERT
			Animation           = ALERT_1
				AnimationName     = GUMAArms_IDLA
				AnimationMode     = ONCE
				AnimationPriority = 10
			End
			Animation           = ALERT_2
				AnimationName     = GUMAArms_IDLB
				AnimationMode     = ONCE
			End
			Animation           = ALERT_3
				AnimationName     = GUMAArms_IDLC
				AnimationMode     = ONCE
			End
			Animation           = ALERT_4
				AnimationName     = GUMAArms_IDLD
				AnimationMode     = ONCE
			End
			Animation           = ALERT_3
				AnimationName     = GUMAArms_IDLE
				AnimationMode     = ONCE
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE ; acts like an idle animation & keeps running the animations.
		End
		
	End
	
	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThingClass = HORDE_UNIT
	
	EmotionRange = 240 ; Make sure this value is greater than the fear distribution range. 

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GondorSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 80.0
	DisplayName = OBJECT:GondorFighter
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	
	CommandSet = GondorFighterCommandSet

	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Man at Arms Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	=	Yes
		MoodAttackCheckRate			=	500
		AILuaEventsList				=	GondorFighterFunctions
		MinCowerTime				=	3000
		MaxCowerTime				=	5000
	End

; EDIT SPEED
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 16
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 16
	End
	
	LocomotorSet
		Locomotor = HumanPanicLocomotor
		Condition = SET_PANIC
		Speed	  = 64
	End
	
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStunnedTimeLow = 9000
		ShockStunnedTimeHigh = 15000
		ShockStandingTime = 15000
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL HumanVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry Gondor_Soldier
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
;	Shadow = SHADOW_VOLUME	
	ShadowSizeX = 11;
	ShadowSizeY = 11;
	ShadowTexture = ShadowI;
End



;------------------------------------------------------------------------------
; aka Man at Arms No Sword, GondorManatArms, FighterGondor GondorFighter GondorSoldier
Object CINE_GondorFighterNoSword
	; *** ART Parameters ***

	SelectPortrait         = SP_Gondor_Swordman

	Draw = W3DScriptedModelDraw ModuleTag_01

		DefaultModelConditionState
			Model               = CineMAArms_SKN
			Skeleton            = GUMAArms_SKL
		End
   
		IdleAnimationState
			StateName				= STATE_Idle
			Animation				= IDLI
				AnimationName       = GUMAArms_IDLI
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 20
			End
			Animation				= IDLI
				AnimationName       = GUMAArms_IDLI
				AnimationMode       = ONCE_BACKWARDS
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 5
			End
			Animation				= IDLI
				AnimationName       = GUMAArms_IDLI
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 10
			End
			Animation				= IDLI
				AnimationName       = GUMAArms_IDLI
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
		End

		AnimationState        = PASSENGER
			Animation           = FLLA
				AnimationName     = GUMAArms_FLLA
				AnimationMode     = LOOP
			End
		End
		
		AnimationState			= HIT_REACTION
			Animation           = HITA
				AnimationName     = GUMAArms_HITA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = THROWN_PROJECTILE
			Animation           = FLYA
				AnimationName     = GUMAArms_FLYA
				AnimationMode     = LOOP
			End
		End

		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			Animation					= TerrorFromTheSky
				AnimationName			= GUMAArms_RUNC
				AnimationMode			= LOOP
			End
		End
		
		AnimationState					= MOVING PANICKING
			Animation					= MFDA
				AnimationName			= GUMAArms_MFDA
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
			;ParticleSysBone				= None InfantryDustTrails
		End
		
		AnimationState        = MOVING BACKING_UP
			Animation           = RUNA
				AnimationName     = GUMAArms_BAKA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End



		AnimationState        = MOVING ATTACKING
			Animation           = RUNA
				AnimationName     = GUMAArms_RUNA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End
		
; When units are all in a horde, they move at the same speed.  So the damaged looks wrong.
;		AnimationState        = DAMAGED MOVING
;			Animation           = IWKA
;				AnimationName     = GUMAArms_IWKA
;				AnimationMode     = LOOP
;			End
;		End
		AnimationState        = MOVING WANDER
			Animation           = WLKA
				AnimationName     = GUMAArms_WLKA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End
		
		
		AnimationState        = MOVING
			Animation           = RUNB
				AnimationName     = GUMAArms_RUNB
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End
		
		


		AnimationState        =  FIRING_OR_PREATTACK_A
			Animation           = ATA1
				AnimationName     = GUMAArms_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATB1
				AnimationName     = GUMAArms_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATC1
				AnimationName     = GUMAArms_ATKC
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			;ParticleSysBone     = None MeleeDust
		End

		AnimationState        = STUNNED_FLAILING
			Animation           = FLYA
				AnimationName     = GUMAArms_FLYA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = GUMAArms_LNDA
				AnimationMode     = ONCE
			End
                  EnteringStateFX = FX_SoldierHitGround
		End

		AnimationState        = DYING AFLAME
			Animation           = MFDA
				AnimationName     = GUMAArms_MFDA
				AnimationMode     = LOOP
			End
		End

		AnimationState        = DYING SPLATTED
;			Animation           = LNDA
;				AnimationName     = GUMAArms_LNDA
;				AnimationMode     = ONCE
;			End
			Animation           = demoDie1
				AnimationName     = GUMAArms_RDTHA
				AnimationMode     = ONCE
			End
			Animation           = demoDie2
				AnimationName     = GUMAArms_RDTHB
				AnimationMode     = ONCE
			End
                  EnteringStateFX = FX_SoldierHitGround
		End

		AnimationState        = DYING
			Animation           = DIEA
				AnimationName     = GUMAArms_DIEA
				AnimationMode     = ONCE
			End
			Animation           = DIEB
				AnimationName     = GUMAArms_DIEB
				AnimationMode     = ONCE
			End
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GTPA
				AnimationName     = GUMAArms_GTPA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = BETWEEN_FIRING_SHOTS_A
			Animation           = ALERT_1
				AnimationName     = GUMAArms_IDLA
				AnimationMode     = LOOP
				AnimationPriority = 10
			End
		End

		TransitionState       = TRANS_IdleToSelected
			Animation           = ATNA
				AnimationName     = GUMAArms_ATNA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.7 1.3
				
			End
		End
		
		TransitionState       = TRANS_SelectedToGuard
			Animation           = ATNC
				AnimationName     = GUMAArms_ATNC
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
		End

		AnimationState			= EMOTION_AFRAID
			Animation           = FERA
				AnimationName     = GUMAArms_FERA
				AnimationMode     = LOOP
			End
			Animation           = FERB
				AnimationName     = GUMAArms_FERB
				AnimationMode     = LOOP
			End
			Animation           = FERC
				AnimationName     = GUMAArms_FERC
				AnimationMode     = LOOP
			End
			Animation           = FERD
				AnimationName     = GUMAArms_FERD
				AnimationMode     = LOOP
			End
			
		End

		AnimationState        = EMOTION_AFRAID
			Animation           = FERA
				AnimationName     = GUMAArms_FERA
				AnimationMode     = LOOP
			End
			Animation           = FERB
				AnimationName     = GUMAArms_FERB
				AnimationMode     = LOOP
			End
			Animation           = FERC
				AnimationName     = GUMAArms_FERC
				AnimationMode     = LOOP
			End
			Animation           = FERD
				AnimationName     = GUMAArms_FERD
				AnimationMode     = LOOP
			End
		End
		
		AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation           = ATNB
				AnimationName     = GUMAArms_ATNB
				AnimationMode     = LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
			EndScript
		End
		
		AnimationState			= EMOTION_CELEBRATING
			Animation           = CHRA
				AnimationName   =  GUMAArms_CHRA
				AnimationMode   = ONCE
			End
			Animation           = CHRB
				AnimationName   = GUMAArms_CHRB
				AnimationMode   = ONCE
			End
			Animation           = CHRC
				AnimationName   =GUMAArms_CHRC
				AnimationMode   = ONCE
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState					= EMOTION_ALERT EMOTION_MORALE_HIGH
			Animation					= Taunting
				AnimationName			= GUMAArms_IDLC
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= GUMAArms_IDLE
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= GUMAArms_IDLH
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End
		
				
		
		
		TransitionState       = TRANS_TO_USER_1
			Animation
				AnimationName     = GUMAArms_RCTA
				AnimationMode     = ONCE
			End
		End

		TransitionState       = TRANS_TO_USER_2
			Animation
				AnimationName     = GUMAArms_RCTB
				AnimationMode     = ONCE
			End
		End
		
		AnimationState = USER_1
			Animation  = ReactionD
				AnimationName     = GUMAArms_RCTD
				AnimationMode     = LOOP
			End
			;BeginScript
			;	Prev = CurDrawablePrevAnimationState()
			;	if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_TO_USER_1") end
			;	if Prev == "STATE_User_3" then CurDrawableSetTransitionAnimState("TRANS_TO_USER_1") end
			;EndScript
		End

		AnimationState = USER_2
			Animation  = ReactionC
				AnimationName     = GUMAArms_RCTC
				AnimationMode     = LOOP
			End
;			BeginScript
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_TO_USER_2") end
;				if Prev == "STATE_User_3" then CurDrawableSetTransitionAnimState("TRANS_TO_USER_1") end
;			EndScript
		End

		AnimationState = USER_3
			Animation  = GUARD_STANCE
				AnimationName     = GUMAArms_IDLA
				AnimationMode     = LOOP
			End
			StateName = STATE_User_3
		End		
		
;		AnimationState = USER_4 ; UNSUSED
;			Animation
;				AnimationName     =
;				AnimationMode     =
;			End
;		End		


		AnimationState			=	EMOTION_ALERT EMOTION_AFRAID
			Animation			=	Apprehensive
				AnimationName	=	GUMAArms_APPA
				AnimationMode	=	ONCE
			End
			Animation			=	Apprehensive2
				AnimationName	=	GUMAArms_APPB
			End
			Flags				=	RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End


		AnimationState        = EMOTION_ALERT
			Animation           = ALERT_1
				AnimationName     = GUMAArms_IDLA
				AnimationMode     = ONCE
				AnimationPriority = 10
			End
			Animation           = ALERT_2
				AnimationName     = GUMAArms_IDLB
				AnimationMode     = ONCE
			End
			Animation           = ALERT_3
				AnimationName     = GUMAArms_IDLC
				AnimationMode     = ONCE
			End
			Animation           = ALERT_4
				AnimationName     = GUMAArms_IDLD
				AnimationMode     = ONCE
			End
			Animation           = ALERT_3
				AnimationName     = GUMAArms_IDLE
				AnimationMode     = ONCE
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE ; acts like an idle animation & keeps running the animations.
		End
		
	End
	
	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThingClass = HORDE_UNIT
	
	EmotionRange = 240 ; Make sure this value is greater than the fear distribution range. 

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GondorSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 80.0
	DisplayName = OBJECT:GondorFighter
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	
	CommandSet = GondorFighterCommandSet

	; *** AUDIO Parameters ***;

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Man at Arms Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	=	Yes
		MoodAttackCheckRate			=	500
		AILuaEventsList				=	GondorFighterFunctions
		MinCowerTime				=	3000
		MaxCowerTime				=	5000
	End

; EDIT SPEED
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 20
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 16
	End
	
	LocomotorSet
		Locomotor = HumanPanicLocomotor
		Condition = SET_PANIC
		Speed	  = 64
	End
	
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStunnedTimeLow = 9000
		ShockStunnedTimeHigh = 15000
		ShockStandingTime = 15000
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL HumanVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry Gondor_Soldier
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
;	Shadow = SHADOW_VOLUME	
	ShadowSizeX = 11;
	ShadowSizeY = 11;
	ShadowTexture = ShadowI;
End




;------------------------------------------------------------------------------
; aka Orc Warrior, MordorOrcWarrior, FighterMordor
Object CINE_MordorFighter
  ; *** ART Parameters ***

  SelectPortrait         = SP_OrcAxe

  Draw = W3DScriptedModelDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

;    RandomTexture = MuOrcWarr.tga 0
;    RandomTexture = MuOrcWarr_B.tga 0
;    RandomTexture = MuOrcWarr_C.tga 0

    DefaultModelConditionState
      Model               = MUOrcWarr_SKN
      Model               = MUOrcWar_D_SKN  ExtraMesh:Yes
      Model               = MUOrcWar_E_SKN	 ExtraMesh:Yes
      Model               = MUOrcWar_F_SKN  ExtraMesh:Yes
      Model               = MUOrcBrute_SKN   ExtraMesh:Yes
;     ShareAnimation      = Yes
    End

	IdleAnimationState
		StateName = STATE_Idle
		Flags = RANDOMSTART
		Animation = IDLL
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLL ;<- gentle crouch----------------
			AnimationPriority = 20
			AnimationBlendTime = 30
		End
		Animation = IDLN
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLN ;<- gentle crouch------------------
			AnimationPriority = 20
			AnimationBlendTime = 30
		End
		Animation = IDLC
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLC ;<- nod over shoulder
		End
;			Animation = IDLK
;				AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLK ;<-- scratch back this anim has a glitch
;			End
	End
  
    AnimationState = THROWN_PROJECTILE
		Animation = Thrown
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYA
		    AnimationMode = LOOP
		End
		Animation = Thrown
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYB
		    AnimationMode = LOOP
		End
		Animation = Thrown
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYC
		    AnimationMode = LOOP
		End
    End    
  
    AnimationState = PASSENGER SIEGE_CONTAIN
		Animation = IDLP
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLS ;<- gentle crouch----------------
			AnimationBlendTime = 5
			AnimationMode = LOOP
		End
    End
    
    AnimationState				=	MOVING BACKING_UP
		Animation				=	BackingUpA
			AnimationName		=	MUOrcWarr_SKL.MUOrcWarr_BAKA
			AnimationMode		=	LOOP
		End
		Animation				=	BackingUpB
			AnimationName		=	MUOrcWarr_SKL.MUOrcWarr_BAKB
			AnimationMode		=	LOOP
		End
		Flags					=	RANDOMSTART 
	End

    AnimationState = MOVING DAMAGED
		Animation = Move_Damaged
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IWKA ;32
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = MOVING
		Flags		= RANDOMSTART
		Animation = RUNA
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_RUNA 
			AnimationMode = LOOP
;		    ShareAnimation = Yes
		End
		Animation = RUNB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_RUNB 
			AnimationMode = LOOP
;		    ShareAnimation = Yes
		End
		Animation = WLKA
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKA 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.5 1.5
		End
		Animation = WLKB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKB 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.5 1.5
		End
		Animation = WLKC
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKC 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.5 1.5
		End
    End

    ;ConditionState        = MOVING WANDER
     ; Animation           = MUOrcWarr_SKL.MUOrcWarr_WLKA
      ;AnimationMode       = LOOP
      ;ParticleSysBone     = None InfantryDustTrails
    ;End
    ;AliasConditionState   = MOVING WANDER DAMAGED
 
    AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_CLMA
			AnimationMode = LOOP_BACKWARDS
		End
    End

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_CLMA
			AnimationMode = LOOP
		End
    End

    AnimationState = FIRING_OR_PREATTACK_A
		Animation = ATKA
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_ATKA
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation = ATKB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_ATKB
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation = ATKC
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_ATKC
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
    End

    AnimationState = DYING SPLATTED
		Animation = Splatted_On_Ground
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End

    AnimationState = DYING AFLAME
		Animation = Flaming_Death
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_MFDA
			AnimationMode = LOOP
		End
    End

    AnimationState = DYING
		Animation = Dying_1
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_DIEA
			AnimationMode = ONCE
		End
		Animation = Dying_2
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_DIEB
			AnimationMode = ONCE
		End
    End

    AnimationState = PASSENGER
		Animation = Wiggle
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLLA
		    AnimationMode = LOOP
		End
    End

    ; --- stunned anims
    AnimationState = STUNNED_FLAILING
		Animation = Flying_1
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYA
			AnimationMode = ONCE
		End
		Animation = Flying_2
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYB
			AnimationMode = ONCE
		End
		Animation = Flying_3
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYC
			AnimationMode = ONCE
		End
		Flags = RANDOMSTART
    End

    AnimationState = STUNNED
		Animation = Splatted_On_Ground
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End

    AnimationState = STUNNED_STANDING_UP  
		Animation = Standing_Back_Up
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_GTPA
			AnimationMode = ONCE
		End
    End
    
    AnimationState = SELECTED
		StateName			= STATE_Selected
		SimilarRestart		=   Yes
		Flags				= RESTART_ANIM_WHEN_COMPLETE 
		Animation = IDLO
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLO ;<- doin the locomotion
			AnimationMode		= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = IDLM
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLM ;<- stand with axe raised
			AnimationMode		= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = SelectedIDLA
			AnimationName		= MUOrcWarr_SKL.MUOrcWarr_IDLA ;<- gentle stand
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = IDLE
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLE ;<- gentle
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = IDLH
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLH ;<- check-out blade
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
		EndScript
    End
    
    TransitionState = TRANS_Idle_to_Selected
		Animation = IDLD
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLD ;<- chop the ground
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLB ;<- both arms in air
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLJ
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLJ ;<- swing axe up
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLG
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLG ;<- throws axe in air
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLF
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLF ;<- stretch & shake
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Flags					= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
    End
    
    ;-emotions--
  		AnimationState					= EMOTION_MORALE_HIGH ;EMOTION_ALERT
			Animation					= Taunting
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_IDLB
				AnimationMode			= ONCE
				AnimationSpeedFactorRange = 0.8 1.2			
			End
			Animation					= Taunting2
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_IDLF
				AnimationMode			= ONCE
				AnimationSpeedFactorRange = 0.8 1.2			
			End
			Animation					= Taunting3
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_IDLG
				AnimationMode			= ONCE
				AnimationSpeedFactorRange = 0.8 1.2			
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End

    	AnimationState					= EMOTION_AFRAID
			Animation					= FERA
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_FERA
				AnimationMode			= LOOP
			End
			Animation					= FERB
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_FERB
				AnimationMode			= LOOP
			End
			Animation					= FERC
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_FERC
				AnimationMode			= LOOP
			End
		End
		
		AnimationState				=	EMOTION_CELEBRATING
			Animation           =	CHRA
				AnimationName   =	MUOrcWarr_SKL.MUOrcWarr_CHRA
				AnimationMode   =	ONCE
				AnimationPriority	=	10
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE	
		End
				
    
    
    
    
  End

  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThingClass = HORDE_UNIT
  TransportSlotCount = 1
  EmotionRange = 240
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    MordorWarriorAxe
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 80.0
  DisplayName = OBJECT:MordorFighter
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  CommandSet = MordorFighterCommandSet

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = 10                  ;BALANCE Orc Warrior Health
    MaxHealthDamaged  = 5
    RecoveryTime      = 5000
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle	=	Yes
    MoodAttackCheckRate			=	500
    AILuaEventsList				=	InfantryFunctions
    MaxCowerTime				=	5000
    MinCowerTime				=	3000
  End
  
  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 80
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 16
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStunnedTimeLow = 9000
    ShockStunnedTimeHigh = 15000
    ShockStandingTime = 6000
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
   Sound = INITIAL UrukDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Behavior = SlowDeathBehavior ModuleTag_07
    ; Same as normal death, but no sound (sound already played by SoundImpact = ... )
    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 24
    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 70%
    TumbleRandomly = Yes

    CrushStyle = Yes ; I don't detonate, I just hit
    DieOnImpact = Yes
    BounceCount = 1   ; When I hit the ground, I'll arc again
    BounceDistance = 40 ; this far
    BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight = 24
    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX       = FX_ThrownRockGroundHit
    GroundBounceFX    = FX_ThrownRockBounceHit
  End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc Unit Infantry
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 6.80	    ; reduced this in order to decrease collision
  GeometryMinorRadius = 6.80	    ; count between fighters in hordes
  GeometryHeight = 19.2
  GeometryIsSmall = No
  Shadow = SHADOW_DECAL
  ShadowSizeX = 11;
  ShadowSizeY = 11;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; aka Orcs without swords
Object CINE_MordorFighterNoSwords
  ; *** ART Parameters ***

  SelectPortrait         = SP_OrcAxe

  Draw = W3DScriptedModelDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

;    RandomTexture = MuOrcWarr.tga 0
;    RandomTexture = MuOrcWarr_B.tga 0
;    RandomTexture = MuOrcWarr_C.tga 0

    DefaultModelConditionState
      Model               = CineOrcWarr_SKN
      Model               = CineOrcWarD_SKN  ExtraMesh:Yes
      Model               = CineOrcWarE_SKN	 ExtraMesh:Yes
      Model               = CineOrcWarF_SKN  ExtraMesh:Yes
      Model               = CineOrcBrte_SKN   ExtraMesh:Yes
;     ShareAnimation      = Yes
    End

	IdleAnimationState
		StateName = STATE_Idle
		Flags = RANDOMSTART
		Animation = IDLL
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLL ;<- gentle crouch----------------
			AnimationPriority = 20
			AnimationBlendTime = 30
		End
		Animation = IDLN
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLN ;<- gentle crouch------------------
			AnimationPriority = 20
			AnimationBlendTime = 30
		End
		Animation = IDLC
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLC ;<- nod over shoulder
		End
;			Animation = IDLK
;				AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLK ;<-- scratch back this anim has a glitch
;			End
	End
  
    AnimationState = THROWN_PROJECTILE
		Animation = Thrown
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYA
		    AnimationMode = LOOP
		End
		Animation = Thrown
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYB
		    AnimationMode = LOOP
		End
		Animation = Thrown
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYC
		    AnimationMode = LOOP
		End
    End    
  
    AnimationState = PASSENGER SIEGE_CONTAIN
		Animation = IDLP
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLS ;<- gentle crouch----------------
			AnimationBlendTime = 5
			AnimationMode = LOOP
		End
    End
    
    AnimationState				=	MOVING BACKING_UP
		Animation				=	BackingUpA
			AnimationName		=	MUOrcWarr_SKL.MUOrcWarr_BAKA
			AnimationMode		=	LOOP
		End
		Animation				=	BackingUpB
			AnimationName		=	MUOrcWarr_SKL.MUOrcWarr_BAKB
			AnimationMode		=	LOOP
		End
		Flags					=	RANDOMSTART 
	End

    AnimationState = MOVING DAMAGED
		Animation = Move_Damaged
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IWKA ;32
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End
    
    AnimationState = MOVING WANDER
		Animation = Walk
			;AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKD
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKE
			AnimationSpeedFactorRange = 1.5 1.5
			AnimationMode = LOOP
		End
    End

    AnimationState = MOVING
		Flags		= RANDOMSTART
		Animation = RUNA
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_RUNA 
			AnimationMode = LOOP
;		    ShareAnimation = Yes
		End
		Animation = RUNB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_RUNB 
			AnimationMode = LOOP
;		    ShareAnimation = Yes
		End
		Animation = WLKA
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKA 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.5 1.5
		End
		Animation = WLKB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKB 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.5 1.5
		End
		Animation = WLKC
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKC 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.5 1.5
		End
    End

;    ConditionState        = MOVING WANDER
;      Animation           = MUOrcWarr_SKL.MUOrcWarr_WLKA ;32
;      Animation           = MUOrcWarr_SKL.MUOrcWarr_WLKB
;      Animation           = MUOrcWarr_SKL.MUOrcWarr_WLKC
;      Animation           = MUOrcWarr_SKL.MUOrcWarr_WLKD
;      AnimationMode       = LOOP
;      ParticleSysBone     = None InfantryDustTrails
;    End
;    AliasConditionState   = MOVING WANDER DAMAGED
 
    AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_CLMA
			AnimationMode = LOOP_BACKWARDS
		End
    End
    

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_CLMA
			AnimationMode = LOOP
		End
    End

    AnimationState = FIRING_OR_PREATTACK_A
		Animation = ATKA
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_ATKA
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation = ATKB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_ATKB
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation = ATKC
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_ATKC
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
    End

    AnimationState = DYING SPLATTED
		Animation = Splatted_On_Ground
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End

    AnimationState = DYING AFLAME
		Animation = Flaming_Death
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_MFDA
			AnimationMode = LOOP
		End
    End

    AnimationState = DYING
		Animation = Dying_1
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_DIEA
			AnimationMode = ONCE
		End
		Animation = Dying_2
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_DIEB
			AnimationMode = ONCE
		End
    End

    AnimationState = PASSENGER
		Animation = Wiggle
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLLA
		    AnimationMode = LOOP
		End
    End

    ; --- stunned anims
    AnimationState = STUNNED_FLAILING
		Animation = Flying_1
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYA
			AnimationMode = ONCE
		End
		Animation = Flying_2
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYB
			AnimationMode = ONCE
		End
		Animation = Flying_3
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYC
			AnimationMode = ONCE
		End
		Flags = RANDOMSTART
    End

    AnimationState = STUNNED
		Animation = Splatted_On_Ground
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End

    AnimationState = STUNNED_STANDING_UP  
		Animation = Standing_Back_Up
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_GTPA
			AnimationMode = ONCE
		End
    End
    
    AnimationState = SELECTED
		StateName			= STATE_Selected
		SimilarRestart		=   Yes
		Flags				= RESTART_ANIM_WHEN_COMPLETE 
		Animation = IDLO
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLO ;<- doin the locomotion
			AnimationMode		= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = IDLM
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLM ;<- stand with axe raised
			AnimationMode		= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = SelectedIDLA
			AnimationName		= MUOrcWarr_SKL.MUOrcWarr_IDLA ;<- gentle stand
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = IDLE
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLE ;<- gentle
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = IDLH
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLH ;<- check-out blade
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
		EndScript
    End
    
    
     ; ---------------------------------


   AnimationState = USER_1
		Animation = RCTA
		AnimationName = MUOrcWarr_SKL.MUOrcWarr_RCTA
		AnimationMode = ONCE
		AnimationBlendTime = 10
		End
	End
    
    
    
    ;---------------------------------------------------
    
    
    TransitionState = TRANS_Idle_to_Selected
		Animation = IDLD
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLD ;<- chop the ground
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLB ;<- both arms in air
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLJ
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLJ ;<- swing axe up
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLG
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLG ;<- throws axe in air
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLF
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLF ;<- stretch & shake
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Flags					= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
    End
    
    ;-emotions--
  		AnimationState					= EMOTION_MORALE_HIGH ;EMOTION_ALERT
			Animation					= Taunting
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_IDLB
				AnimationMode			= ONCE
				AnimationSpeedFactorRange = 0.8 1.2			
			End
			Animation					= Taunting2
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_IDLF
				AnimationMode			= ONCE
				AnimationSpeedFactorRange = 0.8 1.2			
			End
			Animation					= Taunting3
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_IDLG
				AnimationMode			= ONCE
				AnimationSpeedFactorRange = 0.8 1.2			
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End

    	AnimationState					= EMOTION_AFRAID
			Animation					= FERA
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_FERA
				AnimationMode			= LOOP
			End
			Animation					= FERB
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_FERB
				AnimationMode			= LOOP
			End
			Animation					= FERC
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_FERC
				AnimationMode			= LOOP
			End
		End
		
		AnimationState				=	EMOTION_CELEBRATING
			Animation           =	CHRA
				AnimationName   =	MUOrcWarr_SKL.MUOrcWarr_CHRA
				AnimationMode   =	ONCE
				AnimationPriority	=	10
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE	
		End
				
    
    
    
    
  End

  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThingClass = HORDE_UNIT
  TransportSlotCount = 1
  EmotionRange = 240
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    MordorWarriorAxe
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 80.0
  DisplayName = OBJECT:MordorFighter
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  CommandSet = MordorFighterCommandSet

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = 10                  ;BALANCE Orc Warrior Health
    MaxHealthDamaged  = 5
    RecoveryTime      = 5000
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle	=	Yes
    MoodAttackCheckRate			=	500
    AILuaEventsList				=	InfantryFunctions
    MaxCowerTime				=	5000
    MinCowerTime				=	3000
  End
  
  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 20
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 16
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStunnedTimeLow = 9000
    ShockStunnedTimeHigh = 15000
    ShockStandingTime = 6000
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
   Sound = INITIAL UrukDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Behavior = SlowDeathBehavior ModuleTag_07
    ; Same as normal death, but no sound (sound already played by SoundImpact = ... )
    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 24
    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 70%
    TumbleRandomly = Yes

    CrushStyle = Yes ; I don't detonate, I just hit
    DieOnImpact = Yes
    BounceCount = 1   ; When I hit the ground, I'll arc again
    BounceDistance = 40 ; this far
    BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight = 24
    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX       = FX_ThrownRockGroundHit
    GroundBounceFX    = FX_ThrownRockBounceHit
  End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc Unit Infantry
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 6.80	    ; reduced this in order to decrease collision
  GeometryMinorRadius = 6.80	    ; count between fighters in hordes
  GeometryHeight = 19.2
  GeometryIsSmall = No
  Shadow = SHADOW_DECAL
  ShadowSizeX = 11;
  ShadowSizeY = 11;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; aka Orcs without swords
Object CINE_OrcMoranNoSwords
  ; *** ART Parameters ***

  SelectPortrait         = SP_OrcAxe

  Draw = W3DScriptedModelDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

;    RandomTexture = MuOrcWarr.tga 0
;    RandomTexture = MuOrcWarr_B.tga 0
;    RandomTexture = MuOrcWarr_C.tga 0

    DefaultModelConditionState
      Model               = CineOrcMorA_SKN
      Model               = CineOrcMorB_SKN  ExtraMesh:Yes
;     ShareAnimation      = Yes
    End

	IdleAnimationState
		StateName = STATE_Idle
		Flags = RANDOMSTART
		Animation = IDLL
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLL ;<- gentle crouch----------------
			AnimationPriority = 20
			AnimationBlendTime = 30
		End
		Animation = IDLN
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLN ;<- gentle crouch------------------
			AnimationPriority = 20
			AnimationBlendTime = 30
		End
		Animation = IDLC
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLC ;<- nod over shoulder
		End
;			Animation = IDLK
;				AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLK ;<-- scratch back this anim has a glitch
;			End
	End
  
    AnimationState = THROWN_PROJECTILE
		Animation = Thrown
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYA
		    AnimationMode = LOOP
		End
		Animation = Thrown
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYB
		    AnimationMode = LOOP
		End
		Animation = Thrown
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYC
		    AnimationMode = LOOP
		End
    End    
  
    AnimationState = PASSENGER SIEGE_CONTAIN
		Animation = IDLP
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLS ;<- gentle crouch----------------
			AnimationBlendTime = 5
			AnimationMode = LOOP
		End
    End
    
    AnimationState				=	MOVING BACKING_UP
		Animation				=	BackingUpA
			AnimationName		=	MUOrcWarr_SKL.MUOrcWarr_BAKA
			AnimationMode		=	LOOP
		End
		Animation				=	BackingUpB
			AnimationName		=	MUOrcWarr_SKL.MUOrcWarr_BAKB
			AnimationMode		=	LOOP
		End
		Flags					=	RANDOMSTART 
	End

    AnimationState = MOVING DAMAGED
		Animation = Move_Damaged
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IWKA ;32
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End
    
    AnimationState = MOVING WANDER
		Animation = Walk
			;AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKD
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKE
			AnimationSpeedFactorRange = 1.5 1.5
			AnimationMode = LOOP
		End
    End
    

    AnimationState = MOVING
		Flags		= RANDOMSTART
		Animation = RUNA
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_RUNA 
			AnimationMode = LOOP
;		    ShareAnimation = Yes
		End
		Animation = RUNB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_RUNB 
			AnimationMode = LOOP
;		    ShareAnimation = Yes
		End
		Animation = WLKA
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKA 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.5 1.5
		End
		Animation = WLKB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKB 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.5 1.5
		End
		Animation = WLKC
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKC 
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 1.5 1.5
		End
    End

;    ConditionState        = MOVING WANDER
;      Animation           = MUOrcWarr_SKL.MUOrcWarr_WLKA ;32
;      Animation           = MUOrcWarr_SKL.MUOrcWarr_WLKB
;      Animation           = MUOrcWarr_SKL.MUOrcWarr_WLKC
;      Animation           = MUOrcWarr_SKL.MUOrcWarr_WLKD
;      AnimationMode       = LOOP
;      ParticleSysBone     = None InfantryDustTrails
;    End
;    AliasConditionState   = MOVING WANDER DAMAGED
 
    AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_CLMA
			AnimationMode = LOOP_BACKWARDS
		End
    End
    
    AnimationState = MOVING WANDER
		Animation = Walk
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKD
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_WLKE
			AnimationSpeedFactorRange = 0.1 0.1
			AnimationMode = LOOP
		End
    End

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_CLMA
			AnimationMode = LOOP
		End
    End

    AnimationState = FIRING_OR_PREATTACK_A
		Animation = ATKA
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_ATKA
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation = ATKB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_ATKB
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation = ATKC
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_ATKC
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
    End

    AnimationState = DYING SPLATTED
		Animation = Splatted_On_Ground
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End

    AnimationState = DYING AFLAME
		Animation = Flaming_Death
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_MFDA
			AnimationMode = LOOP
		End
    End

    AnimationState = DYING
		Animation = Dying_1
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_DIEA
			AnimationMode = ONCE
		End
		Animation = Dying_2
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_DIEB
			AnimationMode = ONCE
		End
    End

    AnimationState = PASSENGER
		Animation = Wiggle
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLLA
		    AnimationMode = LOOP
		End
    End

    ; --- stunned anims
    AnimationState = STUNNED_FLAILING
		Animation = Flying_1
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYA
			AnimationMode = ONCE
		End
		Animation = Flying_2
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYB
			AnimationMode = ONCE
		End
		Animation = Flying_3
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_FLYC
			AnimationMode = ONCE
		End
		Flags = RANDOMSTART
    End

    AnimationState = STUNNED
		Animation = Splatted_On_Ground
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End

    AnimationState = STUNNED_STANDING_UP  
		Animation = Standing_Back_Up
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_GTPA
			AnimationMode = ONCE
		End
    End
    
    AnimationState = SELECTED
		StateName			= STATE_Selected
		SimilarRestart		=   Yes
		Flags				= RESTART_ANIM_WHEN_COMPLETE 
		Animation = IDLO
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLO ;<- doin the locomotion
			AnimationMode		= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = IDLM
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLM ;<- stand with axe raised
			AnimationMode		= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = SelectedIDLA
			AnimationName		= MUOrcWarr_SKL.MUOrcWarr_IDLA ;<- gentle stand
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = IDLE
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLE ;<- gentle
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		Animation = IDLH
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLH ;<- check-out blade
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
			AnimationSpeedFactorRange = 0.6 0.8
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
		EndScript
    End
    
    TransitionState = TRANS_Idle_to_Selected
		Animation = IDLD
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLD ;<- chop the ground
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLB
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLB ;<- both arms in air
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLJ
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLJ ;<- swing axe up
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLG
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLG ;<- throws axe in air
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation = IDLF
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLF ;<- stretch & shake
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Flags					= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
    End
    
    ;-emotions--
  		AnimationState					= EMOTION_MORALE_HIGH ;EMOTION_ALERT
			Animation					= Taunting
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_IDLB
				AnimationMode			= ONCE
				AnimationSpeedFactorRange = 0.8 1.2			
			End
			Animation					= Taunting2
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_IDLF
				AnimationMode			= ONCE
				AnimationSpeedFactorRange = 0.8 1.2			
			End
			Animation					= Taunting3
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_IDLG
				AnimationMode			= ONCE
				AnimationSpeedFactorRange = 0.8 1.2			
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End

    	AnimationState					= EMOTION_AFRAID
			Animation					= FERA
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_FERA
				AnimationMode			= LOOP
			End
			Animation					= FERB
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_FERB
				AnimationMode			= LOOP
			End
			Animation					= FERC
				AnimationName			= MUOrcWarr_SKL.MUOrcWarr_FERC
				AnimationMode			= LOOP
			End
		End
		
		AnimationState				=	EMOTION_CELEBRATING
			Animation           =	CHRA
				AnimationName   =	MUOrcWarr_SKL.MUOrcWarr_CHRA
				AnimationMode   =	ONCE
				AnimationPriority	=	10
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE	
		End
				
    
    
    
    
  End

  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThingClass = HORDE_UNIT
  TransportSlotCount = 1
  EmotionRange = 240
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    MordorWarriorAxe
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 80.0
  DisplayName = OBJECT:MordorFighter
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  CommandSet = MordorFighterCommandSet

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = 10                  ;BALANCE Orc Warrior Health
    MaxHealthDamaged  = 5
    RecoveryTime      = 5000
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle	=	Yes
    MoodAttackCheckRate			=	500
    AILuaEventsList				=	InfantryFunctions
    MaxCowerTime				=	5000
    MinCowerTime				=	3000
  End
  
  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 20
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 16
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStunnedTimeLow = 9000
    ShockStunnedTimeHigh = 15000
    ShockStandingTime = 6000
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
   Sound = INITIAL UrukDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Behavior = SlowDeathBehavior ModuleTag_07
    ; Same as normal death, but no sound (sound already played by SoundImpact = ... )
    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 24
    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 70%
    TumbleRandomly = Yes

    CrushStyle = Yes ; I don't detonate, I just hit
    DieOnImpact = Yes
    BounceCount = 1   ; When I hit the ground, I'll arc again
    BounceDistance = 40 ; this far
    BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight = 24
    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX       = FX_ThrownRockGroundHit
    GroundBounceFX    = FX_ThrownRockBounceHit
  End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc Unit Infantry
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 6.80	    ; reduced this in order to decrease collision
  GeometryMinorRadius = 6.80	    ; count between fighters in hordes
  GeometryHeight = 19.2
  GeometryIsSmall = No
  Shadow = SHADOW_DECAL
  ShadowSizeX = 11;
  ShadowSizeY = 11;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
Object AtmosphereDome

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Atmsphr
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS ATMOSPHERIC_EFFECTS

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object MountDoom_Matte

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MTTDoom
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End



;------------------------------------------------------------------------------
Object SmokeyPlane

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = WispyCloud
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS ATMOSPHERIC_EFFECTS

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
; aka Trebuchet, GondorTrebuchet, TrebuchetGondor
; Radically increased range, removed flaming round in favor of a big rock.
Object CINE_GondorTrebuchet                         ;BALANCE Trebuchet 
	; *** ART Parameters ***

	;SelectPortrait         = SP_Gondor_Trebuchet
	
	Draw = W3DScriptedModelDraw ModuleTag_DRAW
		DefaultModelConditionState
			Model               = GUSiegTreb_SKN
			WeaponLaunchBone    = PRIMARY Projectile
		End
		ModelConditionState   = DAMAGED
			Model               = GUSiegTreb_DMG
			WeaponLaunchBone    = PRIMARY Projectile
		End
		ModelConditionState =DYING
			Model               = GUSiegTreb_DSKN
			WeaponLaunchBone    = PRIMARY Projectile
		End

   
    IdleAnimationState
      StateName           = Stand
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "TurningLeft" then CurDrawableSetTransitionAnimState("TRANS_Left_To_Stand") end
        if Prev == "TurningRight" then CurDrawableSetTransitionAnimState("TRANS_Right_To_Stand") end
      EndScript
      Animation = IDLES
        AnimationName     = GUSiegTreb_SKL.GUSiegTreb_IDLA
        AnimationName     = GUSiegTreb_SKL.GUSiegTreb_IDLB
        AnimationName     = GUSiegTreb_SKL.GUSiegTreb_IDLC
      AnimationMode       = ONCE
      AnimationBlendTime  = 15
      End
    End

		; --- Turn Transitions
		TransitionState       = Trans_Stand_To_Left
			Animation           = GUSiegTreb_TNSL
				AnimationName     = GUSiegTreb_SKL.GUSiegTreb_TNSL
				AnimationMode     = ONCE
				AnimationBlendTime= 5
				AnimationSpeedFactorRange = 0.6 0.6
			End
		End
		TransitionState       = TRANS_Left_To_Stand
			Animation           = GUSiegTreb_TNSL
				AnimationName     = GUSiegTreb_SKL.GUSiegTreb_TNSL
				AnimationMode     = ONCE_BACKWARDS
				AnimationBlendTime= 5
				AnimationSpeedFactorRange = 0.6 0.6
			End
		End
		TransitionState         = TRANS_Stand_To_Right
			Animation             = GUSiegTreb_TNSR
				AnimationName       = GUSiegTreb_SKL.GUSiegTreb_TNSR
				AnimationMode       = ONCE
				AnimationBlendTime  = 5
				AnimationSpeedFactorRange = 0.6 0.6
			End
		End
		TransitionState         = TRANS_Right_To_Stand
			Animation             = GUSiegTreb_TNSR
				AnimationName       = GUSiegTreb_SKL.GUSiegTreb_TNSR
				AnimationMode       = ONCE_BACKWARDS
				AnimationBlendTime  = 5
				AnimationSpeedFactorRange = 0.6 0.6
			End
		End


		AnimationState			=	 FIRING_OR_PREATTACK_A 
			Animation			=	GUSiegTreb_ATAK
				AnimationName	=	GUSiegTreb_SKL.GUSiegTreb_ATAK
				AnimationMode	=	ONCE
				UseWeaponTiming	=	Yes
			End
			FrameForPristineBonePositions = 36
			
			;ParticleSysBone     = Projectile FlamingRockStart FollowBone:Yes 
			;ParticleSysBone     = Projectile FlamingRockLenzflareStart FollowBone:Yes 			
		End
		
		; --- Turning Anims 
		AnimationState        = TURN_LEFT 
			StateName           = TurningLeft
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Stand" then CurDrawableSetTransitionAnimState("Trans_Stand_To_Left") end
			EndScript
			;ParticleSysBone     = None GenericSiegeTrailDust
			Animation           = GUSiegTreb_TRNL
				AnimationName     = GUSiegTreb_SKL.GUSiegTreb_TRNL
				AnimationMode     = LOOP
				AnimationBlendTime= 5
			End
		End
		AnimationState        = TURN_RIGHT 
			StateName           = TurningRight
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Stand" then CurDrawableSetTransitionAnimState("Trans_Stand_To_Right") end
			EndScript
			;ParticleSysBone     = None GenericSiegeTrailDust
			Animation           = GUSiegTreb_TRNR
				AnimationName     = GUSiegTreb_SKL.GUSiegTreb_TRNR
				AnimationMode     = LOOP
				AnimationBlendTime= 5
			End
		End

		;Hit from the front
		AnimationState			= DYING  DEATH_1
			Animation           = GUSiegTreb_DIEC
				AnimationName   = GUSiegTreb_DSKL.GUSiegTreb_DIEC
				AnimationMode   = ONCE
			End
		End
		
		; Hit from the left side
		AnimationState			= DYING DEATH_2
			Animation           = GUSiegTreb_DIEE
				AnimationName   = GUSiegTreb_DSKL.GUSiegTreb_DIEE
				AnimationMode   = ONCE
			End
		End
		
		;Hit from the rear
		AnimationState			= DYING  DEATH_3
			Animation           = GUSiegTreb_DIED
				AnimationName   = GUSiegTreb_DSKL.GUSiegTreb_DIED
				AnimationMode   = ONCE
			End
		End

		; Hit from the right side
		AnimationState			= DYING  DEATH_4
			Animation           = GUSiegTreb_DIEB
				AnimationName   = GUSiegTreb_DSKL.GUSiegTreb_DIEB
				AnimationMode   = ONCE
			End
		End;



		;Die - ground unit destroys the trebuchet
		AnimationState      = DYING 
			Animation         = GUSiegTreb_DIEA
				AnimationName   = GUSiegTreb_DSKL.GUSiegTreb_DIEA
				AnimationMode   = ONCE
			End
		End		
		

	End

	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
	TransportSlotCount = 1
	
	; Turning flame on permanently for demo.  Will eventually be upgrade or something
	WeaponSet
		Conditions          = None 
		Weapon              = PRIMARY     CINE_GondorTrebuchetRock
	End
;	WeaponSet
;		Conditions          = None 
;		Weapon              = PRIMARY     GondorTrebuchetRockFlaming
;	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = None
	End
	VisionRange = 1200.0
	DisplayName = OBJECT:GondorTrebuchet
	CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	ImmuneToShockwave = Yes
	
	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MACHINE SCORE CAN_ATTACK  
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Trebuchet Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ;Yes
	End

	LocomotorSet
		Locomotor = StationaryMachineLocomotor
		Condition = SET_NORMAL 
		Speed     = 12 ; non-zero so it can turn
	End
	
	Behavior = PhysicsBehavior ModuleTag_04
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = NONE +EXPLODED +BURNED
		SinkDelay = 6000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 18000 
		; OCL = INITIAL OCL_GondorTrebuchetExplodeDeath
            Sound = INITIAL TrebuchetDie

	End
	
	Behavior = SlowDeathBehavior ModuleTag_06
            DeathTypes = ALL 
            SinkDelay = 0
            SinkRate = 36.0     ; in Dist/Sec
            DestructionDelay = 24000
            Sound = INITIAL TrebuchetDie
      End

	Behavior = ClearanceTestingSlowDeathBehavior ModuleTag_05a
		DeathTypes = ALL -EXPLODED -BURNED
		SinkDelay = 2500
		SinkRate = 2.4    ; in Dist/Sec
		DestructionDelay = 60000
		DeathFlags = DEATH_1 
		DecayBeginTime = 6000
		MinKillerAngle            = -46
		MaxKillerAngle            = 46
		DeathFlags                = DEATH_1 ; Sets BOTH model condition and object status bits.
		ProbabilityModifier       = 10000
		
		    ; This is the area which must be clear for this slow death to go off
		; Use Control-Shift-Alt-E in game to display this area
		; Use debug.add l + clearancetestingslowdeathbehavior to get feedback on why test fails
		ClearanceGeometry = Box
		ClearanceGeometryMajorRadius = 32.0
		ClearanceGeometryMinorRadius = 32.0
		ClearanceGeometryHeight = 32.0
		ClearanceGeometryIsSmall = No
		ClearanceGeometryOffset = X:36 Y:0 Z:0

		ClearanceMaxHeight = 32
		ClearanceMaxHeightFraction = 0.040 ; If more than 5% of the cells in the clearance geometry are more than 40 units above  don't fall (don't fall into cliffs)
		ClearanceMinHeight = -32
		ClearanceMinHeightFraction = 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below(don't get left hanging over a cliff)    
	End
	
	Behavior = ClearanceTestingSlowDeathBehavior ModuleTag_05b
		DeathTypes = ALL -EXPLODED -BURNED
		SinkDelay = 2500
		SinkRate = 2.4     ; in Dist/Sec
		DestructionDelay = 60000
		MinKillerAngle            = 44
		MaxKillerAngle            = 136
		DeathFlags                = DEATH_2 ; Sets BOTH model condition and object status bits.
		ProbabilityModifier       = 10000
		
		; This is the area which must be clear for this slow death to go off
		; Use Control-Shift-Alt-E in game to display this area
		; Use debug.add l + clearancetestingslowdeathbehavior to get feedback on why test fails
		ClearanceGeometry = Box
		ClearanceGeometryMajorRadius = 32.0
		ClearanceGeometryMinorRadius = 32.0
		ClearanceGeometryHeight = 32.0
		ClearanceGeometryIsSmall = No
		ClearanceGeometryOffset = X:0 Y:36 Z:0

		ClearanceMaxHeight = 32
		ClearanceMaxHeightFraction = 0.040 ; If more than 5% of the cells in the clearance geometry are more than 40 units above the Oliphant's base, don't fall (don't fall into cliffs)
		ClearanceMinHeight = -32
		ClearanceMinHeightFraction = 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below the Oliphant's base, don't fall (don't get left hanging over a cliff)        
	End
	
	Behavior = ClearanceTestingSlowDeathBehavior ModuleTag_05c
		DeathTypes = ALL -EXPLODED -BURNED
		SinkDelay = 1000
		SinkRate = 4.0     ; in Dist/Sec
		DestructionDelay = 16000
		MinKillerAngle            = 134
		MaxKillerAngle            = 226
		DeathFlags                = DEATH_3 ; Sets BOTH model condition and object status bits.
		ProbabilityModifier       = 10000
		
		; This is the area which must be clear for this slow death to go off
		; Use Control-Shift-Alt-E in game to display this area
		; Use debug.add l + clearancetestingslowdeathbehavior to get feedback on why test fails
		ClearanceGeometry = Box
		ClearanceGeometryMajorRadius = 32.0
		ClearanceGeometryMinorRadius = 32.0
		ClearanceGeometryHeight = 32.0
		ClearanceGeometryIsSmall = No
		ClearanceGeometryOffset = X:-36 Y:0 Z:0

		ClearanceMaxHeight = 32
		ClearanceMaxHeightFraction = 0.040 ; If more than 5% of the cells in the clearance geometry are more than 40 units above the Oliphant's base, don't fall (don't fall into cliffs)
		ClearanceMinHeight = -32
		ClearanceMinHeightFraction = 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below the Oliphant's base, don't fall (don't get left hanging over a cliff)    
	End
	
	Behavior = ClearanceTestingSlowDeathBehavior ModuleTag_05d
		DeathTypes = ALL -EXPLODED -BURNED
		SinkDelay = 1000
		SinkRate = 4.0     ; in Dist/Sec
		DestructionDelay = 16000
		  MinKillerAngle            = 224
		MaxKillerAngle            = 316
		DeathFlags                = DEATH_4 ; Sets BOTH model condition and object status bits.
		ProbabilityModifier       = 10000
		; This is the area which must be clear for this slow death to go off
		; Use Control-Shift-Alt-E in game to display this area
		; Use debug.add l + clearancetestingslowdeathbehavior to get feedback on why test fails
		ClearanceGeometry = Box
		ClearanceGeometryMajorRadius = 32.0
		ClearanceGeometryMinorRadius = 32.0
		ClearanceGeometryHeight = 32.0
		ClearanceGeometryIsSmall = No
		ClearanceGeometryOffset = X:0 Y:-36 Z:0

		ClearanceMaxHeight = 32
		ClearanceMaxHeightFraction = 0.040 ; If more than 5% of the cells in the clearance geometry are more than 40 units above the Oliphant's base, don't fall (don't fall into cliffs)
		ClearanceMinHeight = -32
		ClearanceMinHeightFraction = 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below the Oliphant's base, don't fall (don't get left hanging over a cliff)        
	End
	
	Behavior = SquishCollide ModuleTag_07
		;nothing
	End
	
	Behavior = TransitionDamageFX ModuleTag_8
		ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:FireBuildingLarge         ; persistant damage effect
		ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_GondorTrebuchetTransitionMedium     ; damage impact particle effect
;   ReallyDamagedOCL1 = Loc: X:0 Y:0 Z:0 OCL:OCL_FireFieldSmall                           ; spawn debris and splinters
	End

;  Behavior = FlammableUpdate ModuleTag_9
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 3       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End

  ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: TrebuchetLaunchVoice Animation:GUSiegTreb_SKL.GUSiegTreb_ATAK Frames: 24  Animation:GUSiegTreb_SKL.GUSiegTreb_ATKA Frames: 24 
		AnimationSound = Sound: TrebuchetLaunchVoice Animation:GUSiegTreb_SKL.GUSiegTreb_ATKB Frames: 24 
  End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = SiegeWeapon Unit
	End
	
	Geometry = BOX
	GeometryMajorRadius = 16.0
	GeometryMinorRadius = 16.0
	GeometryHeight = 16.0
	GeometryIsSmall = No
	Shadow = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
Object CINE_GondorTrebuchetRockProjectile_Bouncy

  ; *** ART Parameters ***
;  Draw = W3DModelDraw ModuleTag_01
;    ConditionState        = NONE
;      Model               = GUSiegTreRk
;      Animation           = GUSiegTreRk.GUSiegTreRk
;      AnimationMode       = LOOP
;      ParticleSysBone     = None TrebuchetRockTrail
;      ;ParticleSysBone     = None FlamingRockTrailLenzflare
;      ;ParticleSysBone     = None FlamingRockTrailSmoke
;      ;ParticleSysBone     = None TrebuchetRockTrailDust
;    End
;  End
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    DefaultModelConditionState
      Model = GUSiegTreRk
      ;ParticleSysBone     = None TrebuchetRockTrail
    End
    IdleAnimationState
      Animation              = GUSiegTreRk
        AnimationName        = GUSiegTreRk.GUSiegTreRk
        AnimationMode        = MANUAL
      End
    End
    AnimationState = THROWN_PROJECTILE
      Animation              = GUSiegTreRk
        AnimationName        = GUSiegTreRk.GUSiegTreRk
        AnimationMode        = LOOP
      End
      ;ParticleSysBone     = None TrebuchetRockTrail
    End
    
  End

  ; *** AUDIO Parameters ***
  SoundAmbient = CatapultProjectileFlying


  ; ***DESIGN parameters ***
  EditorSorting     = SYSTEM
  ArmorSet
    Armor = NoArmor
  End
  VisionRange = 0.0

  ; *** ENGINEERING Parameters ***
  KindOf = PROJECTILE
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100.0
  End

  Behavior = DestroyDie ModuleTag_04
    ;nothing
  End
  
  Behavior = BezierProjectileBehavior ModuleTag_05 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight = 20  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 20
    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 80%
    
        TumbleRandomly = No

    CrushStyle = Yes ; I don't detonate, I just hit
    BounceCount = 3   ; When I hit the ground, I'll arc again
    BounceDistance = 80 ; this far
    BounceFirstHeight = 20  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight = 20
    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX       = FX_TrebuchetImpactHit
    GroundBounceFX    = FX_TrebuchetImpactHit

    GroundHitWeapon   = CINE_GondorTrebuchetRockWarhead
    GroundBounceWeapon   = CINE_GondorTrebuchetRockWarhead

  End

  Behavior = PhysicsBehavior ModuleTag_06
  End

  Behavior = CreateObjectDie ModuleTag_07
    DeathTypes = ALL
    CreationList = OCL_GondorTrebuchetRockProjectileBits
  End

  Behavior = FXListDie ModuleTag_08
    DeathTypes = ALL
    DeathFX = FX_TrebuchetImpactHit
  End

  Geometry = Sphere
  GeometryIsSmall = Yes
  GeometryMajorRadius = 0.8
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
; Gandalf on a horse
Object CINE_GondorGandalfCavalry
	; *** ART Parameters ***
	; NOTE: If you are updating any of the art parameters, you should really check
	; GondorCavalryRiderless in FactionSubObject.ini and see if it needs to be updated

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPGandalf
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIGandalf
    
	Draw = W3DScriptedModelDraw ModuleTag_01 
	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		;Removed non-armored horse textures
		;--------------------------------------------------
		;RandomTexture = CUHorse_BnA.tga 0 CUHorse_BnWtA.tga
		;RandomTexture = CUHorse_BnWtA.tga 0 CUHorse_BnWtA.tga
		;RandomTexture = CUHorse_WtA.tga 0 CUHorse_BnWtA.tga
		;RandomTexture = CUHorse_WtBkA.tga 0 CUHorse_BnWtA.tga
		; TODO!! Fix so that spawned horse has same random texture

		DefaultModelConditionState
			Model	=	GUGdfHrs_SKN_M
		End
		
		IdleAnimationState
			Animation	=	IdleA
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_IDLA
				AnimationPriority	=	20
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
			Animation				=	IdleB
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_IDLB
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
			Animation				=	IdleC
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_IDLC
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
		End
		
		; --- stunned anims
		AnimationState				=	STUNNED_FLAILING 
			Animation				=	JustDie
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_FLYA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End

		AnimationState				=	STUNNED
			Animation				=	Land
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_LNDA
				AnimationMode		=	ONCE
			End
		End

		AnimationState				=	STUNNED_STANDING_UP
			Animation				=	StandUp
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_GTPA
				AnimationMode		=	ONCE
			End
		End


		; This is the first spawn horse type of death
		AnimationState				=	DYING DEATH_1
			Animation				=	DieAndSpawn
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_DIEB
				AnimationMode		=	ONCE
			End
		End

		; This is the second spawn horse type of death
		AnimationState				=	DYING DEATH_3
			Animation				=	DieAndSpawn
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_DIEC
				AnimationMode		=	ONCE
			End
		End

		; This is the no-spawn-horse type of death
		AnimationState				=	DYING	; DEATH_2 Normally has DEATH_2, but just as a backup don't insist
			Animation				=	JustDie
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_DIEA
				AnimationMode		=	ONCE
			End
		End

		; This is what happens when Theo gives his rousing speech
		AnimationState				=	MOVING USING_SPECIAL_ABILITY
			Animation				=	RousingSpeech
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_WLKB
				AnimationMode		=	LOOP
			End
			;ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOVING TURN_LEFT 
			Animation				=	TurnLeft
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_TRNL
				AnimationMode		=	LOOP
			End
;			ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOVING TURN_RIGHT 
			Animation				=	TurnRight
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_TRNR
				AnimationMode		=	LOOP
			End
;			ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOVING ACCELERATE
			Animation				=	Accelerate
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ACCL
				AnimationMode		=	LOOP
			End
			ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOVING DECELERATE
			Animation				=	Decelerate
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_DECL
				AnimationMode		=	ONCE
			End
			;ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOVING WALKING
			Animation				=	Walk
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_WLKA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			ParticleSysBone			=	None InfantryDustTrails  
		End
		
		AnimationState				=	MOVING BACKING_UP
			Animation				=	BackingUp
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_BAKA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			;ParticleSysBone			=	None InfantryDustTrails  
		End


		AnimationState				=	MOVING
			Animation				=	RunA
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_RUNA
				AnimationMode		=	LOOP
			End
 			Flags					=	RANDOMSTART
			ParticleSysBone			=	None CalvaryDustTrails  
		End
		
		AnimationState				=	ATTACKING
			Animation				=	AttackA
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATKA
				AnimationMode		=	ONCE
			End
			Animation				=	AttackB
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATKB
				AnimationMode		=	ONCE
			End
			Animation				=	AttackC
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATKC
				AnimationMode		=	ONCE
			End
			Animation				=	Defend
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_DFDA
				AnimationMode		=	ONCE
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState				=	REALLYDAMAGED
			Animation				=	DamagedIdle
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_IDLF
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
		End
		
		AnimationState				=	USING_SPECIAL_ABILITY
			Animation				=	RousingSpeech
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_SPCA
				AnimationMode		=	LOOP
				;AnimationBlendTime	=	149
        ;AnimationMustCompleteBlend = yes
			End
		End

		AnimationState				=	SELECTED
			SimilarRestart			=   Yes			
			StateName				=	AtAttentionIdle
			Animation				=	ATNB
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_IDLH
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
				if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
			EndScript
		End

		TransitionState				=	TRANS_Select
			Animation				=	ATNA
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATNA
				AnimationMode		=	ONCE
			End
		End
	End
	; NOTE, PLEASE: If you are changing this unit in any way, you should consider changing 
	; GondorCavalryRiderless in FactionSubObject.ini

; Removing stafflight
;	Draw = W3DLightDraw ModuleTag_StaffLight
;		Ambient = R:0 G:0 B:0
;		Diffuse = R:128 G:128 B:255
;		Radius = 25
;		Intensity = 10
;		AttachToBoneInAnotherModule = Staff
;	End 

	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	
	TransportSlotCount = 1
	ArmorSet
		Conditions      = None
		Armor           = HeroArmor
		DamageFX        = NormalDamageFX
	End
	
; Demo change to not ever use the sword.  When switch back, be sure to rearrange anim connections
	WeaponSet
		Conditions = None
		Weapon = PRIMARY GandalfStaffWeapon
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY GandalfStaffWeapon
;		Weapon = SECONDARY GandalfSpell			; Make sure this weapon's position lines up with the FireWeaponSlotCommandButton that fires it.
		AutoChooseSources = SECONDARY NONE
	End

	VisionRange = 160.0
	DisplayName = OBJECT:GandalfTheWhite
	CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0	; Don't let him crush anything
	RamPower = 30;
	RamZMult = 0.5;

	CommandSet = GondorGandalfCommandSet

	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	ThingClass = CAVALRY_UNIT

	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE ATTACK_NEEDS_LINE_OF_SIGHT
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 100000000                  ;BALANCE Gandalf Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 1000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes
		AILuaEventsList				=	GandalfFunctions
	End

	LocomotorSet
		Locomotor = HorseLocomotor
		Condition = SET_NORMAL 
		Speed     = 104
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 16000
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	; 66% chance of die & horse-runs-away, 33% horse dies too
	Behavior = SlowDeathBehavior ModuleTag_07
		; Die-and-spawn-horse number 1
		SinkDelay = 30000 ; Should be >= DestructionDelay; spawned objects are responsible for sinking
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 3000 ; MUST BE EQUAL TO LENGTH OF DIEB ANIMATION
		DeathTypes = ALL 
		OCL = FINAL OCL_TheodenCavalryDeathRunAwayB
		ProbabilityModifier = 33
		DeathFlags = DEATH_1 ; Tell model which death animation to play. Sets BOTH model condition and object status bits.
	End
	
	Behavior = SlowDeathBehavior ModuleTag_08
		; Die and don't spawn horse
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 10000
		ProbabilityModifier = 33
		DeathFlags = DEATH_2 ; Tell model which death animation to play. Sets BOTH model condition and object status bits.
	End

	Behavior = SlowDeathBehavior ModuleTag_09
		; Die-and-spawn-horse number 2
		SinkDelay = 30000 ; Should be >= DestructionDelay; spawned objects are responsible for sinking
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 2000 ; MUST BE EQUAL TO LENGTH OF DIED ANIMATION
		DeathTypes = ALL 
		OCL = FINAL OCL_TheodenCavalryDeathRunAwayD
		ProbabilityModifier = 33
		DeathFlags = DEATH_3 ; Tell model which death animation to play. Sets BOTH model condition and object status bits.
	End
	
	Behavior = OCLSpecialPower ModuleTag_10
		SpecialPowerTemplate = SuperweaponPartTheHeavens
		OCL                  = SUPERWEAPON_PartTheHeavens
	End
	

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Cavalry
	End
	
	Behavior = WeaponSetUpgrade ModuleTag_ActivateSpell
		TriggeredBy = Upgrade_GandalfBlast
	End
	
	Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= GandalfPassiveLeadership
		RefreshDelay	= 2000
		Range			= 120
		ObjectFilter	= ANY +INFANTRY +CAVALRY -DOZER -STRUCTURE -BASE_FOUNDATION 
	End	
	
	Behavior = OCLSpecialPower	ModuleTag_ShieldBubble
		SpecialPowerTemplate = SpecialPowerShieldBubble

		OCL = OCL_GandalfShieldBubble
		CreateLocation = USE_OWNER_OBJECT
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 16.0
	GeometryMinorRadius = 16.0
	GeometryHeight = 20.0
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
	ShadowSizeX = 32;
	ShadowSizeY = 20;
	ShadowTexture = ShadowI;

	; So the question you need to ask yourself is: do I need to change GondorCavalryRiderless?
	; Well, do ya, punk?
End

;------------------------------------------------------------------------------
; aka Catapult, MordorCatapult, CatapultMordor
Object CINE_MordorCatapult_LR                         ;LONG RANGE
  ; *** ART Parameters ***

  SelectPortrait         = SP_Catapult

  Draw = W3DTruckDraw ModuleTag_01
     DefaultModelConditionState
      Model               = MUCatapult_SKN
      WeaponLaunchBone    = PRIMARY Projectile
	  End
	  IdleAnimationState
	    Animation = Idle1
        AnimationName       = MUCatapult_SKL.MUCatapult_IDLA
        AnimationMode       = ONCE
        AnimationBlendTime  = 15
      End
	    Animation = Idle1
        AnimationName       = MUCatapult_SKL.MUCatapult_IDLB
        AnimationMode       = ONCE
        AnimationBlendTime  = 15
      End
	    Animation = Idle1
        AnimationName       = MUCatapult_SKL.MUCatapult_IDLC
        AnimationMode       = ONCE
        AnimationBlendTime  = 15
      End
      BeginScript
        CurDrawableHideSubObject("ProjectileRock")
      EndScript
    End
    
    AnimationState				=	MOVING BACKING_UP
		Animation				=	BackingUp
			AnimationName           = MUCatapult_SKL.MUCatapult_BAKA
			AnimationMode       = LOOP
			AnimationSpeedFactorRange = 2.0 2.0           ; get those legs pumping!
		End
		ParticleSysBone     = WheelL01 GenericSiegeTrailDust
		ParticleSysBone     = WheelR01 GenericSiegeTrailDust
    End

    AnimationState        = MOVING
      Animation = Move
        AnimationName           = MUCatapult_SKL.MUCatapult_MOVA
        AnimationMode       = LOOP
        AnimationSpeedFactorRange = 2.0 2.0           ; get those legs pumping!
      End
      ParticleSysBone     = WheelL01 GenericSiegeTrailDust
      ParticleSysBone     = WheelR01 GenericSiegeTrailDust
    End

	AnimationState        = FIRING_OR_PREATTACK_A 
		Animation			= ATKA
			AnimationName           = MUCatapult_SKL.MUCatapult_ATKA
			AnimationMode       = ONCE
			UseWeaponTiming	= Yes
		End
		FrameForPristineBonePositions = 24
		ParticleSysBone     = Projectile FlamingRockStart FollowBone:Yes 
		ParticleSysBone     = Projectile FlamingRockLenzflareStart FollowBone:Yes 
	End

    AnimationState        = TURN_LEFT 
      Animation = TurningLeft
        AnimationName           = MUCatapult_SKL.MUCatapult_TRNL
        AnimationMode       = LOOP
        AnimationSpeedFactorRange = 1.2 1.2
      End
      ParticleSysBone     = WheelL02 GenericSiegeTrailDust
      ParticleSysBone     = WheelR02 GenericSiegeTrailDust
    End

    AnimationState        = TURN_RIGHT 
      Animation = TurningRight
        AnimationName           = MUCatapult_SKL.MUCatapult_TRNR
        AnimationSpeedFactorRange = 1.2 1.2
        AnimationMode       = LOOP
      End
      ParticleSysBone     = WheelL01 GenericSiegeTrailDust
      ParticleSysBone     = WheelR01 GenericSiegeTrailDust
    End
    
    ; --------- Click and Hit Reactions ------------	
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = MUCatapult_SKL.MUCatapult_HITA
				AnimationMode = ONCE
			End
		End


    ModelConditionState        = DAMAGED
      Model               = MUCatpD
    End

    TrackMarks = EXTireTrack2_Temp.tga
    TrackMarksLeftBone = WheelL02
    TrackMarksRightBone = WheelR02



    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = WheelL01
    RightFrontTireBone          = WheelR01
    LeftRearTireBone            = WheelL02
    RightRearTireBone           = WheelR02
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5   ; This speed is added to the rotation speed when powersliding.

    ParticlesAttachedToAnimatedBones = Yes

 End
 
  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     CINE_MordorCatapultRock
  End
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 1200.0
  ShroudClearingRange = 360
  DisplayName = OBJECT:MordorCatapult
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  ImmuneToShockwave = Yes

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MACHINE SCORE CAN_ATTACK  
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = 10                  ;BALANCE Catapult Health
    MaxHealthDamaged  = 5
    RecoveryTime      = 5000
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
       AutoAcquireEnemiesWhenIdle = Yes ;Yes
  End

  LocomotorSet
    Locomotor = CatapultLocomotor
    Condition = SET_NORMAL
    Speed     = 12
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = NONE +EXPLODED +BURNED
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 0  ;8000
    OCL = FINAL OCL_MordorCatapultExplodeDeath
    FX = INITIAL FX_CatapultDieExplosion
  End

  Behavior = SlowDeathBehavior ModuleTag_06 
    DeathTypes = ALL -EXPLODED -BURNED
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 0  ;8000
    OCL = FINAL OCL_MordorCatapultDeath
    FX = INITIAL FX_CatapultDie
  End

  Behavior = SquishCollide ModuleTag_07
    ;nothing
  End

  Behavior = TransitionDamageFX ModuleTag_8
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:FireBuildingLarge         ; persistant damage effect
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_GondorCatapultTransitionMedium     ; damage impact particle effect
;   ReallyDamagedOCL1 = Loc: X:0 Y:0 Z:0 OCL:OCL_FireFieldSmall                           ; spawn debris and splinters
  End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = SiegeWeapon Unit 
  End
  
  	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 45 ; level 1 (light  damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer2 = 90 ; level 2 (medium damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer3 = 60 ; level 3 (heavy  damage)  hit reaction animations in frames (30 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End
 
  Geometry = BOX
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 18.4
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
;campfire with hirez sparks
Object CINEFireCampfireNight

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = PCampFire_N
      ;embers and smoke particle elements
      ParticleSysBone = emberBone CampFireSmoke
      ParticleSysBone = emberBone CINECampfireEmbers
      ParticleSysBone = emberBone CampfireGlow
    End
  End

  ; *** AUDIO Parameters ***
	SoundAmbient  = Campfire1AmbientLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Campfire
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE CLEARED_BY_BUILD
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
  End

  Behavior = DestroyDie ModuleTagDeath_03
    DeathTypes = ALL
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.2
  GeometryMinorRadius = 2.4
  GeometryHeight = 1.6
  GeometryIsSmall = Yes
End


;------------------------------------------------------------------------------
Object CINE_MordorCatapultRockProjectile

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
   DefaultModelConditionState  
      Model               = MUCatapult_FP01
      ParticleSysBone     = None FlamingRockStart
      ParticleSysBone     = None FlamingRockTrailLenzflare
	  ;ParticleSysBone     = None FlamingRockTrail  ;switched to a particle trail steveM 2.5.04
      ParticleSysBone     = None CatapultRockSmoke
    End
    AnimationState        = NONE
      Animation           = MUCatapult_FP01
        AnimationName     = MUCatapult_FP01.MUCatapult_FP01
        AnimationMode     = LOOP
      End
    End
  End

  Draw = W3DLightDraw ModuleTag_02
    Ambient = R:0 G:0 B:0
    Diffuse = R:255 G:180 B:0
    Radius = 50
    Intensity = 12
    AttachToBoneInAnotherModule = GEOSPHERE01
  End

  ; *** AUDIO Parameters ***
  SoundAmbient = CatapultProjectileFlying

  ; ***DESIGN parameters ***
  EditorSorting     = SYSTEM
  ArmorSet
    Armor = NoArmor
  End
  VisionRange = 0.0

  ; *** ENGINEERING Parameters ***
  KindOf = PROJECTILE
  ImmuneToShockwave = yes
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100.0
  End

  Behavior = DestroyDie ModuleTag_04
    ;nothing
  End
    
  Behavior = BezierProjectileBehavior ModuleTag_05
    DetonateCallsKill = Yes
    ; 
    FirstHeight = 52;40  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 52
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 80%
    FlightPathAdjustDistPerSecond   = 0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
  End

  Behavior = PhysicsBehavior ModuleTag_06
  End

; Does incidental fire damage in addition to normal rock attack
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_07
    StartsActive = Yes
    DeathWeapon = MordorCatapultRockFlame
  End

  Behavior = FXListDie ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    DeathFX = FX_CatapultFlamingProjectileExplosion
  End

  Behavior = CreateObjectDie ModuleTag_09
    DeathTypes = ALL -CRUSHED -SPLATTED
    ;CreationList = OCL_MordorCatapultRockProjectileBits
  End

  Geometry = Sphere
  GeometryIsSmall = Yes
  GeometryMajorRadius = 0.8
End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
; aka Gondor Archer
Object CINE_GondorArcher
	; *** ART Parameters ***
	UpgradeCameo1						=	Upgrade_FireArrows
	SelectPortrait						=	SP_Gondor_Swordman
	Draw								=	W3DScriptedModelDraw ModuleTag_01

	; --- test entries for attachable submodels
;	AttachModel =
;		Bone = BAT_Head
;		Model = GU_Helmet001
;	End
	
;	AttachModel = ATTACKING
;		Bone = BAT_FarmL
;		Model = GU_Shield001
;	End

;	AttachModel = NOT_ATTACKING
;		Bone = B_HandR
;		Model = GU_Sword001
;	End

	ParticlesAttachedToAnimatedBones = yes

	DefaultModelConditionState
		Model						=	GUArcher_SKN
		Skeleton					=   GUArcher_SKL
		WeaponLaunchBone			=	PRIMARY ARROW
		WeaponLaunchBone			=	SECONDARY ARROWNOCK	; when upgraded to flaming arrow
	End
	ModelConditionState WEAPONSET_PLAYER_UPGRADE
		Model						=	GUArcher_SKN
		Skeleton					=   GUArcher_SKL
		WeaponLaunchBone			=	PRIMARY ARROW
		WeaponLaunchBone			=	SECONDARY ARROWNOCK	; when upgraded to flaming arrow
		;ParticleSysBone				=   FireArowTip arrowFire FollowBone:Yes
	End
	IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleA
			AnimationName			=	GUArcher_IDLA 
			AnimationPriority		=	10
			AnimationSpeedFactorRange = 0.7 1.3
		End
		Animation = IdleB
			AnimationName			=	GUArcher_IDLB 
			AnimationPriority		=	5
			AnimationSpeedFactorRange = 0.7 1.3
		End
		Animation = IdleC
			AnimationName			=	GUArcher_IDLC
			AnimationPriority		=	5
			AnimationSpeedFactorRange = 0.7 1.3
		End
		Animation = IdleD
			AnimationName			=	GUArcher_IDLD
			AnimationPriority		=	5
			AnimationSpeedFactorRange = 0.7 1.3
		End
		Animation = IdleE
			AnimationName			=	GUArcher_IDLE
			AnimationPriority		=	5
			AnimationSpeedFactorRange = 0.7 1.3
		End
		Animation = IdleF
			AnimationName			=	GUArcher_IDLF
			AnimationPriority		=	5
			AnimationSpeedFactorRange = 0.7 1.3
		End			
		
		BeginScript
			CurDrawableShowSubObject("arrow")
			CurDrawableHideSubObject("arrownock")
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
		EndScript
	End

    AnimationState        = PASSENGER
		Animation           = FLLA
			AnimationName     = GUArcher_FLLA
			AnimationMode     = LOOP
		End
    End
    AnimationState        = THROWN_PROJECTILE
		Animation           = FLYA
			AnimationName     = GUArcher_FLYA
			AnimationMode     = LOOP
		End
    End

; When units are all in a horde, they move at the same speed.  So the damaged looks wrong.
;	AnimationState					=	MOVING DAMAGED
;		Animation					=	Wander1
;			AnimationName			=	GUArcher_IWKA 
;		End
;		Flags						=	RANDOMSTART
;		;ParticleSysBone				=	None InfantryDustTrails
;	End
;********************************************************************

		AnimationState					=	MOVING WANDER
			Animation					=	Wander1
				AnimationName			=	GUArcher_WLKA 
			End
			Animation					=	Wander2
				AnimationName			=	GUArcher_WLKB ;20
			End
			Flags						=	RANDOMSTART
		End
		
		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			Animation					= TerrorFromTheSky
				AnimationName			= GUArcher_RUNC
				AnimationMode			= LOOP
			End
		End

		AnimationState					=	MOVING WEAPONSET_PLAYER_UPGRADE
			Animation					=	Move1
				AnimationName			=	GUArcher_RUNA 
			End
			Animation					=	Move2
				AnimationName			=	GUArcher_RUNB ;20
			End
			Flags						=	RANDOMSTART
		End
		
		AnimationState				=	MOVING BACKING_UP
			Animation				=	BackingUp
				AnimationName		=	GUArcher_BAKA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End
		
		AnimationState					=	MOVING
			Animation					=	Move1
				AnimationName			=	GUArcher_RUNA 
			End
			Animation					=	Move2
				AnimationName			=	GUArcher_RUNB ;20
			End
			Flags						=	RANDOMSTART
		End


		AnimationState					=	 FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
			Animation					=	ATKD
				AnimationName			=	GUArcher_ATKD 
				AnimationMode			=	ONCE
				UseWeaponTiming			=	Yes
			End
		End

		AnimationState					=	FIRING_OR_PREATTACK_B
			Animation					=	ATKE
				AnimationName			=	GUArcher_ATKE
				AnimationMode			=	LOOP
				UseWeaponTiming			=	Yes
			End
			FrameForPristineBonePositions = 33
		End

		AnimationState					=	FIRING_OR_PREATTACK_A AIM_HIGH
			Animation					=	ATKB
				AnimationName			=	GUArcher_ATKB 
				AnimationMode			=	LOOP
				UseWeaponTiming			=	Yes
			End
		End


		AnimationState					=	FIRING_OR_PREATTACK_A AIM_LOW
			Animation					=	ATKC
				AnimationName			=	GUArcher_ATKC 
				AnimationMode			=	LOOP
				UseWeaponTiming			=	Yes
			End
		End

		AnimationState					=	FIRING_OR_PREATTACK_A 
			Animation					=	ATKA
				AnimationName			=	GUArcher_ATKA 
				AnimationMode			=	LOOP
				UseWeaponTiming			=	Yes
			End
			FrameForPristineBonePositions = 60
		End

		AnimationState					=	DYING SPLATTED
			Animation					=	Fire
				AnimationName			=	GUArcher_LNDA 
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
                  EnteringStateFX = FX_SoldierHitGround
		End

		AnimationState					=	DYING AFLAME
			Animation					=	Fire
				AnimationName			=	GUArcher_MFDA 
				AnimationSpeedFactorRange = 0.9 1.1
			End
		End

		AnimationState					=	DYING
			Animation					=	Die1
				AnimationName			=	GUArcher_DIEA 
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation					=	Die2
				AnimationName			=	GUArcher_DIEB 
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
		End

		AnimationState					=	STUNNED_STANDING_UP 
			Animation					=	GTPA
				AnimationName			=	GUArcher_GTPA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.1
			End
		End

		; --- stunned anims
		AnimationState					=	STUNNED_FLAILING 
			Animation					=	StunFlail
				AnimationName			=	GUArcher_FLLA 
				AnimationMode			=	LOOP
			End
			Flags						=	RANDOMSTART
		End

		AnimationState					=	STUNNED 
			Animation					=	StunFlail
				AnimationName			=	GUArcher_LNDA 
				AnimationMode			=	ONCE
			End
                  EnteringStateFX = FX_SoldierHitGround
		End
		
		AnimationState					= EMOTION_AFRAID
			Animation					= FERA
				AnimationName			= GUArcher_FERA
				AnimationMode			= LOOP
			End
			Animation					= FERB
				AnimationName			= GUArcher_FERB
				AnimationMode			= LOOP
			End
			Animation					= FERC
				AnimationName			= GUArcher_FERC
				AnimationMode			= LOOP
			End
			Animation					= FERD
				AnimationName			= GUArcher_FERD
				AnimationMode			= LOOP
			End
		End
		

		AnimationState			= EMOTION_CELEBRATING
			Animation           = CHRA
				AnimationName   = GUArcher_CHRA
				AnimationMode   = Once
			End
			Animation           = CHRB
				AnimationName   = GUArcher_CHRB
				AnimationMode   = Once
			End
			Animation           = CHRC
				AnimationName   = GUArcher_CHRC
				AnimationMode   = Once
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		
		
		AnimationState					= EMOTION_ALERT EMOTION_MORALE_HIGH
			Animation					= Taunting
				AnimationName			= GUArcher_TNTA
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= GUArcher_IDLE
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End
		
			
		AnimationState					=	EMOTION_ALERT EMOTION_AFRAID
			Animation					=	Apprehensive
				AnimationName			=	GUArcher_APPA
				AnimationMode			=	LOOP	;Change this to ONCE if adding additional anims
			End
		End
		
		AnimationState					= EMOTION_AFRAID
			StateName					= STATE_Cowering
			Animation					= FERA
				AnimationName			= GUArcher_FERA
				AnimationMode			= LOOP
			End
			Animation					= FERB
				AnimationName			= GUArcher_FERB
				AnimationMode			= LOOP
			End
		End

		AnimationState					=	SELECTED
			StateName					=	STATE_Selected
			Animation					=	ATNB
				AnimationName			=	GUArcher_ATNB
				AnimationMode			=	LOOP
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation					=	IDLA
				AnimationName			=	GUArcher_IDLA 
				AnimationPriority		=	10
				AnimationSpeedFactorRange = 0.7 1.3
			End

			BeginScript
				if CurDrawableModelcondition("WEAPONSET_PLAYER_UPGRADE")
				then
					CurDrawableHideSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableHideSubObject("arrownock")
				end
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" 
				then 
					CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") 
				end
				if CurDrawableModelcondition("ATTACKING")
				then
					return "IDLA"
				else
					return "ATNB"
				end
			EndScript
		End
		
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	GUArcher_ATNA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.8 1.2
				AnimationPriority		=   8
			End
			Animation					=	SLTA
				AnimationName			=	GUArcher_SLTA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 1.0 1.5
				AnimationPriority		=   1
			End
		End
		TransitionState					=	TRANS_Selected_To_Idle
			Animation					=	ATNC
				AnimationName			=	GUArcher_ATNC
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.5 2.0
			End
		End
		
			; --------- Click and Hit Reactions ------------	
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUArcher_HITA
				AnimationMode = ONCE
			End
		End

		AnimationState		= WEAPONSET_PLAYER_UPGRADE
			StateName					=   STATE_Idle
			Animation = IdleA
				AnimationName			=	GUArcher_IDLA 
				AnimationPriority		=	10
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation = IdleB
				AnimationName			=	GUArcher_IDLB 
				AnimationPriority		=	5
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation = IdleC
				AnimationName			=	GUArcher_IDLC
				AnimationPriority		=	5
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation = IdleD
				AnimationName			=	GUArcher_IDLD
				AnimationPriority		=	5
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation = IdleE
				AnimationName			=	GUArcher_IDLE
				AnimationPriority		=	5
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation = IdleF
				AnimationName			=	GUArcher_IDLF
				AnimationPriority		=	5
				AnimationSpeedFactorRange = 0.7 1.3
			End			
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
			EndScript
		End
	End
	


	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 1

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    CINE_GondorArcherBowFireArrow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = SECONDARY	CINE_GondorArcherBowFireArrow
		AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY   GondorArcherBowMelee
	End
	
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 560.0
	ShroudClearingRange = 160
	DisplayName = OBJECT:GondorArcher
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	
	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT ARCHER;GRAB_AND_KILL
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Archer Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes
		CanAttackWhileContained = Yes
;		AILuaEventsList = InfantryFunctions
		AILuaEventsList				=	ArcherFunctions		 ;; temp, Archers not afraid of trolls
		MinCowerTime				=	8000
		MaxCowerTime				=	10000
	End
	
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL
		Speed     = 56
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 16
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End

	Behavior = AimWeaponBehavior AimWeaponModuleTag
		AimLowThreshold  = -0.15
		AimHighThreshold =  0.15
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.600     ; in Dist/Sec
		DestructionDelay = 12000
            Sound = INITIAL GondorArcherVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = BezierProjectileBehavior ModuleTag_07 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_08
		TriggeredBy = Upgrade_FireArrows
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry Gondor_Archer
	End
	
	Behavior = DualWeaponBehavior ModuleTag_09
		SwitchWeaponOnCloseRangeDistance = 40
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 45 ; level 1 (light  damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer2 = 90 ; level 2 (medium damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer3 = 60 ; level 3 (heavy  damage)  hit reaction animations in frames (30 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 11;
	ShadowSizeY = 11;
	ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; Dove
Object CINE_Dove_white_in_game          
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    RandomTexture = CUBird02.TGA 0
    DefaultModelConditionState
      Model               = CUBird_flya
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = CUBird_flya.CUBird_flya
        AnimationMode       = ONCE
      End
    End
    AnimationState        = MOVING
      Animation = Moving
        AnimationName       = CUBird_flya.CUBird_flya
        AnimationMode       = LOOP
      End
      Flags               = RANDOMSTART
    End

  End
 
  ; ***DESIGN parameters ***
;  Side = Mordor
  EditorSorting =     MISC_NATURAL
  Browser = CINEMATICS MISC_NATURAL
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 120.0
  DisplayName = OBJECT:Dove
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD NO_COLLIDE IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER
 
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = CINE_CrowLocomotor
    Condition = SET_NORMAL 
    Speed     = 120
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = No
  Shadow = SHADOW_Volume
  ShadowSizeX = 71
;  ShadowSizeX = 14;
;  ShadowSizeY = 14;
;  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; Dove
Object CINE_Dove_white_in_game_medium          
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    RandomTexture = CUBird02.TGA 0
    DefaultModelConditionState
      Model               = CUBird_flya
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = CUBird_flya.CUBird_flya
        AnimationMode       = ONCE
      End
    End
    AnimationState        = MOVING
      Animation = Moving
        AnimationName       = CUBird_flya.CUBird_flya
        AnimationMode       = LOOP
      End
      Flags               = RANDOMSTART
    End

  End
 
  ; ***DESIGN parameters ***
;  Side = Mordor
  EditorSorting =     MISC_NATURAL
  Browser = CINEMATICS MISC_NATURAL
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 120.0
  DisplayName = OBJECT:Dove
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD NO_COLLIDE IGNORED_IN_GUI INFANTRY PATH_THROUGH_EACH_OTHER
 
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = CINE_CrowLocomotor_Med
    Condition = SET_NORMAL 
    Speed     = 120
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = No
  Shadow = SHADOW_Volume
  ShadowSizeX = 71
;  ShadowSizeX = 14;
;  ShadowSizeY = 14;
;  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; aka Man at Arms, GondorManatArms, FighterGondor
Object CINE_GondorBanner
	; *** ART Parameters ***

	SelectPortrait         = SP_Gondor_Swordman

	Draw = W3DScriptedModelDraw ModuleTag_01

   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		DefaultModelConditionState
			Model               = GUBanner_SKN
			Skeleton            = GUBanner_SKL
		End

		IdleAnimationState
			Animation           = IDLA
				AnimationName     = GUBanner_IDLA
				AnimationMode     = ONCE
				AnimationBlendTime  = 15
				AnimationPriority = 20
			End
			Animation				=	IdleB
				AnimationName		=	GUBanner_IDLB
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
				AnimationPriority = 1
			End
			Flags						= RANDOMSTART
			StateName           = Idle
		End
	
		AnimationState        = ATTACKING PREATTACK_A
			Animation           = ATKA
				AnimationName     = GUBanner_ATKA
				AnimationMode     = LOOP
				AnimationBlendTime  = 15
			End
			StateName           = Attack
		End
		
		AnimationState				=	MOVING BACKING_UP
			Animation				=	BackingUp
				AnimationName		=	GUBanner_BAKA
				AnimationMode		=	LOOP
				AnimationBlendTime  = 15
			End
			Flags					=	RANDOMSTART
		End
		

		AnimationState        = MOVING
			Animation           = RUNA
				AnimationName     = GUBanner_RUNA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End


		AnimationState = DYING AFLAME
			Animation = Flaming_Death
			AnimationName = GUBanner_MFDA
				AnimationMode = ONCE
			End
		End

		AnimationState        = DYING
			Animation           = DIEA
				AnimationName     = GUBanner_DIEA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState        = STUNNED_FLAILING
			Animation           = StunFlail
				AnimationName     = GUBanner_FLYA
				AnimationMode      = LOOP
			End
			Flags               = RANDOMSTART
		End


		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = GUBanner_LNDA
				AnimationMode     = ONCE
			End
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GTPA
				AnimationName     = GUBanner_GTPA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState = PASSENGER
			Animation = Wiggle
				AnimationName = GUBanner_FLLA
				AnimationMode = LOOP
			End
		End
		
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUBanner_HITA
				AnimationMode = ONCE
			End
		End
		
;---user animations
		AnimationState = USER_1
			Animation  = GUARD_STANCE
				AnimationName     = GUBanner_ATNB
				AnimationMode     = LOOP
			End
			StateName = STATE_User_1
		End			
		
		AnimationState = USER_2
			Animation  = GUARD_STANCE
				AnimationName     = GUBanner_IDLB
				AnimationMode     = LOOP
			End
			StateName = STATE_User_2
		End			

		AnimationState = USER_3
			Animation  = GUARD_CHEER
				AnimationName     = GUBanner_CHRA
				AnimationMode     = LOOP
			End
			StateName = STATE_User_3
		End			
		
;---emotion animations
		AnimationState				=	EMOTION_CELEBRATING
				Animation           =	CHRA
					AnimationName   =	GUBanner_CHRA
					AnimationMode   =	ONCE
				End
				Flags				=	RESTART_ANIM_WHEN_COMPLETE
				
			End
			
		AnimationState					= EMOTION_ALERT EMOTION_MORALE_HIGH
			Animation					= Taunting
				AnimationName			= GUBanner_TNTA
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState					= EMOTION_AFRAID
			Animation					= FERA
				AnimationName			= GUBanner_FERA
				AnimationMode			= LOOP
			End
		End
				
		AnimationState					=	EMOTION_ALERT EMOTION_AFRAID
			Animation					=	Apprehensive
				AnimationName			=	GUBanner_APPA
				AnimationMode			=	LOOP	;Change this to ONCE if adding additional anims
			End
		End
		
		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			Animation					= TerrorFromTheSky
				AnimationName			= GUBanner_RUNB
				AnimationMode			= LOOP
			End
		End


;---selected and transitions	
		 AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation = ATNB
				AnimationName = GUBanner_ATNB
				AnimationMode = ONCE
				AnimationBlendTime  = 15
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_To_Selected") end
			EndScript
		End
		
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	GUBanner_ATNA
				AnimationMode			=	ONCE
			End
		End

	End
	
	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 1

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GondorSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 80.0
	DisplayName = OBJECT:GondorFighter
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	
	CommandSet = GondorFighterCommandSet

	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Man at Arms Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes
		MoodAttackCheckRate        = 500
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 56
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 16
	End
	  
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStunnedTimeLow = 9000
		ShockStunnedTimeHigh = 15000
		ShockStandingTime = 15000
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL HumanVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 45 ; level 1 (light  damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer2 = 90 ; level 2 (medium damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer3 = 60 ; level 3 (heavy  damage)  hit reaction animations in frames (30 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 11;
	ShadowSizeY = 11;
	ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; this is the MT main gate but altered so the pathfinding is on top
Object CINE_MinisGate1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMgate1_high
    End
      WallBoundsMesh = P1
   ;  WallBoundsMesh = P1 ; no bounds for now - we need to be able to walk through the gate.
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE
  Browser = CINEMATICS STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 84.0
  GeometryHeight        = 40.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:989.7640 Y:0.0
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
; aka Oliphant, MordorOliphant, OliphantMordor, Mumakil, MordorMumakil, MumakilMordor
Object CINE_MordorMumakil                         ;BALANCE Mumakil 
  ; *** ART Parameters ***
  
  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BMMumakilPen_Mumakil

  SelectPortrait         = SP_Oliphant

  Draw = W3DQuadrupedDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    ExtraPublicBone            = e_FrontLeft
    ExtraPublicBone            = e_FrontRight
    ExtraPublicBone            = e_BackLeft
    ExtraPublicBone            = e_BackRight
    ExtraPublicBone            = B_CARGO0
    ExtraPublicBone            = B_LLLID

    DefaultModelConditionState
      Model               = MUMumakil_SKN
    End
    
	; THE VETERAN/UPGRADED MODEL IS DEFINED BELOW ALL THE ANIMATIONS... DON'T MOVE IT !

    IdleAnimationState
      Animation = IDLA ; 
        AnimationName = MUMumakil_SKL.MUMumakil_IDLA ; 
        AnimationPriority = 5 ; // will be chosen 5 times more often than a default (1) priority animation.
        ;AnimationBlendTime  = 10
      End
      Animation = IDLB 
        AnimationName = MUMumakil_SKL.MUMumakil_IDLB ; 
        ;AnimationBlendTime  = 10
      End
      ;Animation = IDLC
      ;  AnimationName = MUMumakil_SKL.MUMumakil_IDLC ; 
      ;  AnimationBlendTime  = 10
      ;End
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Charging" then CurDrawableSetTransitionAnimState("TRANS_StopCharge") return end
        if Prev == "Moving" and CurDrawablePrevAnimFraction()>0.66 then CurDrawableSetTransitionAnimState("TRANS_Stop66") return end
        if Prev == "Moving" and CurDrawablePrevAnimFraction()>0.33 then CurDrawableSetTransitionAnimState("TRANS_Stop33") return end
        if Prev == "Moving" then CurDrawableSetTransitionAnimState("TRANS_Stop00") return end
      EndScript
      StateName = Idle
    End


    ; moving off map  - potentially E3 HACK
    AnimationState        = MOVING AFLAME RUNNING_OFF_MAP
      Animation           = MoveIt
        AnimationName		= MUMumakil_SKL.MUMumakil_RUNA
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes
    End

	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; BEING MUMAKIL AFALME REALLYDAMAGED ANIMATION STATES ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    AnimationState      = MOVING TURN_LEFT_HIGH_SPEED AFLAME REALLYDAMAGED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNLB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes

      FXEvent	= Frame:7 Name: FX_MUMLeftRearFootStep
	FXEvent	= Frame:28 Name: FX_MUMLeftFrontFootStep	  
	FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Left_High_Speed_Damaged
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed_Damaged" then CurDrawableAllowToContinue() return end
      EndScript
    End

    AnimationState        = MOVING TURN_RIGHT_HIGH_SPEED AFLAME REALLYDAMAGED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNRB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes

	  FXEvent	= Frame:7 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:28 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Right_High_Speed_Damaged
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Left_High_Speed_Damaged" then CurDrawableAllowToContinue() return end
      EndScript
    End
	
    AnimationState        = MOVING TURN_LEFT AFLAME REALLYDAMAGED
      Animation           = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNL
        AnimationMode       = LOOP
        AnimationBlendTime  = 20
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes

	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep

      StateName       = Turn_Slow
    End

    AnimationState        = MOVING TURN_RIGHT AFLAME REALLYDAMAGED
      Animation           = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNR
        AnimationMode       = LOOP
        AnimationBlendTime  = 20
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes

	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep

      StateName       = Turn_Slow
    End

   AnimationState         = MOVING WEAPONSET_RAMPAGE AFLAME
      Animation = Walk
        AnimationName = MUMumakil_SKL.MUMumakil_RPGA
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes   
      
	  FXEvent	= Frame:41 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:43 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:69 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:101 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:110 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:111 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:123 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:127 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:133 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:149 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:185 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:195 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:211 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:216 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:235 Name: FX_MUMLeftRearFootStep
               
      StateName           = Moving
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Accelerate1_aflame") end
      EndScript
    End

    AnimationState			= WEAPONSET_RAMPAGE
      Animation				= Rampage
        AnimationName		= MUMumakil_SKL.MUMumakil_RPGA
        AnimationMode       = LOOP
        ;AnimationBlendTime  = 5
      End
      
	  FXEvent	= Frame:41 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:43 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:69 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:101 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:110 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:111 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:123 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:127 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:133 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:149 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:185 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:195 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:211 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:216 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:235 Name: FX_MUMLeftRearFootStep
    End
    
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; END MUMAKIL AFALME REALLYDAMAGED ANIMATION STATES ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    

;;;;;;;;;;;;;;;;;;;;;;;;;;
; Attacking Animations
;;;;;;;;;;;;;;;;;;;;;;;;;;
    AnimationState				= TURN_LEFT ATTACKING
		Animation				= Turn
			AnimationName		= MUMumakil_SKL.MUMumakil_TRNLB
			AnimationMode       = LOOP
			AnimationBlendTime  = 5
		End

	  FXEvent	= Frame:7 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:28 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

	End
	
    AnimationState			= TURN_RIGHT ATTACKING
      Animation				= Turn
        AnimationName		= MUMumakil_SKL.MUMumakil_TRNRB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End

	  FXEvent	= Frame:7 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:28 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

	End	

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Charging animations
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     AnimationState        = MOVING TURN_LEFT_HIGH_SPEED CHARGING
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_WLKB1
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:27 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:43 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Left_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End

    AnimationState         = MOVING TURN_RIGHT_HIGH_SPEED CHARGING
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_WLKB2
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:27 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:43 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Right_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Left_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End
        
    AnimationState			= MOVING TURN_LEFT CHARGING
		Animation			= Turn
			AnimationName		= MUMumakil_SKL.MUMumakil_TRNLB
			AnimationMode       = LOOP
			AnimationBlendTime  = 5
		End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:30 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

	End
	
    AnimationState          = MOVING TURN_RIGHT CHARGING
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNRB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:30 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

	End	

    AnimationState          = MOVING CHARGING
      Animation = Charge
        AnimationName = MUMumakil_SKL.MUMumakil_MFDA
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
;       AnimationSpeedFactorRange = 0.5 0.5
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:7 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:14 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:20 Name: FX_MUMRightFrontFootStep

      StateName           = Charging
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Accelerate2") end
      EndScript

    End

   AnimationState				=	FIRING_OR_PREATTACK_B
		Animation				=	ATKA
				AnimationName	= MUMumakil_SKL.MUMumakil_ATKA
				AnimationMode   = ONCE
				UseWeaponTiming	= Yes
		End

		Animation				=	ATKB
				AnimationName	= MUMumakil_SKL.MUMumakil_ATKB
				AnimationMode   = ONCE
				UseWeaponTiming	= Yes
		End
		Animation				=	ATKC
				AnimationName	= MUMumakil_SKL.MUMumakil_ATKC
				AnimationMode   = ONCE
				UseWeaponTiming	= Yes
		End
		Animation				=	ATKD
				AnimationName	= MUMumakil_SKL.MUMumakil_ATKD
				AnimationMode   = ONCE
				UseWeaponTiming	= Yes
		End
		Flags					=	RESTART_ANIM_WHEN_COMPLETE
	End

    AnimationState          = MOVING TURN_LEFT_HIGH_SPEED REALLYDAMAGED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNLB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End

	  FXEvent	= Frame:7 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:28 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Left_High_Speed_Damaged
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed_Damaged" then CurDrawableAllowToContinue() return end
      EndScript
    End

    AnimationState        = MOVING TURN_RIGHT_HIGH_SPEED REALLYDAMAGED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNRB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End

	  FXEvent	= Frame:7 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:28 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Right_High_Speed_Damaged
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Left_High_Speed_Damaged" then CurDrawableAllowToContinue() return end
      EndScript
    End

	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; BEING MUMAKIL AFALME ANIMATION STATES ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     AnimationState         = MOVING TURN_LEFT_HIGH_SPEED AFLAME
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNLA
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes  
      
	  FXEvent	= Frame:1 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:8 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:13 Name: FX_MUMRightRearFootStep	  
	  FXEvent	= Frame:20 Name: FX_MUMRightFrontFootStep
                
      StateName           = Turn_Left_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End

    AnimationState        = MOVING TURN_RIGHT_HIGH_SPEED AFLAME
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNRA
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes 
      
	  FXEvent	= Frame:1 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:8 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:13 Name: FX_MUMRightRearFootStep	  
	  FXEvent	= Frame:20 Name: FX_MUMRightFrontFootStep      
                 
      StateName           = Turn_Right_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Left_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End

    AnimationState        = MOVING TURN_LEFT AFLAME
      Animation           = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNL
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes  
      
	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep      
                
      StateName       = Turn_Slow
    End

    AnimationState        = MOVING TURN_RIGHT AFLAME
      Animation           = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNR
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes  
      
	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep      
                
      StateName       = Turn_Slow
    End

    AnimationState          = MOVING AFLAME
      Animation = Walk
        AnimationName       = MUMumakil_SKL.MUMumakil_RUNA
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes  
      
	  FXEvent	= Frame:1 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:8 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:11 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:20 Name: FX_MUMRightFrontFootStep      
                
      StateName           = Moving
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Accelerate1_aflame") end
      EndScript
    End

       ; Decay when dead flat for the VETERAN UPGRADED VERSION
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_1 AFLAME
      Model                = MUMumakilVDIEBF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_1 AFLAME 
      Animation            = dead1
        AnimationName       = MUMumakilVDIEBF.MUMumakilVDIEBF
        AnimationMode      = ONCE
      End
    End
    
    ; Decay when dead on the right side for the VETERAN UPGRADED VERSION
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_2 AFLAME 
      Model                = MUMumakilVDIEAF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_2 AFLAME 
      Animation            = dead2
        AnimationName      = MUMumakilVDIEAF.MUMumakilVDIEAF
        AnimationMode      = ONCE
      End
    End

    ; Decay when dead on the left side for the VETERAN UPGRADED VERSION
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_3 AFLAME 
      Model                = MUMumakilVDIECF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_3 AFLAME 
      Animation            = dead3
        AnimationName      = MUMumakilVDIECF.MUMumakilVDIECF
        AnimationMode      = ONCE
      End
    End

       ; Decay when dead flat 
    ModelConditionState    = DYING DECAY DEATH_1 AFLAME
      Model                = MUMumakil_DIEBF
    End;

    AnimationState         = DYING DECAY DEATH_1 AFLAME
      Animation            = dead1
        AnimationName       = MUMumakil_DIEBF.MUMumakil_DIEBF
        AnimationMode      = ONCE
      End
    End
    
    ; Decay when dead on the right side
    ModelConditionState    = DYING DECAY DEATH_2 AFLAME
      Model                = MUMumakil_DIEAF
    End;

    AnimationState         = DYING DECAY DEATH_2 AFLAME
      Animation            = dead2
        AnimationName      = MUMumakil_DIEAF.MUMumakil_DIEAF
        AnimationMode      = ONCE
      End
    End

    ; Decay when dead on the left side
    ModelConditionState    = DYING DECAY DEATH_3 AFLAME
      Model                = MUMumakil_DIECF
    End;
    
    AnimationState         = DYING DECAY DEATH_3 AFLAME
      Animation            = dead3
        AnimationName      = MUMumakil_DIECF.MUMumakil_DIECF
        AnimationMode      = ONCE
      End
    End
    
    ; Die - Fall flat
    AnimationState         = DYING DEATH_1 AFLAME
      Animation            = Die1
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEB
        AnimationMode      = ONCE
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes            
    End
    
    ; Fall to right side aflame
    AnimationState         = DYING DEATH_2 AFLAME
      Animation            = Die1
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEA
        AnimationMode      = ONCE
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes            
    End

    ; Fall to left side aflame
    AnimationState         = DYING DEATH_3 AFLAME
      Animation            = Die2
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEC
        AnimationMode      = ONCE
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes            
    End
    
    TransitionState = TRANS_Accelerate1_aflame
      Animation = Transition
        ; TRANS_Stand TRANS_Moving00     ; transition from the standing into the moving animation
        ;TRANS_Turn_Slow TRANS_Moving00 ; transition from the slow turn into the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_ACCL1
        AnimationMode       = ONCE
        AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes 

	  FXEvent	= Frame:27 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:48 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:50 Name: FX_MUMLeftRearFootStep	  
    
    End

    TransitionState = TRANS_Accelerate2_aflame
      Animation = Transition
        AnimationName = MUMumakil_SKL.MUMumakil_ACCL2
        AnimationMode       = ONCE
        AnimationBlendTime  = 10
      End
      
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes 

	  FXEvent	= Frame:21 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:25 Name: FX_MUMRightRearFootStep    
    End

    TransitionState    = TRANS_StopCharge_aflame
      Animation = Transition
        ;TRANS_Charging TRANS_Stand     ; transition from charging anim to the stop anim
        AnimationName = MUMumakil_SKL.MUMumakil_DECL4
        AnimationMode       = ONCE
        AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes 

	  FXEvent	= Frame:1 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:1 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:11 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:18 Name: FX_MUMRightRearFootStep    
	  FXEvent	= Frame:59 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:59 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:75 Name: FX_MUMLeftRearFootStep
    
    End

    TransitionState = TRANS_Stop66_aflame
      Animation = Transition
        ;TRANS_Moving66 TRANS_Stand     ; transition from between 66% - 100% of the moving animation
        AnimationName           = MUMumakil_SKL.MUMumakil_DECL3
        AnimationMode       = ONCE
        AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes      
    End

    TransitionState = TRANS_Stop33_aflame
      Animation = Transition
        ;TRANS_Moving33 TRANS_Stand     ; transition from between 33% - 66% of the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_DECL2
        AnimationMode       = ONCE
        AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes      
    End

    TransitionState = TRANS_Stop00_aflame
      Animation = Transition
        ;TRANS_Moving33 TRANS_Stand     ; transition from between 33% - 66% of the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_DECL1
        AnimationMode       = ONCE
        AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes      
    End    
    
    
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; END MUMAKIL AFALME ANIMATION STATES ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


     AnimationState        = MOVING TURN_LEFT_HIGH_SPEED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_WLKB1
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:27 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:43 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Left_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End

    AnimationState        = MOVING TURN_RIGHT_HIGH_SPEED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_WLKB2
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:27 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:43 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Right_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Left_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End
    
    AnimationState				=	MOVING BACKING_UP
		Animation				=	BackingUp
			AnimationName		=	MUMumakil_SKL.MUMumakil_BAKA
			AnimationMode		=	LOOP
		End
		Flags					=	RANDOMSTART
	End

    AnimationState        = MOVING TURN_LEFT
      Animation           = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNL
        AnimationMode       = LOOP
        AnimationBlendTime  = 30
      End

	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep

      StateName       = Turn_Slow
    End

    AnimationState        = MOVING TURN_RIGHT
      Animation           = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNR
        AnimationMode       = LOOP
        AnimationBlendTime  = 30
      End

	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep

      StateName       = Turn_Slow
    End


   AnimationState        = MOVING REALLYDAMAGED
      Animation = Walk
        AnimationName = MUMumakil_SKL.MUMumakil_WLKC
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:8 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:31 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:46 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:55 Name: FX_MUMRightFrontFootStep

      StateName           = Moving
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        ;if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Accelerate1") end
      EndScript
    End

    AnimationState        = MOVING
      Animation = Walk
        ;AnimationName       = MUMumakil_SKL.MUMumakil_RUNB
        AnimationName       = MUMumakil_SKL.MUMumakil_WLKA
        AnimationMode       = LOOP
        AnimationBlendTime  = 10
      End

	  FXEvent	= Frame:9 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:31 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:74 Name: FX_MUMRightFrontFootStep

      StateName           = Moving
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        ;if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Accelerate1") end
      EndScript
    End

    TransitionState = TRANS_Accelerate1
      Animation = Transition
        AnimationName		= MUMumakil_SKL.MUMumakil_ACCL1
        AnimationMode       = ONCE
        AnimationBlendTime	= 10
      End

	  FXEvent	= Frame:27 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:48 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:50 Name: FX_MUMLeftRearFootStep	

    End

    TransitionState = TRANS_Accelerate2
      Animation = Transition
        AnimationName		= MUMumakil_SKL.MUMumakil_ACCL2
        AnimationMode       = ONCE
        AnimationBlendTime  = 10
      End

	  FXEvent	= Frame:21 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:25 Name: FX_MUMRightRearFootStep 

    End

    TransitionState = TRANS_StopCharge
      Animation = Transition
        ;TRANS_Charging TRANS_Stand     ; transition from charging anim to the stop anim
        AnimationName = MUMumakil_SKL.MUMumakil_DECL4
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End

	  FXEvent	= Frame:1 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:1 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:11 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:18 Name: FX_MUMRightRearFootStep    
	  FXEvent	= Frame:59 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:59 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:75 Name: FX_MUMLeftRearFootStep

    End

    TransitionState = TRANS_Stop66
      Animation = Transition
        ;TRANS_Moving66 TRANS_Stand     ; transition from between 66% - 100% of the moving animation
        AnimationName           = MUMumakil_SKL.MUMumakil_DECL3
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
    End

    TransitionState = TRANS_Stop33
      Animation = Transition
        ;TRANS_Moving33 TRANS_Stand     ; transition from between 33% - 66% of the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_DECL2
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
    End

    TransitionState = TRANS_Stop00
      Animation = Transition
        ;TRANS_Moving33 TRANS_Stand     ; transition from between 33% - 66% of the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_DECL1
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
    End


;-----------veteran
       ; Decay when dead flat for VETERAN UPGRADED UNITS
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DEATH_1 DECAY 
      Model                = MUMumakilVDIEBF
    End

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DEATH_1 DECAY 
      Animation            = dead1
        AnimationName       = MUMumakilVDIEBF.MUMUMAKILVDIEBF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End
 
    
;    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DEATH_1
;      Animation            = Die1
;        AnimationName      = MUMumakilVSKL.MUMumakilVDIEB
;        AnimationMode      = ONCE
;      End
;    End

    ; Decay when dead on the right side for VETERAN UPGRADED UNITS
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DEATH_2 DECAY
      Model                = MUMumakilVDIEAF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DEATH_2 DECAY
      Animation            = dead2
        AnimationName      = MUMumakilVDIEAF.MUMUMAKILVDIEAF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End

    ; Decay when dead on the left side for VETERAN UPGRADED UNITS
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DEATH_3 DECAY
      Model                = MUMumakilVDIECF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DEATH_3 DECAY
      Animation            = dead3
        AnimationName      = MUMumakilVDIECF.MUMUMAKILVDIECF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End
;-----------veteran



       ; Decay when dead flat 
    ModelConditionState    = DYING DECAY DEATH_1
      Model                = MUMumakil_DIEBF
    End;

    AnimationState         = DYING DECAY DEATH_1
      Animation            = dead1
        AnimationName       = MUMumakil_DIEBF.MUMumakil_DIEBF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End
   
    AnimationState         = DYING DEATH_1
      Animation            = Die1
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEB
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End

    ; Decay when dead on the right side
    ModelConditionState    = DYING DECAY DEATH_2
      Model                = MUMumakil_DIEAF
    End;

    AnimationState         = DYING DECAY DEATH_2
      Animation            = dead2
        AnimationName      = MUMumakil_DIEAF.MUMumakil_DIEAF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End

    ; Decay when dead on the left side
    ModelConditionState    = DYING DECAY DEATH_3
      Model                = MUMumakil_DIECF
    End;

    AnimationState         = DYING DECAY DEATH_3
      Animation            = dead3
        AnimationName      = MUMumakil_DIECF.MUMumakil_DIECF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
		Model						= MUMumakilUP
	End

    ; Fall to right side
    AnimationState         = DYING DEATH_2
      Animation            = Die1
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEA
        AnimationMode      = ONCE
		
      End
		ParticleSysBone     = NONE NazgulSplatDust FollowBone:yes
		ParticleSysBone     = NONE TrebuchetImpactDebris FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDust FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDebris FollowBone:yes
    End

    ; Fall to left side
    AnimationState         = DYING DEATH_3
      Animation            = Die2
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEC
        AnimationMode      = ONCE
      End
		ParticleSysBone     = NONE NazgulSplatDust FollowBone:yes
		ParticleSysBone     = NONE TrebuchetImpactDebris FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDust FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDebris FollowBone:yes
    End
    
 
    AnimationState         = DYING DEATH_4
      Animation            = Die4
        AnimationName      = MUMumakil_SKL.MUMumakil_DIED
        AnimationMode      = ONCE
      End
		ParticleSysBone     = NONE NazgulSplatDust FollowBone:yes
		ParticleSysBone     = NONE TrebuchetImpactDebris FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDust FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDebris FollowBone:yes
    End

    AnimationState			= AFLAME
      Animation = IDLA ; 
        AnimationName = MUMumakil_SKL.MUMumakil_IDLA ; 
        AnimationPriority = 5 ; // will be chosen 5 times more often than a default (1) priority animation.
        AnimationBlendTime  = 10
      End
      Animation = IDLB 
        AnimationName = MUMumakil_SKL.MUMumakil_IDLB ; 
        AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Charging" then CurDrawableSetTransitionAnimState("TRANS_StopCharge_aflame") return end
        if Prev == "Moving" and CurDrawablePrevAnimFraction()>0.66 then CurDrawableSetTransitionAnimState("TRANS_Stop66_aflame") return end
        if Prev == "Moving" and CurDrawablePrevAnimFraction()>0.33 then CurDrawableSetTransitionAnimState("TRANS_Stop33_aflame") return end
        if Prev == "Moving" then CurDrawableSetTransitionAnimState("TRANS_Stop00_aflame") return end
      EndScript
      StateName = Idle
    End
    
    AnimationState = HIT_REACTION HIT_LEVEL_1
		Animation = Hit_Level_1_a
			AnimationName = MUMumakil_SKL.MUMumakil_HITA
			AnimationMode = ONCE
		End
	End

	AnimationState = HIT_REACTION HIT_LEVEL_2
		Animation = Hit_Level_2_a
			AnimationName =MUMumakil_SKL.MUMumakil_HITB
			AnimationMode = ONCE
		End
	End
	
	AnimationState			= EMOTION_MORALE_LOW REALLYDAMAGED
      Animation				= Rampage
        AnimationName		= MUMumakil_SKL.MUMumakil_RPGA
        AnimationMode       = LOOP
        ;AnimationBlendTime  = 5
      End
    End
    
    ModelConditionState =JUST_BUILT
		Model	=  MBMumkPen_BLDA
    End
    
    AnimationState  = JUST_BUILT
      Animation = Being_Built
        AnimationName     = MBMumkPen_BLDA.MBMumkPen_BLDA
        AnimationMode =ONCE
      End
    End
    
    ; Used by FOUR_LEGS_HUGE locomotor type to balance on the ground
    LeftFrontFootBone           = e_FrontLeft
    RightFrontFootBone          = e_FrontRight
    LeftRearFootBone            = e_BackLeft
    RightRearFootBone           = e_BackRight

  End
 
  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
	ThreatLevel = 3.0
  ThingClass = LARGE_MONSTER

  ShowHealthInSelectionDecal = Yes

	ShroudClearingRange = 280
	TransportSlotCount = 10
	ImmuneToShockwave = yes
	
	WeaponSet
		Conditions          = None 
		Weapon				= PRIMARY	  MordorMumakilCharge
		Weapon              = SECONDARY   MordorMumakilKnockback
	End
	  
	WeaponSet
		Conditions          = CLOSE_RANGE CONTESTING_BUILDING
		Weapon              = PRIMARY     MordorMumakilKnockback
	End
	  
	WeaponSet
		Conditions          = RAMPAGE
		Weapon              = PRIMARY     MumakilRampage
	End
  
  	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon				= PRIMARY	  MordorMumakilCharge
		Weapon              = SECONDARY   MordorMumakilKnockback
	End

  	WeaponSet
		Conditions = SPECIAL_UPGRADE
		Weapon				= PRIMARY	  MordorMumakilChargeSpecial
		Weapon              = SECONDARY   MordorMumakilKnockback
	End
  
  ArmorSet
    Conditions      = None
    Armor           = MumakilArmor
    DamageFX        = None
  End
	VisionRange = 320.0
	DisplayName = OBJECT:MordorMumakil
	CrusherLevel           = 4  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
	CrushableLevel         = 4  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CommandSet = MordorMumakilCommandSet
 
	; *** AUDIO Parameters ***;

  


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT PATH_THROUGH_INFANTRY TRANSPORT

	BuildCost = 2000
	BuildTime = 3
	BuildFadeInOnCreateList = MumakilHowda
	BuildFadeInOnCreateTime = 30

	Body = DelayedDeathBody ModuleTag_02
		MaxHealth					= 3000                 ;BALANCE Mumakil Health
		DelayedDeathTime			= 999999
		CanRespawn					= No			; Unit can't get revived.
	End

	;Mumakil Upgrade
	Behavior = WeaponSetUpgrade ModuleTag_WeaponsetUpgrade
		TriggeredBy = Upgrade_MumakilLevel2
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AILuaEventsList	=	CinematicMumakilFunctions
		RampageTime		=	7960
		TimeToEjectPassengersOnRampage = 2300
	End

	Behavior = FireWeaponUpdate FireWeaponUpdateModuleTag
		Weapon = MordorMumakilHeroEffect
		ChargingModeTrigger = Yes		; this will happen when in enraged mode
		AliveOnly = Yes					; this will only fire when the mumakil is alive
	End

	Behavior = FlammableUpdate ModuleTag_03a
		AflameDuration		= 999999;If I catch fire, I'll burn for this long...
		AflameDamageAmount	= 10	; taking this much damage...
		AflameDamageDelay	= 1000  ; this often.
		FlameDamageLimit	= 10
		BurnContained       = Yes
            FireFXList = FX:FX_FireStartWoosh

	End

	Behavior LifetimeUpdate LifetimeTag
		WaitForWakeUp	=	Yes
	End
   
	;Only triggered after a rampage takes place.	
	Behavior = RunOffMapBehavior ModuleTag_RunOff
		RequiresSpecificTrigger = Yes ;Triggers when DetachableRiderUpdate says so!
		RunOffMapWaypointName	= MumakilExit
	End


	; Death weapons for fall flat
	Behavior = FireWeaponWhenDeadBehavior ModuleTag_07
	  RequiredStatus = DEATH_1
	  StartsActive = Yes
	  DelayTime = 250 
	  DeathWeapon = MordorOliphantDeathStraightInitial
	End

	;Behavior = FireWeaponWhenDeadBehavior ModuleTag_08
	;	RequiredStatus = DEATH_1
	;	StartsActive = Yes
	;	DelayTime = 250 
	;	DeathWeapon = MordorOliphantDeathStraightFinal
	;End

	; Death weapons for fall to right
	Behavior = FireWeaponWhenDeadBehavior ModuleTag_09
		RequiredStatus	= DEATH_2
		StartsActive	= Yes
		DelayTime		= 3300 
		DeathWeapon		= MordorOliphantToppleFinal
		WeaponOffset	= X:0 Y:-42 Z:0
	End

	; Death weapons for fall to left
	Behavior = FireWeaponWhenDeadBehavior ModuleTag_11
		RequiredStatus	= DEATH_3
		StartsActive	= Yes
		DelayTime		=  3300
		DeathWeapon		= MordorOliphantToppleFinal 
		WeaponOffset	= X:0 Y:42 Z:0
	End

	Behavior = HordeTransportContain  ModuleTag_12
		ObjectStatusOfContained				= UNSELECTABLE CAN_ATTACK
		;PassengersTestCollisionHeight		= 80
		Slots								= 1
		EnterSound							= GarrisonEnter
		ExitSound							= GarrisonExit
		DamagePercentToUnits				= 0%
		PassengerFilter						= ANY +INFANTRY +CAVALRY
		AllowEnemiesInside					= No
		AllowNeutralInside					= No
		ExitDelay							= 250
		NumberOfExitPaths					= 2 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
		ForceOrientationContainer			= No  ; otherwise contained units can't orient themselves towards their targets...
		PassengerBonePrefix					= PassengerBone:B_CARGO0 KindOf:INFANTRY
		EjectPassengersOnDeath				= Yes
	End

	Behavior = SpecialPowerModule ModuleTag_13                      
		SpecialPowerTemplate      = SpecialAbilityChargeAttack
		UpdateModuleStartsAttack  = Yes
	End
	Behavior = SpecialAbilityUpdate ModuleTag_14                
		SpecialPowerTemplate    = SpecialAbilityChargeAttack
		ChargeAttackSpeedBoost  = Yes
		PackTime                = 30000 ; 30 sec ability max life
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Monster Unit
		UnitWeight = 5 ; Olie counts as 5 infantry when computing group size
	End

	LocomotorSet
		Locomotor = MumakilLocomotor
		Condition = SET_NORMAL 
		Speed     = 20
	End
  
	LocomotorSet
		Locomotor	=	MumakilPanicLocomotor
		Condition	=	SET_PANIC
		Speed		=	40
	End
 
 
	LocomotorSet
		Locomotor	=	MumakilEnragedLocomotor
		Condition	=	SET_ENRAGED
		Speed		=	80
	End
	
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes			= ALL 
    SinkDelay			= 25000
    SinkRate			= 2.4     ; in Dist/Sec
    DestructionDelay	= 60000
    DecayBeginTime		= 6000
    ProbabilityModifier = 10  ; Very, very unlikely unless clearance test fails
    DeathFlags			= DEATH_1      ; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
    FX					= INITIAL FX_OliphantDie
    ShadowWhenDead		= Yes      ; Volumetric shadows don't look so bad when sinking into ground
  End

  Behavior = ClearanceTestingSlowDeathBehavior ModuleTag_05a
    DeathTypes			= ALL 
    SinkDelay			= 25000
    SinkRate			= 2.4     ; in Dist/Sec
    DestructionDelay	= 60000
    DecayBeginTime		= 6000
    ProbabilityModifier = 490  ; Very, very likely unless clearance test fails
    DeathFlags			= DEATH_2       ; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
    FX					= INITIAL FX_OliphantDie
    ShadowWhenDead		= Yes      ; Volumetric shadows don't look so bad when sinking into ground

    ; This is the area which must be clear for this slow death to go off
    ; Use Control-Shift-Alt-E in game to display this area
    ; Use debug.add l + clearancetestingslowdeathbehavior to get feedback on why test fails
    ClearanceGeometry				= Box
    ClearanceGeometryMajorRadius	= 64.0
    ClearanceGeometryMinorRadius	= 32.0
    ClearanceGeometryHeight			= 32.0
    ClearanceGeometryIsSmall		= No
    ClearanceGeometryOffset			= X:0 Y:-52 Z:0

    ClearanceMaxHeight				= 32
    ClearanceMaxHeightFraction		= 0.04 ; If more than 5% of the cells in the clearance geometry are more than 40 units above the Oliphant's base, don't fall (don't fall into cliffs)
    ClearanceMinHeight				= -32
    ClearanceMinHeightFraction		= 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below the Oliphant's base, don't fall (don't get left hanging over a cliff)
  End
 
  Behavior = ClearanceTestingSlowDeathBehavior ModuleTag_05b
    DeathTypes						= ALL 
    SinkDelay						= 25000
    SinkRate						= 2.4     ; in Dist/Sec
    DestructionDelay				= 60000
    DecayBeginTime					= 6000
    ProbabilityModifier				= 490  ; Very, very likely unless clearance test fails
    DeathFlags						= DEATH_3       ; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
    FX								= INITIAL FX_OliphantDie
    ShadowWhenDead					= Yes      ; Volumetric shadows don't look so bad when sinking into ground

    ; This is the area which must be clear for this slow death to go off
    ; Use Control-Shift-Alt-E in game to display this area
    ; Use debug.add l + clearancetestingslowdeathbehavior to get feedback on why test fails
    ClearanceGeometry				= Box
    ClearanceGeometryMajorRadius	= 64.0
    ClearanceGeometryMinorRadius	= 32.0
    ClearanceGeometryHeight			= 32.0
    ClearanceGeometryIsSmall		= No
    ClearanceGeometryOffset			= X:0 Y:52 Z:0

    ClearanceMaxHeight				= 32
    ClearanceMinHeightFraction		= 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below the Oliphant's base, don't fall (don't get left hanging over a cliff)
    ClearanceMinHeight				= -32
    ClearanceMinHeightFraction		= 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below the Oliphant's base, don't fall (don't get left hanging over a cliff)
  End

  Behavior = SquishCollide ModuleTag_06
  End
 

  ; Extra secondary geometry to be used for crushing/squishing detection purposes
  GeometryOther = GeomType:BOX IsSmall:No Height:20 MajorRadius:25 MinorRadius:20 OffsetX:32   ; front 2 legs
  GeometryOther = GeomType:BOX IsSmall:No Height:20 MajorRadius:15 MinorRadius:20 OffsetX:-35  ; back 2 legs
  
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 7 ; level 1 (light  damage)  hit reaction animations in frames (5 per sec)
		HitReactionLifeTimer2 = 15 ; level 2 (medium damage)  hit reaction animations in frames (5 per sec)
		HitReactionLifeTimer3 = 10 ; level 3 (heavy  damage)  hit reaction animations in frames (5 per sec)

		HitReactionThreshold1 = 0.0  ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End

  ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: OliphantFall Animation:MUMumakil_SKL.MUMumakil_DIEF Frames: 50  Animation:MUMumakil_SKL.MUMumakil_DIEA Frames: 90 
		AnimationSound = Sound: OliphantFall Animation:MUMumakil_SKL.MUMumakil_DIEB Frames: 85  Animation:MUMumakil_SKL.MUMumakil_DIEC Frames: 85 
		AnimationSound = Sound: OliphantFall Animation:MUMumakil_SKL.MUMumakil_DIED Frames: 117 
		AnimationSound = Sound: MumakilRampageWhoosh1 Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 86  Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 262 
		AnimationSound = Sound: MumakilRampageWhoosh2 Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 139  Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 352 
		AnimationSound = Sound: MumakilRampageVox1 Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 1  Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 206 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_HITA Frames: 4 11 23  Animation:MUMumakil_SKL.MUMumakil_RUNA Frames: 4 9 14 19 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_RUNB Frames: 1 8 19 37  Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 89 100 127 185 208 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 259 270 297 355 378  Animation:MUMumakil_SKL.MUMumakil_TRNLA Frames: 7 15 20 24 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_TRNLB Frames: 7 22 44 50  Animation:MUMumakil_SKL.MUMumakil_MFDA Frames: 4 10 15 20 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_TRNL Frames: 45 80  Animation:MUMumakil_SKL.MUMumakil_WLKB1 Frames: 0 40 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_TRNR Frames: 40 83  Animation:MUMumakil_SKL.MUMumakil_WLKB2 Frames: 0 40 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_DECL1 Frames: 60  Animation:MUMumakil_SKL.MUMumakil_ATKA Frames: 103 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_DECL2 Frames: 24  Animation:MUMumakil_SKL.MUMumakil_WLKA Frames: 7 30 48 72 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_ATKB Frames: 115  Animation:MUMumakil_SKL.MUMumakil_DECL3 Frames: 25 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_ATKC Frames: 36  Animation:MUMumakil_SKL.MUMumakil_DECL4 Frames: 59 68 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_TRNRB Frames: 7 22 44 50  Animation:MUMumakil_SKL.MUMumakil_ATKD Frames: 55 63 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_ACCL1 Frames: 29 51 59  Animation:MUMumakil_SKL.MUMumakil_ACCL2 Frames: 24 41 
		AnimationSound = Sound: OliphantIdleTrumpet Animation:MUMumakil_SKL.MUMumakil_IDLB Frames: 18 
		AnimationSound = Sound: MumakilRampageVox2 Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 103  Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 360 
		AnimationSound = Sound: MumakilRampageVox3 Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 6 
		AnimationSound = Sound: MumakilRampageStomp Animation:MUMumakil_SKL.MUMumakil_ATKA Frames: 39  Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 42 
		AnimationSound = Sound: MumakilRampageStomp Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 205  Animation:MUMumakil_SKL.MUMumakil_DIED Frames: 117 
  End

  Geometry = Box
  GeometryMajorRadius = 48.0
  GeometryMinorRadius = 24.0
  GeometryHeight = 88.8
  GeometryIsSmall = No
  
  DeadCollideSize = LARGE ; How big does the AOD consider this unit for damage fx & behavior.

  Shadow = SHADOW_VOLUME_NON_SELF_2; volumetric shadow that doesn't cast onto all objects using SHADOW_VOLUME_NON_SELF_1
  ShadowSizeX = 36; clamp the angle so shadow isn't as long.
;  ShadowSizeX = 60;
;  ShadowSizeY = 60;
;  ShadowTexture = ShadowI;
End

Object CINEburningTree

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTop6CINE
		ParticleSysBone = NONE burningTreeFire
		ParticleSysBone = NONE burningTreeSmoke
		ParticleSysBone = NONE burningTreeEmbers
		ParticleSysBone = FireBone1 burningTreeFireA
		ParticleSysBone = FireBone1 burningTreeSmoke
		ParticleSysBone = FireBone1 burningTreeEmbers
		ParticleSysBone = FireBone2 burningTreeFireB
		ParticleSysBone = FireBone2 burningTreeSmoke
		ParticleSysBone = FireBone2 burningTreeEmbers
		ParticleSysBone = FireBone3 burningTreeFireA
		ParticleSysBone = FireBone3 burningTreeSmoke
		ParticleSysBone = FireBone3 burningTreeEmbers
		ParticleSysBone = FireBone4 burningTreeFireB
		ParticleSysBone = FireBone4 burningTreeSmoke
		ParticleSysBone = FireBone4 burningTreeEmbers
		ParticleSysBone = FireBone05 burningTreeFireA
		ParticleSysBone = FireBone05 burningTreeSmoke
		ParticleSysBone = FireBone05 burningTreeEmbers
		ParticleSysBone = FireBone06 burningTreeFireA
		ParticleSysBone = FireBone06 burningTreeSmoke
		ParticleSysBone = FireBone06 burningTreeEmbers
		ParticleSysBone = FireBone07 burningTreeFireB
		ParticleSysBone = FireBone07 burningTreeSmoke
		ParticleSysBone = FireBone07 burningTreeEmbers
		ParticleSysBone = FireBone08 burningTreeFireA
		ParticleSysBone = FireBone08 burningTreeSmoke
		ParticleSysBone = FireBone08 burningTreeEmbers
		ParticleSysBone = FireBone09 burningTreeFireB
		ParticleSysBone = FireBone09 burningTreeSmoke
		ParticleSysBone = FireBone09 burningTreeEmbers
		ParticleSysBone = FireBone10 burningTreeFireA
		ParticleSysBone = FireBone10 burningTreeSmoke
		ParticleSysBone = FireBone10 burningTreeEmbers
		ParticleSysBone = FireBone11 burningTreeFireA
		ParticleSysBone = FireBone11 burningTreeSmoke
		ParticleSysBone = FireBone11 burningTreeEmbers		
	 End      
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BurningTree
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 18.4
  GeometryMinorRadius   = 17.6
  GeometryHeight        = 21.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:21.9328 Y:0.0
  Shadow                = SHADOW_VOLUME
End

;----------------------------------------------------------------
Object CINE_MinisTop1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMtop1_D1
    End
    WallBoundsMesh = POSITION
	
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTTop
  EditorSorting   = STRUCTURE
  Browser = CINEMATICS STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 499.2
  GeometryMinorRadius   = 102.4
  GeometryHeight        = 281.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:219.1656 Y:0.0
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object CINEfireBig

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
		ParticleSysBone = NONE burningTreeFire
		ParticleSysBone = NONE burningTreeSmoke
		ParticleSysBone = NONE burningTreeEmbers
    End    
    ModelConditionState = WORLD_BUILDER
			Model = locator				
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Fire
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

Object CINEfireMedium

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
		ParticleSysBone = NONE burningTreeFireA
		ParticleSysBone = NONE burningTreeSmoke
		ParticleSysBone = NONE burningTreeEmbers
    End   
    ModelConditionState = WORLD_BUILDER
			Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Fire
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

Object CINEfireSmall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
		ParticleSysBone = NONE burningTreeFireB
		ParticleSysBone = NONE burningTreeSmoke
		ParticleSysBone = NONE burningTreeEmbers
    End    
    ModelConditionState = WORLD_BUILDER
			Model = locator		
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Fire
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;----------------------------------------------------
Object CINEsmokeLarge

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
		ParticleSysBone = NONE CINEsmokeLarge
		ParticleSysBone = NONE burningTreeEmbers
    End    
    ModelConditionState = WORLD_BUILDER
			Model = locator		
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Smoke
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

Object CINEsmokeMedium

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
		ParticleSysBone = NONE CINEsmokeMedium
		ParticleSysBone = NONE burningTreeEmbers
    End    
    ModelConditionState = WORLD_BUILDER
			Model = locator		
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Smoke
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

Object CINEsmokeSmall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
		ParticleSysBone = NONE CINEsmokeSmall
    End    
    ModelConditionState = WORLD_BUILDER
			Model = locator		
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Smoke
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Object PTree_cine

  ; *** ART Parameters ***
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PTree_cine
    End

    ModelConditionState = PASSENGER CLUB
      Model = None
    End

    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_TreeBecomeClub
    End

    AnimationState = PASSENGER
      EnteringStateFX = FX_TreePickUp
    End

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:PTree_cine
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM
  CrushableLevel   = 1 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ArmorSet
    Conditions      = None
    Armor           = NoArmor
  End

  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  ; *** ENGINEERING parameters ***
  KindOf           = SHRUBBERY IMMOBILE CLUB SELECTABLE

  Body = HighlanderBody ModuleTag_10 ;Can take damage, but won't die.  Can only die from ::kill() or other unresistable damage
    MaxHealth      = 50.0
  End

  ClientUpdate = SwayClientUpdate ModuleTag_07
    ;nothing
  End

  Behavior = ToppleUpdate ModuleTag_08
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    StumpName        = TreeSpruceStump
  End
 
  Behavior = SlowDeathBehavior ModuleTag_09
    DeathTypes = NONE +TOPPLED
    SinkRate          = 2.00     ; in Dist/Sec
    SinkDelay         = 10000
    DestructionDelay  = 25000
  End

  Behavior = DestroyDie DestroyDieModuleTag
    DeathTypes = ALL -TOPPLED
  End

 Geometry            = CYLINDER
 GeometryIsSmall     = Yes
 GeometryMajorRadius = 22.0
 GeometryHeight      = 62
  Shadow              = SHADOW_DECAL
  InstanceScaleFuzziness = 0.1
  
End

;------------------------------------------------------------------------------
Object PTree_cine2

  ; *** ART Parameters ***
  Draw                  = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model             = PTree_cine2
    End

    ModelConditionState = PASSENGER CLUB
      Model = None
    End

    AnimationState = PASSENGER CLUB
      EnteringStateFX = FX_TreeBecomeClub
    End

    AnimationState = PASSENGER
      EnteringStateFX = FX_TreePickUp
    End

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:PTree_cine
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM
  CrushableLevel   = 1 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ArmorSet
    Conditions      = None
    Armor           = NoArmor
  End

  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  ; *** ENGINEERING parameters ***
  KindOf           = SHRUBBERY IMMOBILE CLUB SELECTABLE

  Body = HighlanderBody ModuleTag_10 ;Can take damage, but won't die.  Can only die from ::kill() or other unresistable damage
    MaxHealth      = 50.0
  End

  ClientUpdate = SwayClientUpdate ModuleTag_07
    ;nothing
  End

  Behavior = ToppleUpdate ModuleTag_08
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    StumpName        = TreeSpruceStump
  End
 
  Behavior = SlowDeathBehavior ModuleTag_09
    DeathTypes = NONE +TOPPLED
    SinkRate          = 2.00     ; in Dist/Sec
    SinkDelay         = 10000
    DestructionDelay  = 25000
  End

  Behavior = DestroyDie DestroyDieModuleTag
    DeathTypes = ALL -TOPPLED
  End

 Geometry            = CYLINDER
 GeometryIsSmall     = Yes
 GeometryMajorRadius = 22.0
 GeometryHeight      = 62
  Shadow              = SHADOW_DECAL
  InstanceScaleFuzziness = 0.1
  
End

;-------------------------------------------------------------------------------
;Gondor Standalone battle tower
Object CINE_GondorBattleTower 
 
	; *** ART Parameters ***
	ButtonImage = BRBattleTower
	  
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		OkToChangeModelColor  = Yes
		UseStandardModelNames = Yes
		ExtraPublicBone = ARROW_ ; Firing points

		DefaultModelConditionState
			Model = CIN_GFlag
		End

		IdleAnimationState
			Animation = IDLE
				AnimationName =	CIN_GFlag.CIN_GFlag
				AnimationMode =	LOOP	
			End		
		End	
    
	End ; draw

 
	; ***DESIGN parameters ***
	DisplayName         = OBJECT:GondorBattleTower
	Side                = Gondor
	EditorSorting       = STRUCTURE
	Browser             = CINEMATICS STRUCTURE
	ThreatLevel = 1.0
	 
	BuildCost           = 1000
	BuildTime           = 30.0           ; in seconds
	VisionRange         = 160.0          ; Shroud clearing distance
	ShroudClearingRange = 160

    
	; *** AUDIO Parameters ***


	; *** ENGINEERING Parameters ***
	RadarPriority       = STRUCTURE
	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION GARRISON CAN_ATTACK GARRISONABLE_UNTIL_DESTROYED
	 
	Behavior            = GettingBuiltBehavior ModuleTag_04
		WorkerName		  = GondorWorkerNoSelect
	End


	Geometry              = CYLINDER
	GeometryMajorRadius   = 26.4
	GeometryMinorRadius   = 26.4
	GeometryHeight        = 112.0
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
	BuildCompletion     = PLACED_BY_PLAYER
End



;------------------------------------------------------------------------------
;Rohan Gate
Object Cine_RohanGate
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = Cine_RBGate
    End
; remove this so the units can walk under the gate, but not on top of it    
    WallBoundsMesh = wall1
    RampMesh1 = GateR1   
    RampMesh2 = GateR2 
        
  End
 
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Cine_RohanGate
  Side                = Rohan
  EditorSorting       = STRUCTURE
  Browser = CINEMATICS STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160


; *** AUDIO Parameters ***
;  VoiceSelect         = NuclearReactorSelect
;  SoundOnDamaged        = BuildingDamagedStateLight
;  SoundOnReallyDamaged  = BuildingDestroy
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
  ArmorSet
    Armor = StructureArmor
  End
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NO_COLLIDE NOT_AUTOACQUIRABLE; SELECTABLE

  Behavior = CastleMemberBehavior ModuleTag_CMB
	CountsForEvaCastleBreached = Yes
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 2500.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End

; This won't look right with no door animations
;  Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
 ; End


;  Geometry              = BOX
 ; GeometryMajorRadius   = 80.0
 ; GeometryMinorRadius   = 25.0
 ; GeometryHeight        = 40.0
 ; GeometryOffset		= X:0 Y:0 Z:72
    
 ; AdditionalGeometry    = BOX
 ; GeometryMajorRadius   = 20.0
 ; GeometryMinorRadius   = 50.0
 ; GeometryHeight        = 80	
 ; GeometryOffset		= X:100 Y:-10 Z:0

 ; AdditionalGeometry    = BOX
 ; GeometryMajorRadius   = 20.0
 ; GeometryMinorRadius   = 50.0
 ; GeometryHeight        = 80	
 ; GeometryOffset		= X:-100 Y:-10 Z:0

  
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;-----------------------------------------------------------------------------------
Object CINE_RohanRohirrim_Cheer
	SelectPortrait         = SP_Gondor_Horseman
	Draw = W3DHordeModelDraw ModuleTag_01
	  OkToChangeModelColor = Yes
	  	DefaultModelConditionState
			Model					= RURohrm_SKN
		End
		IdleAnimationState
			Animation				=	CheerA
				AnimationName		=	RURohrm_SKL.RURohrm_CHRA
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange= 	0.8 1.8
				AnimationBlendTime	=	74
                AnimationMustCompleteBlend = yes
			End
			Animation				=	CheerB
				AnimationName		=	RURohrm_SKL.RURohrm_CHRB
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange= 	0.8 1.8
				AnimationBlendTime	=	74
                AnimationMustCompleteBlend = yes
			End
			Animation				=	CheerC
				AnimationName		=	RURohrm_SKL.RURohrm_CHRC
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange= 	0.8 1.8
				AnimationBlendTime	=	74
                AnimationMustCompleteBlend = yes
			End
			Animation				=	CheerD
				AnimationName		=	RURohrm_SKL.RURohrm_CHRD
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange= 	0.8 1.8
				AnimationBlendTime	=	74
                AnimationMustCompleteBlend = yes
			End
		End
End
	Side = Rohan
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThreatLevel = 2.0
	TransportSlotCount = 1
	ArmorSet
		Conditions      = None
		Armor           = CavalryLineFormationArmor
		DamageFX        = NormalDamageFX
	End
;	ArmorSet
;		Conditions		= ALTERNATE_FORMATION
;		Armor			= CavalryWedgeFormationArmor
;		DamageFX		= NormalDamageFX
;	End
	ArmorSet			
		Conditions		= PLAYER_UPGRADE
		Armor			= CavalryHorseShieldArmor
		DamageFX		= NormalDamageFX
	End
	ArmorSet			
		Conditions		= PLAYER_UPGRADE ALTERNATE_FORMATION
		Armor			= CavalryHorseShieldWedgeFormationArmor
		DamageFX		= NormalDamageFX
	End
	
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    RohanRohirrimSpear
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
		Weapon = SECONDARY	RiderlessWeapon
		AutoChooseSources = SECONDARY FROM_SCRIPT
	End
	
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon =  PRIMARY  RohanRohirrimBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
		Weapon =  SECONDARY   RohanRohirrimSpear
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
		Weapon = TERTIARY	RiderlessWeapon
		AutoChooseSources = SECONDARY FROM_SCRIPT
	End
	
	
	VisionRange = 280.0
	DisplayName = OBJECT:RohanRohirrim
	CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 1
	
	MinCrushVelocityPercent = 50 ; Has to be moving at at least 50% of full speed.
	CrushDecelerationPercent =5 ; Lose 10 percent of max velocity when crushing.
	
	CrushKnockback = 40;
	CrushZFactor = 1.0;

	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	ThingClass = CAVALRY_UNIT

	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE INFANTRY
	
	Body = DetachableRiderBody ModuleTag_02
		MaxHealth			= 250                  ;BALANCE Rohirrim Health
		MaxHealthDamaged	= 125
		RecoveryTime		= 5000
		HealthPercentageWhenRiderDies = 50%		;When the unit "dies" the rider will be killed and the unit will be set to this health %.
		TriggeredBy			= Upgrade_HorseDiscipline
		StartsActive		= No  ;When set no upgrade is required
	End
	Behavior = DetachableRiderUpdate ModuleTag_DetachableRiderUpdate01
		;List of any number of subobject names to toggle off when rider is killed. 
		;When new rider joins unit, the subobjects will be turned back on.
		RiderSubObjects = RUROHRM SHIELD 

		;When unit is riderless, the weapon will get locked to this slot.
		RiderlessWeaponSlot = SECONDARY
		
		;When entire horde is riderless, will they all flee off the map? (player loses control)
		RiderlessHordeFlees = Yes	;***NOTE*** If set, requires RunOffMapBehavior module!

		;When the rider is killed, a random death entry will be chosen. It plays specified animation,
		;the animationTime must match the length of the animation, and after the animation is finished,
		;the specified OCL will be created to leave a dead rider behind.
		DeathEntry =	AnimState:DEATH_2	AnimTime:3000	RiderOCL:OCL_RohirrimSpawnDeadRider
	End
 
	Behavior = RunOffMapBehavior ModuleTag_RunOff
		RequiresSpecificTrigger = Yes ;Triggers when DetachableRiderUpdate says so!
	End
   	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		AILuaEventsList	=	RohirrimFunctions
		AttackPriority = AttackPriorityCavalry
	End
	
	LocomotorSet
		Locomotor = HorseLocomotor
		Condition = SET_NORMAL 
		Speed     = 80
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End


	Behavior = SlowDeathBehavior ModuleTag_08
		; Die and don't spawn horse
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.60     ; in Dist/Sec
		DestructionDelay = 15000
		;ProbabilityModifier = 33
		DeathFlags = DEATH_2 ; Tell model which death animation to play. Sets BOTH model condition and object status bits.
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Cavalry
	End
	
	Behavior = SubObjectsUpgrade Shield_Upgrade
		TriggeredBy		= Upgrade_RohanHorseShield
		ShowSubObjects	= SHIELD
	End
	
	Behavior = ArmorUpgrade ModuleTagHorseShield
		TriggeredBy				= Upgrade_RohanHorseShield
		ArmorSetFlag			= PLAYER_UPGRADE
	End
	
	Behavior = WeaponSetUpgrade ModuleTag_HorseBow
		TriggeredBy				= Upgrade_RohanHorseBow
		CustomAnimAndDuration   = AnimState:USER_3 AnimTime:0 TriggerTime:0 ;set flag forever
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 10.4
	GeometryMinorRadius = 10.4
	GeometryHeight = 20.0
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
	ShadowSizeX = 30;
	ShadowSizeY = 21;
	ShadowTexture = ShadowI;

	; So the question you need to ask yourself is: do I need to change GondorCavalryRiderless?
	; Well, do ya, punk?
End
;------------------------------------------------------------------------------
Object CINE_OrcPile

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = OrcPile
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:OrcPile
  EditorSorting = SYSTEM
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE IMMOBILE
  Shadow = NONE
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End


;------------------------------------------------------------------------------
; aka Uruk Hai, IsengardUrukHai, FighterIsengard
Object CINE_IsengardFighter_Walking
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BIUrukPit_Warriors
  
  Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    DefaultModelConditionState
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End
    
	IdleAnimationState

		Animation = IDLB
			AnimationName = IUUrukahi_IDLB
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = IDLG
			AnimationName = IUUrukahi_IDLG
			AnimationMode = ONCE
			AnimationPriority = 2
		End
		Animation = IDLD
			AnimationName = IUUrukahi_IDLD
			AnimationMode = ONCE
			AnimationPriority = 2
		End	
		StateName = Idle
		BeginScript
			CurDrawableHideSubObject("Forged_Blade")
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
		EndScript
	End

    AnimationState = DYING
		Animation = DIEA
			AnimationName = IUUrukahi_DIEA
		    AnimationMode = ONCE
			AnimationPriority = 1
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		Animation = DIEB
			AnimationName = IUUrukahi_DIEB
		    AnimationMode = ONCE
			AnimationPriority = 3
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		Animation = DIEC
			AnimationName = IUUrukahi_DIEC
		    AnimationMode = ONCE
			AnimationPriority = 2
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		Animation = DIEG
			AnimationName = IUUrukahi_DIEG
		    AnimationMode = ONCE
			AnimationPriority = 10
			AnimationSpeedFactorRange	=	0.8 1.25
		End
    End 

	;----------------------------------------------------
	;Manning battering ram - Left and right handed attack
	;----------------------------------------------------
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1 ; attacking with battering ram
		Animation = grasping_siege_lefthanded
			AnimationName =  IUUrukahi_BATB
			AnimationMode = ONCE
			UseWeaponTiming = Yes
		End
	End
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2 ; attacking with battering ram
		Animation = grasping_siege_righthanded
			AnimationName = IUUrukahi_BATA
			AnimationMode = ONCE
			UseWeaponTiming = Yes
		End
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right movement
	;----------------------------------------------------
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End

	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End

;    AnimationState = MOVING DAMAGED
;		Animation = Moving
;			AnimationName = IUUrukahi_WLK
;		    AnimationMode = LOOP
;		End
;		Flags = RANDOMSTART
;		ParticleSysBone = None InfantryDustTrails
;    End
 
    AnimationState = MOVING
		Animation = Moving
			AnimationName = IUUrukahi_WLKA
		    AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = ATTACKING
		Animation = ATKA
			AnimationName = IUUrukahi_ATKA
			AnimationMode = LOOP
		End
		Animation = ATKC
			AnimationName = IUUrukahi_ATKC
			AnimationMode = LOOP
		End
		Animation = ATKB
			AnimationName = IUUrukahi_ATKB
			AnimationMode = LOOP
		End
    End
    
    AnimationState = EMOTION_AFRAID
		Animation = BPKB1
			AnimationName = IUUrukahi_BPKB1
			AnimationMode = ONCE
		End
		Animation = BPKB3
			AnimationName = IUUrukahi_BPKB3
			AnimationMode = ONCE
		End
		Flags = RESTART_ANIM_WHEN_COMPLETE
    End

	AnimationState        = SELECTED
		StateName           = STATE_Selected
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = LOOP
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
		EndScript
	End

	TransitionState       = TRANS_IdleToSelected
		Animation           = ATNA
			AnimationName     = IUUrukahi_ATNA
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End

	TransitionState       = TRANS_SelectedToGuard
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
		
	TransitionState		= TRANS_SelectedToBoard
		Animation			= ATNC
			AnimationName	= IUUrukahi_ATNC
			AnimationMode	= ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
	
    ;-emotions--
  	AnimationState					= EMOTION_MORALE_HIGH EMOTION_ALERT
		Animation					= Taunting
			AnimationName			= IUUrukahi_ATNB
			AnimationMode			= ONCE
			;AnimationSpeedFactorRange = 0.8 1.2
		End
		Flags						= RESTART_ANIM_WHEN_COMPLETE
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right idle
	;----------------------------------------------------
	AnimationState = PASSENGER PASSENGER_VARIATION_1 ; idle with battering ram
		Animation = idle_siege_lefthanded
			AnimationName =  IUUrukahi_BIDB
			AnimationMode = LOOP
		End
	End
	AnimationState = PASSENGER PASSENGER_VARIATION_2 ; idle with battering ram
		Animation = idle_siege_righthanded
			AnimationName = IUUrukahi_BIDA
			AnimationMode = LOOP
		End
	End
	
	AnimationState WEAPONSET_PLAYER_UPGRADE
		Animation = IDLA
			AnimationName = IUUrukahi_IDLA
			AnimationMode = ONCE
		End
;		Animation = IDLB
;			AnimationName = IUUrukahi_IDLB
;			AnimationMode = ONCE
;		End
		StateName = Idle
		BeginScript
			CurDrawableShowSubObject("Forged_Blade")
		EndScript
	End
	
  End

	; ***DESIGN parameters ***
	Side = Isengard
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
		ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	EmotionRange = 240
	CommandPoints = 1
	CommandSet = IsengardFighterCommandSet

	TransportSlotCount = 1
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    IsengardBannerSword
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  
  WeaponSet
	Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY    IsengardBannerSwordUpgrade
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  
  ArmorSet
    Conditions      = None
    Armor           = SoldierArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 120.0
  DisplayName = OBJECT:IsengardFighter
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = 150                  ;BALANCE Uruk Hai Health
    MaxHealthDamaged  = 75
    RecoveryTime      = 5000
  End

    ;Sword Upgrade
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy = Upgrade_IsengardForgedBlades
	End
	
	 ;Heavy Armor
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy = Upgrade_IsengardHeavyArmor
		ArmorSetFlag			= PLAYER_UPGRADE
	End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
	AILuaEventsList			   = IsengardFighterFunctions    
    MoodAttackCheckRate        = 500
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 10
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 10
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
  
  Behavior = HordeMemberCollide ModuleTag_HMC
    ;nothing
  End
 

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc_Infantry
  End

  
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21;
  ShadowSizeY = 21;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
Object CINE_Rainbow

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Rainbow
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:ORainbow
  EditorSorting = SYSTEM
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE IMMOBILE
  Shadow = NONE
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End


;------------------------------------------------------------------------------

; Aragorn GondorAragorn
Object CINE_GondorAragorn_Swordfight
	; *** ART Parameters ***

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPAragorn
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIAragorn
    
	Draw = W3DScriptedModelDraw ModuleTag_DRAW
		OkToChangeModelColor = Yes
	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		ExtraPublicBone = Arrow

		DefaultModelConditionState
                                    Model               = GUAragCIN_SKN
                        End



		; --- Idle Anims
		IdleAnimationState
			Animation           = IDLA
				AnimationName     = GUARAGCIN_SKL.GUARAGCIN_IDLC 0 15
				AnimationMode     = ONCE
			End
			StateName           = Sword			
			BeginScript
				CurDrawableHideSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_DrawSword") end
				if Prev == "NoSword" then CurDrawableSetTransitionAnimState("TRANS_DrawSword") end
			EndScript
		End

		; --- Moving Anims
		AnimationState        = MOVING DAMAGED
			StateName           = Sword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUAragorn_IWKA
				AnimationName     = GUAragorn_SKL.GUAragorn_IWKA
				AnimationMode     = LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "NoSword" then CurDrawableSetTransitionAnimState("TRANS_DrawSword") end
			EndScript
		End
		AnimationState        = MOVING WANDER
			StateName           = Sword
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUAragorn_WLKA
				AnimationName     = GUAragorn_SKL.GUAragorn_WLKA
				AnimationMode     = LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "NoSword" then CurDrawableSetTransitionAnimState("TRANS_DrawSword") end
			EndScript
		End
		AnimationState        = MOVING
			StateName           = Sword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUAragorn_RUNB
				AnimationName     = GUAragorn_SKL.GUAragorn_RUNB
				AnimationMode     = LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "NoSword" then CurDrawableSetTransitionAnimState("TRANS_DrawSword") end
			EndScript
		End

		; Attacking Anims [Weapon_A]
		

		AnimationState        = FIRING_OR_PREATTACK_A
			Animation           = ATKA
				AnimationName     = GUARAGCIN_SKL.GUARAGCIN_RPGA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE
		End

                AnimationState        = FIRING_OR_PREATTACK_B
			Animation           = ATKB
				AnimationName     = GUARAGCIN_SKL.GUARAGCIN_POSA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE
		End



	End

	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThreatLevel = 5.0
	ThingClass = CHARACTER_UNIT

	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE HERO


	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 20;
	ShadowSizeY = 20;
	ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; aka Uruk Hai, IsengardUrukHai, FighterIsengard
Object CINE_IsengardFighter_FlyingDeath
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BIUrukPit_Warriors
  
  Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    DefaultModelConditionState
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End
    
    AnimationState = USER_1
 			Animation = USER_1
				AnimationName = UIURKAHI_TNTA
				AnimationMode = ONCE
			End
	End
    
	IdleAnimationState

		Animation = IDLB
			AnimationName = IUUrukahi_IDLB
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = IDLG
			AnimationName = IUUrukahi_IDLG
			AnimationMode = ONCE
			AnimationPriority = 2
		End
		Animation = IDLD
			AnimationName = IUUrukahi_IDLD
			AnimationMode = ONCE
			AnimationPriority = 2
		End	
		StateName = Idle
		BeginScript
			CurDrawableHideSubObject("Forged_Blade")
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
		EndScript
	End
	
	 

    AnimationState = DYING
		Animation = DIEA
			AnimationName = IUUrukahi_DIEA
		    AnimationMode = ONCE
			AnimationPriority = 1
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		Animation = DIEB
			AnimationName = IUUrukahi_DIEB
		    AnimationMode = ONCE
			AnimationPriority = 3
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		Animation = DIEC
			AnimationName = IUUrukahi_DIEC
		    AnimationMode = ONCE
			AnimationPriority = 2
			AnimationSpeedFactorRange	=	0.8 1.25
		End
    End 

	;----------------------------------------------------
	;Manning battering ram - Left and right handed attack
	;----------------------------------------------------
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1 ; attacking with battering ram
		Animation = grasping_siege_lefthanded
			AnimationName =  IUUrukahi_BATB
			AnimationMode = ONCE
			UseWeaponTiming = Yes
		End
	End
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2 ; attacking with battering ram
		Animation = grasping_siege_righthanded
			AnimationName = IUUrukahi_BATA
			AnimationMode = ONCE
			UseWeaponTiming = Yes
		End
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right movement
	;----------------------------------------------------
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End

	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End

;    AnimationState = MOVING DAMAGED
;		Animation = Moving
;			AnimationName = IUUrukahi_WLK
;		    AnimationMode = LOOP
;		End
;		Flags = RANDOMSTART
;		ParticleSysBone = None InfantryDustTrails
;    End
 
    AnimationState = MOVING
		Animation = Moving
			AnimationName = IUUrukahi_RUNA
		    AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = ATTACKING
		Animation = ATKA
			AnimationName = IUUrukahi_ATKA
			AnimationMode = LOOP
		End
		Animation = ATKC
			AnimationName = IUUrukahi_ATKC
			AnimationMode = LOOP
		End
		Animation = ATKB
			AnimationName = IUUrukahi_ATKB
			AnimationMode = LOOP
		End
    End
    
    AnimationState = EMOTION_AFRAID
		Animation = BPKB1
			AnimationName = IUUrukahi_BPKB1
			AnimationMode = ONCE
		End
		Animation = BPKB3
			AnimationName = IUUrukahi_BPKB3
			AnimationMode = ONCE
		End
		Flags = RESTART_ANIM_WHEN_COMPLETE
    End

	AnimationState        = SELECTED
		StateName           = STATE_Selected
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = LOOP
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
		EndScript
	End

	TransitionState       = TRANS_IdleToSelected
		Animation           = ATNA
			AnimationName     = IUUrukahi_ATNA
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End

	TransitionState       = TRANS_SelectedToGuard
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
		
	TransitionState		= TRANS_SelectedToBoard
		Animation			= ATNC
			AnimationName	= IUUrukahi_ATNC
			AnimationMode	= ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
	
    ;-emotions--
  	AnimationState					= EMOTION_MORALE_HIGH EMOTION_ALERT
		Animation					= Taunting
			AnimationName			= IUUrukahi_ATNB
			AnimationMode			= ONCE
			;AnimationSpeedFactorRange = 0.8 1.2
		End
		Flags						= RESTART_ANIM_WHEN_COMPLETE
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right idle
	;----------------------------------------------------
	AnimationState = PASSENGER PASSENGER_VARIATION_1 ; idle with battering ram
		Animation = idle_siege_lefthanded
			AnimationName =  IUUrukahi_BIDB
			AnimationMode = LOOP
		End
	End
	AnimationState = PASSENGER PASSENGER_VARIATION_2 ; idle with battering ram
		Animation = idle_siege_righthanded
			AnimationName = IUUrukahi_BIDA
			AnimationMode = LOOP
		End
	End
	
	AnimationState WEAPONSET_PLAYER_UPGRADE
		Animation = IDLA
			AnimationName = IUUrukahi_IDLA
			AnimationMode = ONCE
		End
;		Animation = IDLB
;			AnimationName = IUUrukahi_IDLB
;			AnimationMode = ONCE
;		End
		StateName = Idle
		BeginScript
			CurDrawableShowSubObject("Forged_Blade")
		EndScript
	End
	
  End

	; ***DESIGN parameters ***
	Side = Isengard
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
		ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	EmotionRange = 240
	CommandPoints = 1
	CommandSet = IsengardFighterCommandSet

	TransportSlotCount = 1
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    IsengardBannerSword
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  
  WeaponSet
	Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY    IsengardBannerSwordUpgrade
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  
  ArmorSet
    Conditions      = None
    Armor           = SoldierArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 120.0
  DisplayName = OBJECT:IsengardFighter
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = 150                  ;BALANCE Uruk Hai Health
    MaxHealthDamaged  = 75
    RecoveryTime      = 5000
  End

    ;Sword Upgrade
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy = Upgrade_IsengardForgedBlades
	End
	
	 ;Heavy Armor
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy = Upgrade_IsengardHeavyArmor
		ArmorSetFlag			= PLAYER_UPGRADE
	End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
	AILuaEventsList			   = IsengardFighterFunctions    
    MoodAttackCheckRate        = 500
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 33
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 32
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 300000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 800000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
  
  Behavior = HordeMemberCollide ModuleTag_HMC
    ;nothing
  End
 

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc_Infantry
  End

  
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21;
  ShadowSizeY = 21;
  ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
Object CINE_SunRays

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = LM_Sunrays2
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:SunRays
  EditorSorting = SYSTEM
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE IMMOBILE
  Shadow = NONE
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End


;------------------------------------------------------------------------------
Object CINE_SunRays_Blue

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = Sunrays_Blue
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:SunRaysBlue
  EditorSorting = SYSTEM
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE IMMOBILE
  Shadow = NONE
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End




;------------------------------------------------------------------------------
Object Cine_AmonHenB2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = Cine_AmonHenB2
    End
    
    WallBoundsMesh = P2
	RampMesh1 = P1

    ModelConditionState  = RUBBLE
      Model         = Cine_AmonHenB2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Cine_AmonHenB2

  EditorSorting   = STRUCTURE
  Browser = CINEMATICS STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 60.0
  GeometryMinorRadius   = 33.0
  GeometryHeight        = 49.0
  
;  AdditionalGeometry    = BOX
;  GeometryMajorRadius   = 12.5
;  GeometryMinorRadius   = 12.5
;  GeometryHeight        = 55.0
;  GeometryOffset		= X:32 Y:0 Z:48 
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End


;------------------------------------------------------------------------------
Object CINE_TreeLineFire1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None TreeLineFire
;      ParticleSysBone = None FireFieldSmallEmbers
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
    InitialHealth   = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_TreeLineFire2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None TreeLineFire02
;      ParticleSysBone = None FireFieldSmallEmbers
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
    InitialHealth   = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_WallofFire

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None WallofFire
      ParticleSysBone = None WallofEmbers
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WallofFire
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
    InitialHealth   = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object CINE_WallofFireTall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = NONE
      ParticleSysBone = None WallofFireTall
      ParticleSysBone = None WallofEmbers
    End
  
    ModelConditionState = WORLD_BUILDER
	  Model = locator
	End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WallofFireTall
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
    InitialHealth   = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = Yes
End




;---------------------------------------------------------------------------------------------------------------
; Treebeard Custom Anim A
Object CINE_TrebeardA                        
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = RUTreeBerd_CINA
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = RUTreeBerd_CINA.RUTreeBerd_CINA
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
    End
    AnimationState        = MOVING
      Animation = Moving
        AnimationName       = RUTreeBerd_CINA.RUTreeBerd_CINA
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
      Flags               = RANDOMSTART
    End
  End
 
  ; ***DESIGN parameters ***
  Side = Rohan
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThreatLevel = 1.0
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Cine_TreebeardA
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = BoatLocomotor
    Condition = SET_NORMAL 
    Speed     = 17
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = No
  Shadow = SHADOW_Volume
  ShadowSizeX = 72
;  ShadowSizeX = 14;
;  ShadowSizeY = 14;
;  ShadowTexture = ShadowI;
End


;---------------------------------------------------------------------------------------------------------------
; Treebeard Custom Anim B
Object CINE_TrebeardB                        
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = RUTreeBerd_CINB
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = RUTreeBerd_CINB.RUTreeBerd_CINB
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
    End
    AnimationState        = MOVING
      Animation = Moving
        AnimationName       = RUTreeBerd_CINB.RUTreeBerd_CINB
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
      Flags               = RANDOMSTART
    End
  End
 
  ; ***DESIGN parameters ***
  Side = Rohan
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThreatLevel = 1.0
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Cine_TreebeardB
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = BoatLocomotor
    Condition = SET_NORMAL 
    Speed     = 17
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = No
  Shadow = SHADOW_Volume
  ShadowSizeX = 72
;  ShadowSizeX = 14;
;  ShadowSizeY = 14;
;  ShadowTexture = ShadowI;
End


;---------------------------------------------------------------------------------------------------------------
; Treebeard Custom Anim C
Object CINE_TrebeardC                        
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = RUTreeBerd_CINC
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = RUTreeBerd_CINC.RUTreeBerd_CINC
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
    End
    AnimationState        = MOVING
      Animation = Moving
        AnimationName       = RUTreeBerd_CINC.RUTreeBerd_CINC
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
      Flags               = RANDOMSTART
    End
  End
 
  ; ***DESIGN parameters ***
  Side = Rohan
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThreatLevel = 1.0
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Cine_TreebeardC
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = BoatLocomotor
    Condition = SET_NORMAL 
    Speed     = 17
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = No
  Shadow = SHADOW_Volume
  ShadowSizeX = 72
;  ShadowSizeX = 14;
;  ShadowSizeY = 14;
;  ShadowTexture = ShadowI;
End



;---------------------------------------------------------------------------------------------------------------
; Treebeard Custom Anim D
Object CINE_TrebeardD                        
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = RUTreeBerd_CIND
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = RUTreeBerd_CIND.RUTreeBerd_CIND
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
    End
    AnimationState        = MOVING
      Animation = Moving
        AnimationName       = RUTreeBerd_CIND.RUTreeBerd_CIND
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
      Flags               = RANDOMSTART
    End
  End
 
  ; ***DESIGN parameters ***
  Side = Rohan
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThreatLevel = 1.0
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Cine_TreebeardD
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = RohanTreeBeardLocomotor
    Condition = SET_NORMAL 
    Speed     = 87
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = No
  Shadow = SHADOW_Volume
  ShadowSizeX = 72
;  ShadowSizeX = 14;
;  ShadowSizeY = 14;
;  ShadowTexture = ShadowI;
End


;---------------------------------------------------------------------------------------------------------------
; Smeagol turns
Object Smeagol_Turning                        
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = CUSmeagolC_CINA
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = CUSmeagolC_CINA.CUSmeagolC_CINA
        AnimationMode       = LOOP
      End
      ;ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
    End
    AnimationState        = MOVING
      Animation = Moving
        AnimationName       = CUSmeagolC_CINA.CUSmeagolC_CINA
        AnimationMode       = LOOP
      End
      ;ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone     = BAT_HEAD TreeBeardIdleLeaves FollowBone: no
      ;ParticleSysBone = WBone01 Waterfall FollowBone:Yes
      ;ParticleSysBone = WBone02 Waterfall FollowBone:Yes
      ;ParticleSysBone = None WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_01 WaterRippleDecals FollowBone:Yes
      ;ParticleSysBone = Wake_02 WaterRippleDecals FollowBone:Yes
      Flags               = RANDOMSTART
    End
  End
 
  ; ***DESIGN parameters ***
  Side = Rohan
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThreatLevel = 1.0
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Smeagol_Turning
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = RohanTreeBeardLocomotor
    Condition = SET_NORMAL 
    Speed     = 87
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = No
  Shadow = SHADOW_Volume
  ShadowSizeX = 72
;  ShadowSizeX = 14;
;  ShadowSizeY = 14;
;  ShadowTexture = ShadowI;
End





;------------------------------------------------------------------------------
; aka Smeagal
Object CINE_Gollum
	; *** ART Parameters ***

	; This is required for garrisoned objects - please put in all objects.
	ButtonImage = BIUrukPit_Warriors
  
	Draw = W3DScriptedModelDraw ModuleTag_01

		DefaultModelConditionState
			Model = CUGollum_SKN
			Skeleton = MUOrcWarr_SKL
		End

		IdleAnimationState
			Animation = IDLA
				AnimationName = MUOrcWarr_IDLA
				AnimationMode = ONCE
			End
			StateName = Idle
		End

		AnimationState = MOVING
			Animation = Moving
				AnimationName = MUOrcWarr_RUNA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
		End

		AnimationState = ATTACKING
			Animation = ATKA
				AnimationName = MUOrcWarr_ATKA
				AnimationMode = LOOP
			End
			Animation = ATKB
				AnimationName = MUOrcWarr_ATKB
				AnimationMode = LOOP
			End
		End

		AnimationState = DYING
			Animation = Dying
				AnimationName = MUOrcWarr_DIEA
				AnimationMode = ONCE
			End
		End 
	    
		AnimationState					= SELECTED
			StateName			= STATE_Selected
			Flags				= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
 			Animation			= Selected(ATNA)
				AnimationName			= MUOrcWarr_IDLA
				AnimationMode			= LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle"	then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") return end
			EndScript
		End

		TransitionState = TRANS_Idle_to_Selected
			Animation			= Salute
				AnimationName	= MUOrcWarr_ATNA
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.8 1.2
			End
		End
	End

	; ***DESIGN parameters ***
	Side = Neutral
	Browser = CINEMATICS UNIT
	EditorSorting = UNIT
	ThreatLevel = 1.0
	EmotionRange = 240
	CommandPoints = 1

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardBannerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = SoldierArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 120.0
	DisplayName = OBJECT:NeutralGollum
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY HERO PATH_THROUGH_EACH_OTHER SCORE
 
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 750                  ;BALANCE Uruk Hai Health
		MaxHealthDamaged  = 375
		RecoveryTime      = 5000
	End
	 
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes
		MoodAttackCheckRate        = 500
	End

	LocomotorSet
		Locomotor     = HumanLocomotor
		Condition     = SET_NORMAL
		Speed         = 42
	End

	LocomotorSet
		Locomotor     = HumanWanderLocomotor
		Condition     = SET_WANDER
		Speed         = 32
	End
 
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = StealthUpdate ModuleTag_Stealth
		StealthDelay                = 1500 ; msec
		StealthForbiddenConditions  = ATTACKING
		HintDetectableConditions    = IS_FIRING_WEAPON 
		FriendlyOpacityMin          = 10.0%
		FriendlyOpacityMax          = 60.0%
		PulseFrequency              = 750   ; msec
		InnateStealth               = Yes
		OrderIdleEnemiesToAttackMeUponReveal  = Yes
		DetectedByAnyoneRange		= 120
	End
 
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End
 
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
  
	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Orc_Infantry
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

	Shadow = SHADOW_DECAL
	ShadowSizeX = 21;
	ShadowSizeY = 21;
	ShadowTexture = ShadowI;
End
;------------------------------------------------------------------------------
; aka Rohan Elven Warrior
Object CINE_RohanElvenWarrior
	; ***ART Parameters ***

	SelectPortrait         = UPRohan_ElvenWarrior

	Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

; --------- With Bow ------------
; Bah, must come first even though all the other bow stuff is below the sword stuff
		DefaultModelConditionState
			Model               = RULAElfWar_SKN
			WeaponLaunchBone			=	PRIMARY ARROW
			WeaponLaunchBone			=	SECONDARY ARROWNOCK	; when upgraded to flaming arrow
		End

; --------- With Sword ------------
		ModelConditionState   = WEAPONSET_TOGGLE_1
			Model               = RULAElfWar_SKN
		End

; --------- With Fire arrows Upgrade  ------------
		ModelConditionState   = WEAPONSET_PLAYER_UPGRADE USER_4
			Model               = RULAElfWar_SKN
			WeaponLaunchBone			=	PRIMARY ARROW
			WeaponLaunchBone			=	SECONDARY ARROWNOCK	; when upgraded to flaming arrow
			ParticleSysBone				=   FireArowTip arrowFire FollowBone:Yes
			ParticleSysBone				=   FireArowTip arrowFire FollowBone:Yes
		End


		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY WEAPONSET_TOGGLE_1
			Animation					= TerrorFromTheSky
				AnimationName			= RUElfWar_SKL.RUElfWar_RUNN
				AnimationMode			= LOOP
			End
			StateName	= RunningSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningBow" then CurDrawableSetTransitionAnimState("TransBowToSword_Running") end
			EndScript
		End
				
		AnimationState				= MOVING PANICKING WEAPONSET_TOGGLE_1
			Animation			= RUNM
				AnimationName		= RUElfWar_SKL.RUElfWar_MFDS
				AnimationMode		= LOOP
			End
			StateName	= RunningSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningBow" then CurDrawableSetTransitionAnimState("TransBowToSword_Running") end
			EndScript
		End

		AnimationState        = MOVING WEAPONSET_TOGGLE_1
			Animation           = RunWithSword
				AnimationName       = RUElfWar_SKL.RUElfWar_RUNS
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
			StateName           = RunningSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningBow" then CurDrawableSetTransitionAnimState("TransBowToSword_Running") end
			EndScript
		End


		AnimationState        			= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			Animation           		= AttackWithSwordA
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv2
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
			Animation           		= AttackWithSwordB
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKS
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
			Animation           		= AttackWithSwordC
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv3
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
			Animation           		= AttackWithSwordD
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv4
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
;			Animation           		= AttackWithSwordE
;				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv5
;				AnimationMode       	= ONCE
;				UseWeaponTiming		= Yes
;			End
			Animation           		= AttackWithSwordF
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv6
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End

		AnimationState        			= DYING WEAPONSET_TOGGLE_1
			Animation           		= DieWithSword
				AnimationName       	= RUElfWar_SKL.RUElfWar_DIESv5
				AnimationMode       	= ONCE
			End
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End

	;------------emotions with sword ---------------
	
		AnimationState			= EMOTION_AFRAID WEAPONSET_TOGGLE_1
			Animation					= FERS
				AnimationName			= RUElfWar_SKL.RUElfWar_FERS
				AnimationMode			= LOOP
			End		
			Flags               = RANDOMSTART
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End	
		
		AnimationState			= EMOTION_AFRAID WEAPONSET_TOGGLE_1
			Animation					= APPS
				AnimationName			= RUElfWar_SKL.RUElfWar_APPS
				AnimationMode			= LOOP
			End
			Animation					= APPSX1
				AnimationName			= RUElfWar_SKL.RUElfWar_APPSX1
				AnimationMode			= LOOP
			End
			Flags               = RANDOMSTART
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End	
		
		AnimationState			= EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
			Animation					= CHRST2
				AnimationName			= RUElfWar_SKL.RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags               = RANDOMSTART
			Flags				= RESTART_ANIM_WHEN_COMPLETE
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End

		AnimationState			= EMOTION_ALERT EMOTION_MORALE_HIGH WEAPONSET_TOGGLE_1
			Animation					= Taunting
				AnimationName			= RUElfWar_SKL.RUElfWar_TNTSV
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End
		
		AnimationState				=	SELECTED WEAPONSET_TOGGLE_1
			Animation				=	ATNS
				AnimationName		=	RUElfWar_SKL.RUElfWar_ATNS
				AnimationMode		=	LOOP
			End

			StateName	= STATE_Selected_Sword
			Flags               = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedSword") end
			EndScript
		End
		
		AnimationState        = WEAPONSET_TOGGLE_1
			Animation           		= IDLCX1
				AnimationName       	= RUElfWar_SKL.RUElfWar_IDLST1
				AnimationMode       	= LOOP
				AnimationSpeedFactorRange = 0.8 1.2
			End

			StateName	= STATE_Idle_Sword;
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("FireArowTip")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
				if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToGuardSword") end
			EndScript
		End

	; --------- Hit Reactions ------------	

		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = RUElfWar_SKL.RUElfWar_HITSv1
				AnimationMode = ONCE
			End
			StateName           = Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End

	;---- Bow --------------------------------

		IdleAnimationState
			Animation           		= IDLCX1
				AnimationName       	= RUElfWar_SKL.RUElfWar_IDLST1
				AnimationMode       	= LOOP
				AnimationSpeedFactorRange = 0.8 1.2
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("FireArowTip")
				CurDrawableShowSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
				if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToGuardBow") end ;AMIR
			EndScript
			StateName           = STATE_Idle_Bow
		End

		AnimationState        		= DYING
			Animation           		= ElvenWarriorDie
				AnimationName       	= RUElfWar_SKL.RUElfWar_DIEB
				AnimationMode       	= ONCE
			End
			Animation           		= ElvenWarriorDieV
				AnimationName       	= RUElfWar_SKL.RUElfWar_DIEBV5
				AnimationMode       	= ONCE
			End
			Animation           		= ElvenWarriorDieV
				AnimationName       	= RUElfWar_SKL.RUElfWar_DIEBV6
				AnimationMode       	= ONCE
			End
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End

		AnimationState				= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY WEAPONSET_TOGGLE_1
			Animation					= TerrorFromTheSky
				AnimationName			= RUElfWar_SKL.RUElfWar_RUNOT
				AnimationMode			= LOOP
			End
			Flags				= RANDOMSTART
			StateName           = RunningBow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningSword" then CurDrawableSetTransitionAnimState("TransSwordToBow_Running") end
			EndScript
		End
				
		AnimationState				= MOVING PANICKING
			Animation					= RUNM
				AnimationName			= RUElfWar_SKL.RUElfWar_MFDB
				AnimationMode			= LOOP
			End
			Flags				= RANDOMSTART
			StateName           = RunningBow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningSword" then CurDrawableSetTransitionAnimState("TransSwordToBow_Running") end
			EndScript
		End

		AnimationState        		= MOVING
			Animation           		= Run
				AnimationName       	= RUElfWar_SKL.RUElfWar_RUNB
				AnimationMode       	= LOOP
			End
			Flags               		= RANDOMSTART
			;ParticleSysBone     		= None InfantryDustTrails
			StateName           = RunningBow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningSword" then CurDrawableSetTransitionAnimState("TransSwordToBow_Running") end
			EndScript
		End

		AnimationState        		=  FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE
			Animation           		= AttackAPre
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKBv2
				AnimationMode       	= LOOP
				UseWeaponTiming		= Yes
				AnimationBlendTime	= 5
			End
			FrameForPristineBonePositions 	= 59
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End

		AnimationState        		=  FIRING_OR_PREATTACK_A
			Animation           		= AttackAPre
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKBv2
				AnimationMode       	= LOOP
				UseWeaponTiming		= Yes
				AnimationBlendTime	= 5
			End
			FrameForPristineBonePositions 	= 59
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End



	;------------emotions with bow ---------------

		
		AnimationState			= EMOTION_AFRAID 
			Animation					= FERB
				AnimationName			= RUElfWar_SKL.RUElfWar_FERB
				AnimationMode			= LOOP
			End		
			Flags               = RANDOMSTART
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End
		
		AnimationState			= EMOTION_AFRAID 
			Animation					= APPBV1
				AnimationName			= RUElfWar_SKL.RUElfWar_APPBV1
				AnimationMode			= LOOP
			End
			Animation					= APPBV2
				AnimationName			= RUElfWar_SKL.RUElfWar_APPBV2
				AnimationMode			= LOOP
			End
			Flags               = RANDOMSTART
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End
		
		AnimationState			= EMOTION_CELEBRATING 
			Animation					= CHRA
				AnimationName			= RUElfWar_SKL.RUElfWar_CHRB
				AnimationMode			= ONCE
			End
			Flags               = RANDOMSTART
			Flags				= RESTART_ANIM_WHEN_COMPLETE
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End
		
		AnimationState				= EMOTION_ALERT EMOTION_MORALE_HIGH
			Animation					= Taunting
				AnimationName			= RUElfWar_SKL.RUElfWar_TNTB
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= RUElfWar_SKL.RUElfWar_TNTB	; RUElfWar_TNTBX anim does not exist
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End

;THIS IS THE NEW STUFF
		AnimationState        = SELECTED
			StateName           = STATE_Selected_Bow
			Animation = ATNB
				AnimationName = RUElfWar_SKL.RUElfWar_ATNE
				AnimationMode = LOOP
				AnimationBlendTime  = 15
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedBow") end
				
			EndScript
		End
		
	; --------- Hit Reactions ------------	
		AnimationState 				= HIT_REACTION HIT_LEVEL_1
			Animation 			= Hit_Level_1_a
				AnimationName 		= RUElfWar_SKL.RUElfWar_HITB
				AnimationMode 		= ONCE
			End
		End




	;---transitions--------------------------------------------
	
		TransitionState					= TRANS_BoredToSelectedSword
			Animation				=	ATNA
				AnimationName		=	RUElfWar_SKL.RUElfWar_ATNA
				AnimationMode		=	ONCE
			End
			Animation				=	ATNAX1
				AnimationName		=	RUElfWar_SKL.RUElfWar_ATNAX1
				AnimationMode		=	ONCE
			End
		End
	
	
		TransitionState       			= TRANS_SelectedToGuardBow
			Animation           		= ATNE
				AnimationName     	= RUElfWar_SKL.RUElfWar_ATNF
				AnimationMode     	= ONCE
			End
		End
		
		TransitionState       			= TRANS_SelectedToGuardSword
			Animation           		= ATNE
				AnimationName     	= RUElfWar_SKL.RUElfWar_ATNC
				AnimationMode     	= ONCE
			End
		End
		
		TransitionState       			= TRANS_BoredToSelectedBow
			Animation           		= ATNE
				AnimationName     	= RUElfWar_SKL.RUElfWar_ATND
				AnimationMode     	= ONCE
			End
		End
		
		TransitionState       			= TRANS_GuardToSelectedSword
			Animation           		= ATNE
				AnimationName     	= RUElfWar_SKL.RUElfWar_ATNA
				AnimationMode     	= ONCE
			End
		End
		

		TransitionState       			= TransBowToSword
			Animation           		= DrawSwords
				AnimationName       	= RUElfWar_SKL.RUElfWar_STHA
				AnimationMode       	= ONCE
			End
		End

		TransitionState       			= TransSwordToBow
			Animation           		= DrawBow
				AnimationName       	= RUElfWar_SKL.RUElfWar_STHB
				AnimationMode       	= ONCE
			End
		End
		
		TransitionState       			= TransBowToSword_Running
			Animation           		= DrawSwords
				AnimationName       	= RUElfWar_SKL.RUElfWar_RUNC
				AnimationMode       	= ONCE
			End
		End
		
		TransitionState       			= TransSwordToBow_Running
			Animation           		= DrawBow
				AnimationName       	= RUElfWar_SKL.RUElfWar_RUNT
				AnimationMode       	= ONCE
			End
		End

		
;---------- for upgraded arrows -----------------------

		AnimationState        =  USER_4
			Animation           = IdleBowB
				AnimationName       = RUElfWar_SKL.RUElfWar_IDLDX1
				AnimationMode       = ONCE
				AnimationPriority	    = 1
			End
			Animation           = IdleBowD
				AnimationName       = RUElfWar_SKL.RUElfWar_IDLD
				AnimationMode       = ONCE
				AnimationPriority	    = 20
			End
			BeginScript
				CurDrawableShowSubObject("ArrowNock")
				CurDrawableShowSubObject("FireArowTip")
				CurDrawableHideSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
			StateName           = Bow
		End
		
	End
	
	; ***DESIGN parameters ***
	Side = Rohan
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 1

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    RohanElvenBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	;bow upgrade
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY	RohanElvenBow ; RohanElvenBowFireArrow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1; CONTESTING_BUILDING
		Weapon = PRIMARY    GondorRangerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	; sword upgrade	
	WeaponSet
		Conditions = PLAYER_UPGRADE WEAPONSET_TOGGLE_1 CONTESTING_BUILDING
		Weapon = PRIMARY	GondorRangerSword
    	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
		
	ArmorSet
		Conditions      = None
		Armor           = SpecialistArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 12
	BountyValue = ROHAN_ELVENWARRIOR_BOUNTY_VALUE 		
	DisplayName = OBJECT:RohanElvenWarrior
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CommandSet = RohanElvenWarriorCommandSet
	
	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE THROWN_OBJECT PATH_THROUGH_EACH_OTHER ARCHER ATTACK_NEEDS_LINE_OF_SIGHT
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = ROHAN_ELVENWARRIOR_HEALTH			;BALANCE RohanElvenWarrior
		MaxHealthDamaged  = ROHAN_ELVENWARRIOR_HEALTH_DAMAGED		
		RecoveryTime      = ROHAN_ELVENWARRIOR_HEALTH_RECOVERY_TIME		
	End
	
	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTag
		TriggeredBy = Upgrade_FireArrows
		CustomAnimAndDuration   = AnimState:USER_4 AnimTime:0 TriggerTime:0 ;set flag forever
	End
	
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy = Upgrade_RohanForgedBlades
		CustomAnimAndDuration   = AnimState:USER_5 AnimTime:0 TriggerTime:0 ;set flag forever
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_RohanHeavyArmor
		UpgradeTexture	= RUElvnWorrior.tga 0 RUElvnWorriorHA.tga
		UpgradeTexture	= RUElvnWorrior_L.tga 0 RUElvnWorriorHA.tga
	End
	
	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_RohanForgedBlades
		ShowSubObjects	= Forged_Blade
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle		= Yes
		MoodAttackCheckRate				= 500
		CanAttackWhileContained			= Yes		
;		HoldGroundCloseRangeDistance	= 41
		AILuaEventsList					= RohanElvenWarriorFunctions
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 55
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = 55
	End

	LocomotorSet
		Locomotor = HumanPanicLocomotor
		Condition = SET_PANIC
		Speed	  = 55
	End
	
	LocomotorSet
		Locomotor = HumanScaredLocomotor
		Condition = SET_SCARED
		Speed	  = 55
	End
		
	Behavior = StealthUpdate StealthUpdateModuleTag
	  StealthDelay                = 500         ; msec
	  FriendlyOpacityMin          = 10.0%
	  FriendlyOpacityMax          = 60.0%
	  PulseFrequency              = 750   ; msec
	  StealthForbiddenConditions = AWAY_FROM_TREES
	  RemoveTerrainRestrictionOnUpgrade = Upgrade_ElvesBetterStealth
	  OrderIdleEnemiesToAttackMeUponReveal  = Yes
	  DetectedByAnyoneRange		  = 120
	  RevealWeaponSets			  = CLOSE_RANGE CONTESTING_BUILDING
	End
	
	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_14
		TriggeredBy = Upgrade_FireArrows
	End
	
	;Behavior = DualWeaponBehavior ModuleTag_13
	;	SwitchWeaponOnCloseRangeDistance = 41
	;End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.5     ; in Dist/Sec
		DestructionDelay = 15000
            Sound = INITIAL ElvenWarriorVoiceDie

	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 25
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 41 ; this far
		BounceFirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 25
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	; Tie into LargeGroupAudio system
		Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
			Key = Elf Unit Infantry Elf_Warrior
		End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	;ShadowSizeX = 14;
	;ShadowSizeY = 14;
	;ShadowTexture = ShadowI;
End

;-------------------------------------------------------------------------------------------

;-------------------------------------------------------------------------------------------
Object CINE_RohanElvenWarrior_Walking
	; ***ART Parameters ***

	SelectPortrait         = UPRohan_ElvenWarrior

	Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

; --------- With Bow ------------
; Bah, must come first even though all the other bow stuff is below the sword stuff
		DefaultModelConditionState
			Model               = RULAElfWar_SKN
			WeaponLaunchBone			=	PRIMARY ARROW
			WeaponLaunchBone			=	SECONDARY ARROWNOCK	; when upgraded to flaming arrow
		End

; --------- With Sword ------------
		ModelConditionState   = WEAPONSET_TOGGLE_1
			Model               = RULAElfWar_SKN
		End

; --------- With Fire arrows Upgrade  ------------
		ModelConditionState   = WEAPONSET_PLAYER_UPGRADE USER_4
			Model               = RULAElfWar_SKN
			WeaponLaunchBone			=	PRIMARY ARROW
			WeaponLaunchBone			=	SECONDARY ARROWNOCK	; when upgraded to flaming arrow
			ParticleSysBone				=   FireArowTip arrowFire FollowBone:Yes
			ParticleSysBone				=   FireArowTip arrowFire FollowBone:Yes
		End


		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY WEAPONSET_TOGGLE_1
			Animation					= TerrorFromTheSky
				AnimationName			= RUElfWar_SKL.RUElfWar_RUNN
				AnimationMode			= LOOP
			End
			StateName	= RunningSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningBow" then CurDrawableSetTransitionAnimState("TransBowToSword_Running") end
			EndScript
		End
				
		AnimationState				= MOVING PANICKING WEAPONSET_TOGGLE_1
			Animation			= RUNM
				AnimationName		= RUElfWar_SKL.RUElfWar_MFDS
				AnimationMode		= LOOP
			End
			StateName	= RunningSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningBow" then CurDrawableSetTransitionAnimState("TransBowToSword_Running") end
			EndScript
		End

		AnimationState        = MOVING WEAPONSET_TOGGLE_1
			Animation           = RunWithSword
				AnimationName       = RUElfWar_SKL.RUElfWar_RUNS
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
			StateName           = RunningSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningBow" then CurDrawableSetTransitionAnimState("TransBowToSword_Running") end
			EndScript
		End


		AnimationState        			= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			Animation           		= AttackWithSwordA
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv2
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
			Animation           		= AttackWithSwordB
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKS
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
			Animation           		= AttackWithSwordC
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv3
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
			Animation           		= AttackWithSwordD
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv4
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End
;			Animation           		= AttackWithSwordE
;				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv5
;				AnimationMode       	= ONCE
;				UseWeaponTiming		= Yes
;			End
			Animation           		= AttackWithSwordF
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKSv6
				AnimationMode       	= ONCE
				UseWeaponTiming		= Yes
			End			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End

		AnimationState        			= DYING WEAPONSET_TOGGLE_1
			Animation           		= DieWithSword
				AnimationName       	= RUElfWar_SKL.RUElfWar_DIESv5
				AnimationMode       	= ONCE
			End
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End

	;------------emotions with sword ---------------
	
		AnimationState			= EMOTION_AFRAID WEAPONSET_TOGGLE_1
			Animation					= FERS
				AnimationName			= RUElfWar_SKL.RUElfWar_FERS
				AnimationMode			= LOOP
			End		
			Flags               = RANDOMSTART
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End	
		
		AnimationState			= EMOTION_AFRAID WEAPONSET_TOGGLE_1
			Animation					= APPS
				AnimationName			= RUElfWar_SKL.RUElfWar_APPS
				AnimationMode			= LOOP
			End
			Animation					= APPSX1
				AnimationName			= RUElfWar_SKL.RUElfWar_APPSX1
				AnimationMode			= LOOP
			End
			Flags               = RANDOMSTART
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End	
		
		AnimationState			= EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
			Animation					= CHRST2
				AnimationName			= RUElfWar_SKL.RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags               = RANDOMSTART
			Flags				= RESTART_ANIM_WHEN_COMPLETE
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End

		AnimationState			= EMOTION_ALERT EMOTION_MORALE_HIGH WEAPONSET_TOGGLE_1
			Animation					= Taunting
				AnimationName			= RUElfWar_SKL.RUElfWar_TNTSV
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
			StateName	= Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End
		
		AnimationState				=	SELECTED WEAPONSET_TOGGLE_1
			Animation				=	ATNS
				AnimationName		=	RUElfWar_SKL.RUElfWar_ATNS
				AnimationMode		=	LOOP
			End

			StateName	= STATE_Selected_Sword
			Flags               = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedSword") end
			EndScript
		End
		
		AnimationState        = WEAPONSET_TOGGLE_1
			Animation           		= IDLCX1
				AnimationName       	= RUElfWar_SKL.RUElfWar_IDLCX1
				AnimationMode       	= LOOP
				AnimationPriority	    = 1
			End
			Animation           		= IDLCT1
				AnimationName       	= RUElfWar_SKL.RUElfWar_IDLCT1
				AnimationMode       	= LOOP
				AnimationPriority	    = 1
			End
			Animation           		= IDLCt3
				AnimationName       	= RUElfWar_SKL.RUElfWar_IDLCt3
				AnimationMode       	= LOOP
				AnimationPriority	    = 20
			End
			Animation           		= IDLG
				AnimationName       	= RUElfWar_SKL.RUElfWar_IDLG
				AnimationMode       	= LOOP
				AnimationPriority	    = 20
			End
			StateName	= STATE_Idle_Sword;
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("FireArowTip")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
				if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToGuardSword") end
			EndScript
		End

	; --------- Hit Reactions ------------	

		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = RUElfWar_SKL.RUElfWar_HITSv1
				AnimationMode = ONCE
			End
			StateName           = Sword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
			EndScript
		End

	;---- Bow --------------------------------

		IdleAnimationState
			Animation           = IdleBowB
				AnimationName       = RUElfWar_SKL.RUElfWar_IDLDX1
				AnimationMode       = ONCE
				AnimationPriority	    = 1
			End
			Animation           = IdleBowD
				AnimationName       = RUElfWar_SKL.RUElfWar_IDLD
				AnimationMode       = ONCE
				AnimationPriority	    = 20
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("FireArowTip")
				CurDrawableShowSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
				if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToGuardBow") end ;AMIR
			EndScript
			StateName           = STATE_Idle_Bow
		End

		AnimationState        		= DYING
			Animation           		= ElvenWarriorDie
				AnimationName       	= RUElfWar_SKL.RUElfWar_DIEB
				AnimationMode       	= ONCE
			End
			Animation           		= ElvenWarriorDieV
				AnimationName       	= RUElfWar_SKL.RUElfWar_DIEBV5
				AnimationMode       	= ONCE
			End
			Animation           		= ElvenWarriorDieV
				AnimationName       	= RUElfWar_SKL.RUElfWar_DIEBV6
				AnimationMode       	= ONCE
			End
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End

		AnimationState				= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY WEAPONSET_TOGGLE_1
			Animation					= TerrorFromTheSky
				AnimationName			= RUElfWar_SKL.RUElfWar_RUNOT
				AnimationMode			= LOOP
			End
			Flags				= RANDOMSTART
			StateName           = RunningBow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningSword" then CurDrawableSetTransitionAnimState("TransSwordToBow_Running") end
			EndScript
		End
				
		AnimationState				= MOVING PANICKING
			Animation					= RUNM
				AnimationName			= RUElfWar_SKL.RUElfWar_MFDB
				AnimationMode			= LOOP
			End
			Flags				= RANDOMSTART
			StateName           = RunningBow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningSword" then CurDrawableSetTransitionAnimState("TransSwordToBow_Running") end
			EndScript
		End

		AnimationState        		= MOVING
			Animation           		= Run
				AnimationName       	= RUElfWar_SKL.RUElfWar_WLKA;RUElfWar_SKL.RUElfWar_RUNB
				AnimationMode       	= LOOP
			End
			Flags               		= RANDOMSTART
			;ParticleSysBone     		= None InfantryDustTrails
			StateName           = RunningBow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "RunningSword" then CurDrawableSetTransitionAnimState("TransSwordToBow_Running") end
			EndScript
		End

		AnimationState        		=  FIRING_OR_PREATTACK_A WEAPONSET_PLAYER_UPGRADE
			Animation           		= AttackAPre
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKBv2
				AnimationMode       	= LOOP
				UseWeaponTiming		= Yes
				AnimationBlendTime	= 5
			End
			FrameForPristineBonePositions 	= 59
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End

		AnimationState        		=  FIRING_OR_PREATTACK_A
			Animation           		= AttackAPre
				AnimationName       	= RUElfWar_SKL.RUElfWar_ATKBv2
				AnimationMode       	= LOOP
				UseWeaponTiming		= Yes
				AnimationBlendTime	= 5
			End
			FrameForPristineBonePositions 	= 59
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End



	;------------emotions with bow ---------------

		
		AnimationState			= EMOTION_AFRAID 
			Animation					= FERB
				AnimationName			= RUElfWar_SKL.RUElfWar_FERB
				AnimationMode			= LOOP
			End		
			Flags               = RANDOMSTART
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End
		
		AnimationState			= EMOTION_AFRAID 
			Animation					= APPBV1
				AnimationName			= RUElfWar_SKL.RUElfWar_APPBV1
				AnimationMode			= LOOP
			End
			Animation					= APPBV2
				AnimationName			= RUElfWar_SKL.RUElfWar_APPBV2
				AnimationMode			= LOOP
			End
			Flags               = RANDOMSTART
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End
		
		AnimationState			= EMOTION_CELEBRATING 
			Animation					= CHRA
				AnimationName			= RUElfWar_SKL.RUElfWar_CHRB
				AnimationMode			= ONCE
			End
			Flags               = RANDOMSTART
			Flags				= RESTART_ANIM_WHEN_COMPLETE
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End
		
		AnimationState				= EMOTION_ALERT EMOTION_MORALE_HIGH
			Animation					= Taunting
				AnimationName			= RUElfWar_SKL.RUElfWar_TNTB
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= RUElfWar_SKL.RUElfWar_TNTB	; RUElfWar_TNTBX anim does not exist
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
			StateName           = Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
		End

;THIS IS THE NEW STUFF
		AnimationState        = SELECTED
			StateName           = STATE_Selected_Bow
			Animation = ATNB
				AnimationName = RUElfWar_SKL.RUElfWar_ATNE
				AnimationMode = LOOP
				AnimationBlendTime  = 15
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedBow") end
				
			EndScript
		End
		
	; --------- Hit Reactions ------------	
		AnimationState 				= HIT_REACTION HIT_LEVEL_1
			Animation 			= Hit_Level_1_a
				AnimationName 		= RUElfWar_SKL.RUElfWar_HITB
				AnimationMode 		= ONCE
			End
		End




	;---transitions--------------------------------------------
	
		TransitionState					= TRANS_BoredToSelectedSword
			Animation				=	ATNA
				AnimationName		=	RUElfWar_SKL.RUElfWar_ATNA
				AnimationMode		=	ONCE
			End
			Animation				=	ATNAX1
				AnimationName		=	RUElfWar_SKL.RUElfWar_ATNAX1
				AnimationMode		=	ONCE
			End
		End
	
	
		TransitionState       			= TRANS_SelectedToGuardBow
			Animation           		= ATNE
				AnimationName     	= RUElfWar_SKL.RUElfWar_ATNF
				AnimationMode     	= ONCE
			End
		End
		
		TransitionState       			= TRANS_SelectedToGuardSword
			Animation           		= ATNE
				AnimationName     	= RUElfWar_SKL.RUElfWar_ATNC
				AnimationMode     	= ONCE
			End
		End
		
		TransitionState       			= TRANS_BoredToSelectedBow
			Animation           		= ATNE
				AnimationName     	= RUElfWar_SKL.RUElfWar_ATND
				AnimationMode     	= ONCE
			End
		End
		
		TransitionState       			= TRANS_GuardToSelectedSword
			Animation           		= ATNE
				AnimationName     	= RUElfWar_SKL.RUElfWar_ATNA
				AnimationMode     	= ONCE
			End
		End
		

		TransitionState       			= TransBowToSword
			Animation           		= DrawSwords
				AnimationName       	= RUElfWar_SKL.RUElfWar_STHA
				AnimationMode       	= ONCE
			End
		End

		TransitionState       			= TransSwordToBow
			Animation           		= DrawBow
				AnimationName       	= RUElfWar_SKL.RUElfWar_STHB
				AnimationMode       	= ONCE
			End
		End
		
		TransitionState       			= TransBowToSword_Running
			Animation           		= DrawSwords
				AnimationName       	= RUElfWar_SKL.RUElfWar_RUNC
				AnimationMode       	= ONCE
			End
		End
		
		TransitionState       			= TransSwordToBow_Running
			Animation           		= DrawBow
				AnimationName       	= RUElfWar_SKL.RUElfWar_RUNT
				AnimationMode       	= ONCE
			End
		End

		
;---------- for upgraded arrows -----------------------

		AnimationState        =  USER_4
			Animation           = IdleBowB
				AnimationName       = RUElfWar_SKL.RUElfWar_IDLDX1
				AnimationMode       = ONCE
				AnimationPriority	    = 1
			End
			Animation           = IdleBowD
				AnimationName       = RUElfWar_SKL.RUElfWar_IDLD
				AnimationMode       = ONCE
				AnimationPriority	    = 20
			End
			BeginScript
				CurDrawableShowSubObject("ArrowNock")
				CurDrawableShowSubObject("FireArowTip")
				CurDrawableHideSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TransSwordToBow") end
			EndScript
			StateName           = Bow
		End
		
	End
	
	; ***DESIGN parameters ***
	Side = Rohan
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 1

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    RohanElvenBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	;bow upgrade
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY	RohanElvenBow ; RohanElvenBowFireArrow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1; CONTESTING_BUILDING
		Weapon = PRIMARY    GondorRangerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	; sword upgrade	
	WeaponSet
		Conditions = PLAYER_UPGRADE WEAPONSET_TOGGLE_1 CONTESTING_BUILDING
		Weapon = PRIMARY	GondorRangerSword
    	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
		
	ArmorSet
		Conditions      = None
		Armor           = SpecialistArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = ROHAN_ELVENWARRIOR_VISION_RANGE
	BountyValue = ROHAN_ELVENWARRIOR_BOUNTY_VALUE 		
	DisplayName = OBJECT:Cine_RohanElvenWarrior_Walk
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CommandSet = RohanElvenWarriorCommandSet
	
	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE THROWN_OBJECT PATH_THROUGH_EACH_OTHER ARCHER ATTACK_NEEDS_LINE_OF_SIGHT
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = ROHAN_ELVENWARRIOR_HEALTH			;BALANCE RohanElvenWarrior
		MaxHealthDamaged  = ROHAN_ELVENWARRIOR_HEALTH_DAMAGED		
		RecoveryTime      = ROHAN_ELVENWARRIOR_HEALTH_RECOVERY_TIME		
	End
	
	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTag
		TriggeredBy = Upgrade_FireArrows
		CustomAnimAndDuration   = AnimState:USER_4 AnimTime:0 TriggerTime:0 ;set flag forever
	End
	
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy = Upgrade_RohanForgedBlades
		CustomAnimAndDuration   = AnimState:USER_5 AnimTime:0 TriggerTime:0 ;set flag forever
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_RohanHeavyArmor
		UpgradeTexture	= RUElvnWorrior.tga 0 RUElvnWorriorHA.tga
		UpgradeTexture	= RUElvnWorrior_L.tga 0 RUElvnWorriorHA.tga
	End
	
	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_RohanForgedBlades
		ShowSubObjects	= Forged_Blade
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle		= Yes
		MoodAttackCheckRate				= 500
		CanAttackWhileContained			= Yes		
;		HoldGroundCloseRangeDistance	= 41
		AILuaEventsList					= RohanElvenWarriorFunctions
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 16
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = 32
	End

	LocomotorSet
		Locomotor = HumanPanicLocomotor
		Condition = SET_PANIC
		Speed	  = 32
	End
	
	LocomotorSet
		Locomotor = HumanScaredLocomotor
		Condition = SET_SCARED
		Speed	  = 32
	End
		
	Behavior = StealthUpdate StealthUpdateModuleTag
	  ;StealthDelay                = 500         ; msec
	  ;FriendlyOpacityMin          = 10.0%
	  ;FriendlyOpacityMax          = 60.0%
	  ;PulseFrequency              = 750   ; msec
	  ;StealthForbiddenConditions = AWAY_FROM_TREES
	  ;RemoveTerrainRestrictionOnUpgrade = Upgrade_ElvesBetterStealth
	  ;OrderIdleEnemiesToAttackMeUponReveal  = Yes
	  ;DetectedByAnyoneRange		  = 120
	  ;RevealWeaponSets			  = CLOSE_RANGE CONTESTING_BUILDING
	End
	
	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_14
		TriggeredBy = Upgrade_FireArrows
	End
	
	;Behavior = DualWeaponBehavior ModuleTag_13
	;	SwitchWeaponOnCloseRangeDistance = 41
	;End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.5     ; in Dist/Sec
		DestructionDelay = 15000
            Sound = INITIAL ElvenWarriorVoiceDie

	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 25
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 41 ; this far
		BounceFirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 25
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	; Tie into LargeGroupAudio system
		Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
			Key = Elf Unit Infantry Elf_Warrior
		End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	;ShadowSizeX = 14;
	;ShadowSizeY = 14;
	;ShadowTexture = ShadowI;
End
;p-----------------------------------------------------------------------------------------
Object CINE_RohanElvenWarrior_Prop
	; *** ART Parameters ***

	Draw = W3DScriptedModelDraw ModuleTag_01


   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		DefaultModelConditionState
			Model               = RULAElfWar_SKN
			Skeleton            = RUElfWar_SKL
		End

		IdleAnimationState
			Animation           = IDLA
				AnimationName     = RUElfWar_IDLST1
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.8 1.2
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("FireArowTip")
				CurDrawableHideSubObject("Forged_Blade")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
				if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToGuardSword") end
			EndScript
		End
	
		AnimationState        = USER_1
			;Animation           = TALK1
			;	AnimationName     = RUElfWar_ATKSV2
			;	AnimationMode     = LOOP
			;End
			Animation           = TALK2
				AnimationName     = RUElfWar_ATKS
				AnimationMode     = LOOP
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("FireArowTip")
				CurDrawableHideSubObject("Forged_Blade")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
				if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToGuardSword") end
			EndScript
		End	
	End
	

	; ***DESIGN parameters ***
	Side = Civilian
	EditorSorting = UNIT
	ThingClass = HORDE_UNIT

	TransportSlotCount = 1
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 121
	DisplayName = OBJECT:GondorTownsman
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

	; *** AUDIO Parameters ***;
	VoiceFear = NoSound
	VoiceGuard = NoSound
;  SoundDie = NoSound
;  SoundDieFire = NoSound
	SoundStealthOn = NoSound
	SoundStealthOff = NoSound
; SoundImpact = NoSound
	
	UnitSpecificSounds
		VoiceGarrison         = NoSound
		VoiceEnter            = NoSound
		VoiceEnterHostile     = NoSound
		VoiceGetHealed        = NoSound
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
        KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER CAN_BE_REPULSED 
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Townsman Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = WorkerAIUpdate ModuleTag_10
		RepairHealthPercentPerSecond  = 2%    ; % of max health to repair each second
		BoredTime                     = 5000  ; in milliseconds
		BoredRange                    = 120   ; when bored, we look this far away to do something 
		SpecialContactPoints		   = Repair
	End

        LocomotorSet
		Locomotor = GondorCivilianLocomotor
		Condition = SET_NORMAL 
		Speed     = 17
	End
        LocomotorSet
		Locomotor = GondorCivilianLocomotor
		Condition = SET_PANIC
		Speed     = 49
	End
	LocomotorSet
		Locomotor = GondorCivilianWanderLocomotor
		Condition = SET_WANDER
		Speed     = 17
	End 

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -CRUSHED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		DeathFlags = DEATH_1
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05b
		DeathTypes = NONE +CRUSHED
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		DeathFlags = DEATH_2
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 25
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 41 ; this far
		BounceFirstHeight = 17  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 17
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

       ; Tie into LargeGroupAudio system
      Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	   Key = Civilian_Male 
      End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
;	Shadow = SHADOW_VOLUME ; for demo purposes
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;
End
;p----------------------------------------------------------------------------------
Object CINE_IsengardFighter_DIEA
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BIUrukPit_Warriors
  SelectPortrait         = UPIsenguard_UrukHai
  
  Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    DefaultModelConditionState
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End
    
	IdleAnimationState

		Animation = IDLB
			AnimationName = IUUrukahi_IDLB
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = IDLG
			AnimationName = IUUrukahi_IDLG
			AnimationMode = ONCE
			AnimationPriority = 1 ;2
		End
		Animation = IDLD
			AnimationName = IUUrukahi_IDLD
			AnimationMode = ONCE
			AnimationPriority = 2
		End	
		StateName = Idle
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
		EndScript
	End
	
	AnimationState        = STUNNED_FLAILING
		Animation           = StunFlail
			AnimationName     = IUUrukahi_FLYA
			AnimationMode      = LOOP
		End
		Flags               = RANDOMSTART
	End


	AnimationState        = STUNNED
		Animation           = LNDA
			AnimationName     = IUUrukahi_LNDA
			AnimationMode     = ONCE
		End
	End

	AnimationState        = STUNNED_STANDING_UP
		Animation           = GTPA
			AnimationName     = IUUrukahi_GTPA
			AnimationMode     = ONCE
		End
	End
	
	AnimationState        = THROWN_PROJECTILE
		Animation           = FLYA
			AnimationName     = IUUrukahi_FLYA
			AnimationMode     = LOOP
		End
	End
	
	AnimationState        = FREEFALL
		Animation           = FLYA
			AnimationName	= IUUrukahi_FLYA
			AnimationMode	= LOOP
		End
	End

    AnimationState = DYING
		Animation = DIEA
			AnimationName = IUUrukahi_DIEA
		    AnimationMode = ONCE
			AnimationPriority = 1
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		;Animation = DIEB
		;	AnimationName = IUUrukahi_DIEB
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 3
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
		;Animation = DIEC
		;	AnimationName = IUUrukahi_DIEC
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 2
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
		;Animation = DIEG
		;	AnimationName = IUUrukahi_DIEG
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 10
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
    End    

	;----------------------------------------------------
	;Manning battering ram - Left and right handed attack
	;----------------------------------------------------
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1 ; attacking with battering ram
		Animation = grasping_siege_lefthanded
			AnimationName =  IUUrukahi_BATB
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2 ; attacking with battering ram
		Animation = grasping_siege_righthanded
			AnimationName = IUUrukahi_BATA
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right movement
	;----------------------------------------------------
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End

	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End
	
	AnimationState = MOVING BACKING_UP
		Animation = BackingUp
			AnimationName = IUUrukahi_BAKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End

	; ladder climbing animations
	AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP_BACKWARDS
		End
    End

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP
		End
    End

;    AnimationState = MOVING DAMAGED
;		Animation = Moving
;			AnimationName = IUUrukahi_WLK
;		    AnimationMode = LOOP
;		End
;		Flags = RANDOMSTART
;		ParticleSysBone = None InfantryDustTrails
;    End
 
    AnimationState = MOVING
		Animation = Moving
			AnimationName = IUUrukahi_RUNA
		    AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = ATTACKING
		Animation = ATKA
			AnimationName = IUUrukahi_ATKA
			AnimationMode = LOOP
		End
		Animation = ATKC
			AnimationName = IUUrukahi_ATKC
			AnimationMode = LOOP
		End
		Animation = ATKB
			AnimationName = IUUrukahi_ATKB
			AnimationMode = LOOP
		End
    End
    
;    AnimationState = WAR_CHANT
;		Animation = Chant
;			AnimationName = IUUrukahi_TNTA
;			AnimationMode = ONCE
;		End
;		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
;	End

	; Should be before selected (if uncontrollable..)      
    AnimationState = EMOTION_AFRAID
		Animation = FERA
			AnimationName = IUUrukahi_FERA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
    End

	AnimationState        = SELECTED
		StateName           = STATE_Selected
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = LOOP
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
		EndScript
	End

	TransitionState       = TRANS_IdleToSelected
		Animation           = ATNA
			AnimationName     = IUUrukahi_ATNA
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End

	TransitionState       = TRANS_SelectedToGuard
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
		
	TransitionState		= TRANS_SelectedToBoard
		Animation			= ATNC
			AnimationName	= IUUrukahi_ATNC
			AnimationMode	= ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
	
	
    ;-emotions--
  	
  	AnimationState			= EMOTION_CELEBRATING
		Animation           = CHRA
			AnimationName   = IUUrukahi_CHRA
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Animation           = CHRB
			AnimationName   = IUUrukahi_CHRB
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Animation           = TNTA
			AnimationName   = IUUrukahi_TNTA
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Flags				= RESTART_ANIM_WHEN_COMPLETE
	End
  	
  	
  	
  	AnimationState					= EMOTION_MORALE_HIGH EMOTION_ALERT
		Animation					= Taunting
			AnimationName			= IUUrukahi_TNTA
			AnimationMode			= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.8 1.2
		End
		Animation					= TauntingB
			AnimationName			= IUUrukahi_TNTA
			AnimationMode			= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.8 1.2
		End
		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right idle
	;----------------------------------------------------
	AnimationState = PASSENGER PASSENGER_VARIATION_1 ; idle with battering ram
		Animation = idle_siege_lefthanded
			AnimationName =  IUUrukahi_BIDB
			AnimationMode = LOOP
		End
	End
	AnimationState = PASSENGER PASSENGER_VARIATION_2 ; idle with battering ram
		Animation = idle_siege_righthanded
			AnimationName = IUUrukahi_BIDA
			AnimationMode = LOOP
		End
	End
	
	AnimationState WEAPONSET_PLAYER_UPGRADE
		Animation = IDLA
			AnimationName = IUUrukahi_IDLA
			AnimationMode = LOOP
		End
		StateName	= Idle
		Flags		= RANDOMSTART
	End
	
  End

	; ***DESIGN parameters ***
	Side = Isengard
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
		ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	EmotionRange = 240
	CommandPoints = 1
	CommandSet = IsengardFighterCommandSet
	TransportSlotCount = 1
	VisionRange = ISENGARD_URUKFIGHTER_VISION_RANGE
	BountyValue = ISENGARD_URUKFIGHTER_BOUNTY_VALUE
	DisplayName = OBJECT:IsengardFighter
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardBannerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY    IsengardBannerSwordUpgrade
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = UrukHaiArmor
		DamageFX        = NormalDamageFX
	End

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = ISENGARD_URUKFIGHTER_HEALTH				;BALANCE Uruk Hai Health
    MaxHealthDamaged  = ISENGARD_URUKFIGHTER_HEALTH_DAMAGED		
    RecoveryTime      = ISENGARD_URUKFIGHTER_HEALTH_RECOVERY_TIME	
  End

    ;Sword Upgrade
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy		= Upgrade_IsengardForgedBlades
	End

	 ;Heavy Armor
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy		= Upgrade_IsengardHeavyArmor
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_IsengardHeavyArmor
		UpgradeTexture	= IUUrukahi.tga 0 IUUrukahi_HA.tga
		UpgradeTexture	= IUUrukahi_l.tga 0 IUUrukahi_HA.tga
	End

	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_IsengardForgedBlades
		ShowSubObjects	= Forged_Blade
	End
		
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
	AILuaEventsList			   = IsengardFighterFunctions
    MoodAttackCheckRate        = 500
  End
  
  Behavior = StealthUpdate ModuleTag_Stealth
	StealthDelay                = 0 ; msec
	StealthForbiddenConditions  = ATTACKING
	HintDetectableConditions    = IS_FIRING_WEAPON 
	FriendlyOpacityMin          = 10.0%
	FriendlyOpacityMax          = 60.0%
	PulseFrequency              = 750   ; msec
	OrderIdleEnemiesToAttackMeUponReveal  = Yes
	StartsActive				= No
	InnateStealth				= No
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 33
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 32
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukWarriorVoiceDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
  
  Behavior = HordeMemberCollide ModuleTag_HMC
    ;nothing
  End
 

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc_Infantry
  End

  
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21;
  ShadowSizeY = 21;
  ShadowTexture = ShadowI;
End
;p----------------------------------------------------------------------------------
Object CINE_IsengardFighter_DIEB
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BIUrukPit_Warriors
  SelectPortrait         = UPIsenguard_UrukHai
  
  Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    DefaultModelConditionState
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End
    
	IdleAnimationState

		Animation = IDLB
			AnimationName = IUUrukahi_IDLB
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = IDLG
			AnimationName = IUUrukahi_IDLG
			AnimationMode = ONCE
			AnimationPriority = 1 ;2
		End
		Animation = IDLD
			AnimationName = IUUrukahi_IDLD
			AnimationMode = ONCE
			AnimationPriority = 2
		End	
		StateName = Idle
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
		EndScript
	End
	
	AnimationState        = STUNNED_FLAILING
		Animation           = StunFlail
			AnimationName     = IUUrukahi_FLYA
			AnimationMode      = LOOP
		End
		Flags               = RANDOMSTART
	End


	AnimationState        = STUNNED
		Animation           = LNDA
			AnimationName     = IUUrukahi_LNDA
			AnimationMode     = ONCE
		End
	End

	AnimationState        = STUNNED_STANDING_UP
		Animation           = GTPA
			AnimationName     = IUUrukahi_GTPA
			AnimationMode     = ONCE
		End
	End
	
	AnimationState        = THROWN_PROJECTILE
		Animation           = FLYA
			AnimationName     = IUUrukahi_FLYA
			AnimationMode     = LOOP
		End
	End
	
	AnimationState        = FREEFALL
		Animation           = FLYA
			AnimationName	= IUUrukahi_FLYA
			AnimationMode	= LOOP
		End
	End

    AnimationState = DYING
		;Animation = DIEA
		;	AnimationName = IUUrukahi_DIEA
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 1
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
		Animation = DIEB
			AnimationName = IUUrukahi_DIEB
		    AnimationMode = ONCE
			AnimationPriority = 3
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		;Animation = DIEC
		;	AnimationName = IUUrukahi_DIEC
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 2
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
		;Animation = DIEG
		;	AnimationName = IUUrukahi_DIEG
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 10
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
    End    

	;----------------------------------------------------
	;Manning battering ram - Left and right handed attack
	;----------------------------------------------------
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1 ; attacking with battering ram
		Animation = grasping_siege_lefthanded
			AnimationName =  IUUrukahi_BATB
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2 ; attacking with battering ram
		Animation = grasping_siege_righthanded
			AnimationName = IUUrukahi_BATA
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right movement
	;----------------------------------------------------
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End

	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End
	
	AnimationState = MOVING BACKING_UP
		Animation = BackingUp
			AnimationName = IUUrukahi_BAKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End

	; ladder climbing animations
	AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP_BACKWARDS
		End
    End

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP
		End
    End

;    AnimationState = MOVING DAMAGED
;		Animation = Moving
;			AnimationName = IUUrukahi_WLK
;		    AnimationMode = LOOP
;		End
;		Flags = RANDOMSTART
;		ParticleSysBone = None InfantryDustTrails
;    End
 
    AnimationState = MOVING
		Animation = Moving
			AnimationName = IUUrukahi_RUNA
		    AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = ATTACKING
		Animation = ATKA
			AnimationName = IUUrukahi_ATKA
			AnimationMode = LOOP
		End
		Animation = ATKC
			AnimationName = IUUrukahi_ATKC
			AnimationMode = LOOP
		End
		Animation = ATKB
			AnimationName = IUUrukahi_ATKB
			AnimationMode = LOOP
		End
    End
    
;    AnimationState = WAR_CHANT
;		Animation = Chant
;			AnimationName = IUUrukahi_TNTA
;			AnimationMode = ONCE
;		End
;		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
;	End

	; Should be before selected (if uncontrollable..)      
    AnimationState = EMOTION_AFRAID
		Animation = FERA
			AnimationName = IUUrukahi_FERA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
    End

	AnimationState        = SELECTED
		StateName           = STATE_Selected
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = LOOP
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
		EndScript
	End

	TransitionState       = TRANS_IdleToSelected
		Animation           = ATNA
			AnimationName     = IUUrukahi_ATNA
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End

	TransitionState       = TRANS_SelectedToGuard
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
		
	TransitionState		= TRANS_SelectedToBoard
		Animation			= ATNC
			AnimationName	= IUUrukahi_ATNC
			AnimationMode	= ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
	
	
    ;-emotions--
  	
  	AnimationState			= EMOTION_CELEBRATING
		Animation           = CHRA
			AnimationName   = IUUrukahi_CHRA
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Animation           = CHRB
			AnimationName   = IUUrukahi_CHRB
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Animation           = TNTA
			AnimationName   = IUUrukahi_TNTA
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Flags				= RESTART_ANIM_WHEN_COMPLETE
	End
  	
  	
  	
  	AnimationState					= EMOTION_MORALE_HIGH EMOTION_ALERT
		Animation					= Taunting
			AnimationName			= IUUrukahi_TNTA
			AnimationMode			= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.8 1.2
		End
		Animation					= TauntingB
			AnimationName			= IUUrukahi_TNTA
			AnimationMode			= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.8 1.2
		End
		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right idle
	;----------------------------------------------------
	AnimationState = PASSENGER PASSENGER_VARIATION_1 ; idle with battering ram
		Animation = idle_siege_lefthanded
			AnimationName =  IUUrukahi_BIDB
			AnimationMode = LOOP
		End
	End
	AnimationState = PASSENGER PASSENGER_VARIATION_2 ; idle with battering ram
		Animation = idle_siege_righthanded
			AnimationName = IUUrukahi_BIDA
			AnimationMode = LOOP
		End
	End
	
	AnimationState WEAPONSET_PLAYER_UPGRADE
		Animation = IDLA
			AnimationName = IUUrukahi_IDLA
			AnimationMode = LOOP
		End
		StateName	= Idle
		Flags		= RANDOMSTART
	End
	
  End

	; ***DESIGN parameters ***
	Side = Isengard
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
		ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	EmotionRange = 240
	CommandPoints = 1
	CommandSet = IsengardFighterCommandSet
	TransportSlotCount = 1
	VisionRange = ISENGARD_URUKFIGHTER_VISION_RANGE
	BountyValue = ISENGARD_URUKFIGHTER_BOUNTY_VALUE
	DisplayName = OBJECT:IsengardFighter
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardBannerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY    IsengardBannerSwordUpgrade
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = UrukHaiArmor
		DamageFX        = NormalDamageFX
	End

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = ISENGARD_URUKFIGHTER_HEALTH				;BALANCE Uruk Hai Health
    MaxHealthDamaged  = ISENGARD_URUKFIGHTER_HEALTH_DAMAGED		
    RecoveryTime      = ISENGARD_URUKFIGHTER_HEALTH_RECOVERY_TIME	
  End

    ;Sword Upgrade
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy		= Upgrade_IsengardForgedBlades
	End

	 ;Heavy Armor
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy		= Upgrade_IsengardHeavyArmor
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_IsengardHeavyArmor
		UpgradeTexture	= IUUrukahi.tga 0 IUUrukahi_HA.tga
		UpgradeTexture	= IUUrukahi_l.tga 0 IUUrukahi_HA.tga
	End

	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_IsengardForgedBlades
		ShowSubObjects	= Forged_Blade
	End
		
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
	AILuaEventsList			   = IsengardFighterFunctions
    MoodAttackCheckRate        = 500
  End
  
  Behavior = StealthUpdate ModuleTag_Stealth
	StealthDelay                = 0 ; msec
	StealthForbiddenConditions  = ATTACKING
	HintDetectableConditions    = IS_FIRING_WEAPON 
	FriendlyOpacityMin          = 10.0%
	FriendlyOpacityMax          = 60.0%
	PulseFrequency              = 750   ; msec
	OrderIdleEnemiesToAttackMeUponReveal  = Yes
	StartsActive				= No
	InnateStealth				= No
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 33
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 32
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukWarriorVoiceDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
  
  Behavior = HordeMemberCollide ModuleTag_HMC
    ;nothing
  End
 

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc_Infantry
  End

  
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21;
  ShadowSizeY = 21;
  ShadowTexture = ShadowI;
End
;p----------------------------------------------------------------------------------
Object CINE_IsengardFighter_DIEC
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BIUrukPit_Warriors
  SelectPortrait         = UPIsenguard_UrukHai
  
  Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    DefaultModelConditionState
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End
    
	IdleAnimationState

		Animation = IDLB
			AnimationName = IUUrukahi_IDLB
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = IDLG
			AnimationName = IUUrukahi_IDLG
			AnimationMode = ONCE
			AnimationPriority = 1 ;2
		End
		Animation = IDLD
			AnimationName = IUUrukahi_IDLD
			AnimationMode = ONCE
			AnimationPriority = 2
		End	
		StateName = Idle
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
		EndScript
	End
	
	AnimationState        = STUNNED_FLAILING
		Animation           = StunFlail
			AnimationName     = IUUrukahi_FLYA
			AnimationMode      = LOOP
		End
		Flags               = RANDOMSTART
	End


	AnimationState        = STUNNED
		Animation           = LNDA
			AnimationName     = IUUrukahi_LNDA
			AnimationMode     = ONCE
		End
	End

	AnimationState        = STUNNED_STANDING_UP
		Animation           = GTPA
			AnimationName     = IUUrukahi_GTPA
			AnimationMode     = ONCE
		End
	End
	
	AnimationState        = THROWN_PROJECTILE
		Animation           = FLYA
			AnimationName     = IUUrukahi_FLYA
			AnimationMode     = LOOP
		End
	End
	
	AnimationState        = FREEFALL
		Animation           = FLYA
			AnimationName	= IUUrukahi_FLYA
			AnimationMode	= LOOP
		End
	End

    AnimationState = DYING
		;Animation = DIEA
		;	AnimationName = IUUrukahi_DIEA
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 1
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
		;Animation = DIEB
		;	AnimationName = IUUrukahi_DIEB
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 3
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
		Animation = DIEC
			AnimationName = IUUrukahi_DIEC
		    AnimationMode = ONCE
			AnimationPriority = 2
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		;Animation = DIEG
		;	AnimationName = IUUrukahi_DIEG
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 10
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
    End    

	;----------------------------------------------------
	;Manning battering ram - Left and right handed attack
	;----------------------------------------------------
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1 ; attacking with battering ram
		Animation = grasping_siege_lefthanded
			AnimationName =  IUUrukahi_BATB
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2 ; attacking with battering ram
		Animation = grasping_siege_righthanded
			AnimationName = IUUrukahi_BATA
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right movement
	;----------------------------------------------------
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End

	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End
	
	AnimationState = MOVING BACKING_UP
		Animation = BackingUp
			AnimationName = IUUrukahi_BAKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End

	; ladder climbing animations
	AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP_BACKWARDS
		End
    End

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP
		End
    End

;    AnimationState = MOVING DAMAGED
;		Animation = Moving
;			AnimationName = IUUrukahi_WLK
;		    AnimationMode = LOOP
;		End
;		Flags = RANDOMSTART
;		ParticleSysBone = None InfantryDustTrails
;    End
 
    AnimationState = MOVING
		Animation = Moving
			AnimationName = IUUrukahi_RUNA
		    AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = ATTACKING
		Animation = ATKA
			AnimationName = IUUrukahi_ATKA
			AnimationMode = LOOP
		End
		Animation = ATKC
			AnimationName = IUUrukahi_ATKC
			AnimationMode = LOOP
		End
		Animation = ATKB
			AnimationName = IUUrukahi_ATKB
			AnimationMode = LOOP
		End
    End
    
;    AnimationState = WAR_CHANT
;		Animation = Chant
;			AnimationName = IUUrukahi_TNTA
;			AnimationMode = ONCE
;		End
;		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
;	End

	; Should be before selected (if uncontrollable..)      
    AnimationState = EMOTION_AFRAID
		Animation = FERA
			AnimationName = IUUrukahi_FERA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
    End

	AnimationState        = SELECTED
		StateName           = STATE_Selected
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = LOOP
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
		EndScript
	End

	TransitionState       = TRANS_IdleToSelected
		Animation           = ATNA
			AnimationName     = IUUrukahi_ATNA
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End

	TransitionState       = TRANS_SelectedToGuard
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
		
	TransitionState		= TRANS_SelectedToBoard
		Animation			= ATNC
			AnimationName	= IUUrukahi_ATNC
			AnimationMode	= ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
	
	
    ;-emotions--
  	
  	AnimationState			= EMOTION_CELEBRATING
		Animation           = CHRA
			AnimationName   = IUUrukahi_CHRA
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Animation           = CHRB
			AnimationName   = IUUrukahi_CHRB
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Animation           = TNTA
			AnimationName   = IUUrukahi_TNTA
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Flags				= RESTART_ANIM_WHEN_COMPLETE
	End
  	
  	
  	
  	AnimationState					= EMOTION_MORALE_HIGH EMOTION_ALERT
		Animation					= Taunting
			AnimationName			= IUUrukahi_TNTA
			AnimationMode			= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.8 1.2
		End
		Animation					= TauntingB
			AnimationName			= IUUrukahi_TNTA
			AnimationMode			= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.8 1.2
		End
		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right idle
	;----------------------------------------------------
	AnimationState = PASSENGER PASSENGER_VARIATION_1 ; idle with battering ram
		Animation = idle_siege_lefthanded
			AnimationName =  IUUrukahi_BIDB
			AnimationMode = LOOP
		End
	End
	AnimationState = PASSENGER PASSENGER_VARIATION_2 ; idle with battering ram
		Animation = idle_siege_righthanded
			AnimationName = IUUrukahi_BIDA
			AnimationMode = LOOP
		End
	End
	
	AnimationState WEAPONSET_PLAYER_UPGRADE
		Animation = IDLA
			AnimationName = IUUrukahi_IDLA
			AnimationMode = LOOP
		End
		StateName	= Idle
		Flags		= RANDOMSTART
	End
	
  End

	; ***DESIGN parameters ***
	Side = Isengard
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
		ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	EmotionRange = 240
	CommandPoints = 1
	CommandSet = IsengardFighterCommandSet
	TransportSlotCount = 1
	VisionRange = ISENGARD_URUKFIGHTER_VISION_RANGE
	BountyValue = ISENGARD_URUKFIGHTER_BOUNTY_VALUE
	DisplayName = OBJECT:IsengardFighter
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardBannerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY    IsengardBannerSwordUpgrade
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = UrukHaiArmor
		DamageFX        = NormalDamageFX
	End

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = ISENGARD_URUKFIGHTER_HEALTH				;BALANCE Uruk Hai Health
    MaxHealthDamaged  = ISENGARD_URUKFIGHTER_HEALTH_DAMAGED		
    RecoveryTime      = ISENGARD_URUKFIGHTER_HEALTH_RECOVERY_TIME	
  End

    ;Sword Upgrade
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy		= Upgrade_IsengardForgedBlades
	End

	 ;Heavy Armor
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy		= Upgrade_IsengardHeavyArmor
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_IsengardHeavyArmor
		UpgradeTexture	= IUUrukahi.tga 0 IUUrukahi_HA.tga
		UpgradeTexture	= IUUrukahi_l.tga 0 IUUrukahi_HA.tga
	End

	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_IsengardForgedBlades
		ShowSubObjects	= Forged_Blade
	End
		
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
	AILuaEventsList			   = IsengardFighterFunctions
    MoodAttackCheckRate        = 500
  End
  
  Behavior = StealthUpdate ModuleTag_Stealth
	StealthDelay                = 0 ; msec
	StealthForbiddenConditions  = ATTACKING
	HintDetectableConditions    = IS_FIRING_WEAPON 
	FriendlyOpacityMin          = 10.0%
	FriendlyOpacityMax          = 60.0%
	PulseFrequency              = 750   ; msec
	OrderIdleEnemiesToAttackMeUponReveal  = Yes
	StartsActive				= No
	InnateStealth				= No
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 33
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 32
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukWarriorVoiceDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
  
  Behavior = HordeMemberCollide ModuleTag_HMC
    ;nothing
  End
 

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc_Infantry
  End

  
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21;
  ShadowSizeY = 21;
  ShadowTexture = ShadowI;
End
;p----------------------------------------------------------------------------------
Object CINE_IsengardFighter_DIEG
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BIUrukPit_Warriors
  SelectPortrait         = UPIsenguard_UrukHai
  
  Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    DefaultModelConditionState
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
		Model = IUUrukahi_SKN
		Skeleton = IUUrukahi_SKL
    End
    
	IdleAnimationState

		Animation = IDLB
			AnimationName = IUUrukahi_IDLB
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = IDLG
			AnimationName = IUUrukahi_IDLG
			AnimationMode = ONCE
			AnimationPriority = 1 ;2
		End
		Animation = IDLD
			AnimationName = IUUrukahi_IDLD
			AnimationMode = ONCE
			AnimationPriority = 2
		End	
		StateName = Idle
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
		EndScript
	End
	
	AnimationState        = STUNNED_FLAILING
		Animation           = StunFlail
			AnimationName     = IUUrukahi_FLYA
			AnimationMode      = LOOP
		End
		Flags               = RANDOMSTART
	End


	AnimationState        = STUNNED
		Animation           = LNDA
			AnimationName     = IUUrukahi_LNDA
			AnimationMode     = ONCE
		End
	End

	AnimationState        = STUNNED_STANDING_UP
		Animation           = GTPA
			AnimationName     = IUUrukahi_GTPA
			AnimationMode     = ONCE
		End
	End
	
	AnimationState        = THROWN_PROJECTILE
		Animation           = FLYA
			AnimationName     = IUUrukahi_FLYA
			AnimationMode     = LOOP
		End
	End
	
	AnimationState        = FREEFALL
		Animation           = FLYA
			AnimationName	= IUUrukahi_FLYA
			AnimationMode	= LOOP
		End
	End

    AnimationState = DYING
		;Animation = DIEA
		;	AnimationName = IUUrukahi_DIEA
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 1
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
		;Animation = DIEB
		;	AnimationName = IUUrukahi_DIEB
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 3
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
		;Animation = DIEC
		;	AnimationName = IUUrukahi_DIEC
		 ;   AnimationMode = ONCE
		;	AnimationPriority = 2
		;	AnimationSpeedFactorRange	=	0.8 1.25
		;End
		Animation = DIEG
			AnimationName = IUUrukahi_DIEG
		    AnimationMode = ONCE
			AnimationPriority = 10
			AnimationSpeedFactorRange	=	0.8 1.25
		End
    End    

	;----------------------------------------------------
	;Manning battering ram - Left and right handed attack
	;----------------------------------------------------
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1 ; attacking with battering ram
		Animation = grasping_siege_lefthanded
			AnimationName =  IUUrukahi_BATB
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2 ; attacking with battering ram
		Animation = grasping_siege_righthanded
			AnimationName = IUUrukahi_BATA
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right movement
	;----------------------------------------------------
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End

	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End
	
	AnimationState = MOVING BACKING_UP
		Animation = BackingUp
			AnimationName = IUUrukahi_BAKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End

	; ladder climbing animations
	AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP_BACKWARDS
		End
    End

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP
		End
    End

;    AnimationState = MOVING DAMAGED
;		Animation = Moving
;			AnimationName = IUUrukahi_WLK
;		    AnimationMode = LOOP
;		End
;		Flags = RANDOMSTART
;		ParticleSysBone = None InfantryDustTrails
;    End
 
    AnimationState = MOVING
		Animation = Moving
			AnimationName = IUUrukahi_RUNA
		    AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = ATTACKING
		Animation = ATKA
			AnimationName = IUUrukahi_ATKA
			AnimationMode = LOOP
		End
		Animation = ATKC
			AnimationName = IUUrukahi_ATKC
			AnimationMode = LOOP
		End
		Animation = ATKB
			AnimationName = IUUrukahi_ATKB
			AnimationMode = LOOP
		End
    End
    
;    AnimationState = WAR_CHANT
;		Animation = Chant
;			AnimationName = IUUrukahi_TNTA
;			AnimationMode = ONCE
;		End
;		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
;	End

	; Should be before selected (if uncontrollable..)      
    AnimationState = EMOTION_AFRAID
		Animation = FERA
			AnimationName = IUUrukahi_FERA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
    End

	AnimationState        = SELECTED
		StateName           = STATE_Selected
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = LOOP
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
		EndScript
	End

	TransitionState       = TRANS_IdleToSelected
		Animation           = ATNA
			AnimationName     = IUUrukahi_ATNA
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End

	TransitionState       = TRANS_SelectedToGuard
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
		
	TransitionState		= TRANS_SelectedToBoard
		Animation			= ATNC
			AnimationName	= IUUrukahi_ATNC
			AnimationMode	= ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
	
	
    ;-emotions--
  	
  	AnimationState			= EMOTION_CELEBRATING
		Animation           = CHRA
			AnimationName   = IUUrukahi_CHRA
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Animation           = CHRB
			AnimationName   = IUUrukahi_CHRB
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Animation           = TNTA
			AnimationName   = IUUrukahi_TNTA
			AnimationMode   = ONCE
			AnimationBlendTime = 10
		End
		Flags				= RESTART_ANIM_WHEN_COMPLETE
	End
  	
  	
  	
  	AnimationState					= EMOTION_MORALE_HIGH EMOTION_ALERT
		Animation					= Taunting
			AnimationName			= IUUrukahi_TNTA
			AnimationMode			= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.8 1.2
		End
		Animation					= TauntingB
			AnimationName			= IUUrukahi_TNTA
			AnimationMode			= ONCE
			AnimationBlendTime = 10
			AnimationSpeedFactorRange = 0.8 1.2
		End
		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End

	;----------------------------------------------------
	;Manning battering ram - Left and right idle
	;----------------------------------------------------
	AnimationState = PASSENGER PASSENGER_VARIATION_1 ; idle with battering ram
		Animation = idle_siege_lefthanded
			AnimationName =  IUUrukahi_BIDB
			AnimationMode = LOOP
		End
	End
	AnimationState = PASSENGER PASSENGER_VARIATION_2 ; idle with battering ram
		Animation = idle_siege_righthanded
			AnimationName = IUUrukahi_BIDA
			AnimationMode = LOOP
		End
	End
	
	AnimationState WEAPONSET_PLAYER_UPGRADE
		Animation = IDLA
			AnimationName = IUUrukahi_IDLA
			AnimationMode = LOOP
		End
		StateName	= Idle
		Flags		= RANDOMSTART
	End
	
  End

	; ***DESIGN parameters ***
	Side = Isengard
	EditorSorting = UNIT
	Browser = CINEMATICS UNIT
		ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	EmotionRange = 240
	CommandPoints = 1
	CommandSet = IsengardFighterCommandSet
	TransportSlotCount = 1
	VisionRange = ISENGARD_URUKFIGHTER_VISION_RANGE
	BountyValue = ISENGARD_URUKFIGHTER_BOUNTY_VALUE
	DisplayName = OBJECT:IsengardFighter
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardBannerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY    IsengardBannerSwordUpgrade
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = UrukHaiArmor
		DamageFX        = NormalDamageFX
	End

  ; *** AUDIO Parameters ***;

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER URUK
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = ISENGARD_URUKFIGHTER_HEALTH				;BALANCE Uruk Hai Health
    MaxHealthDamaged  = ISENGARD_URUKFIGHTER_HEALTH_DAMAGED		
    RecoveryTime      = ISENGARD_URUKFIGHTER_HEALTH_RECOVERY_TIME	
  End

    ;Sword Upgrade
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy		= Upgrade_IsengardForgedBlades
	End

	 ;Heavy Armor
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy		= Upgrade_IsengardHeavyArmor
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_IsengardHeavyArmor
		UpgradeTexture	= IUUrukahi.tga 0 IUUrukahi_HA.tga
		UpgradeTexture	= IUUrukahi_l.tga 0 IUUrukahi_HA.tga
	End

	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_IsengardForgedBlades
		ShowSubObjects	= Forged_Blade
	End
		
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
	AILuaEventsList			   = IsengardFighterFunctions
    MoodAttackCheckRate        = 500
  End
  
  Behavior = StealthUpdate ModuleTag_Stealth
	StealthDelay                = 0 ; msec
	StealthForbiddenConditions  = ATTACKING
	HintDetectableConditions    = IS_FIRING_WEAPON 
	FriendlyOpacityMin          = 10.0%
	FriendlyOpacityMax          = 60.0%
	PulseFrequency              = 750   ; msec
	OrderIdleEnemiesToAttackMeUponReveal  = Yes
	StartsActive				= No
	InnateStealth				= No
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 33
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 32
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukWarriorVoiceDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
  
  Behavior = HordeMemberCollide ModuleTag_HMC
    ;nothing
  End
 

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc_Infantry
  End

  
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21;
  ShadowSizeY = 21;
  ShadowTexture = ShadowI;
End
;---------------------------------------------------------------------------------------------------------------
;
Object CINE_MoriaCeilingA
 
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
		Model = Cine_Ceiling
    End
  End

  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CINE_MoriaCelingA
  Side                = Moria
  EditorSorting       = STRUCTURE
  Browser = CINEMATICS STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

; *** AUDIO Parameters ***

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End

  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
  Geometry              = BOX
  GeometryMajorRadius   = 45.6
  GeometryMinorRadius   = 37.6
  GeometryHeight        = 20.8
  GeometryIsSmall       = No
;  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End


;---------------------------------------------------------------------------------------------------------------
Object CINE_GoblinSwordsman
  ; *** ART Parameters ***

	; This is required for garrisoned objects - please put in all objects.
	ButtonImage = BuildingNoArt
  
	Draw = W3DScriptedModelDraw ModuleTag_01
		  
		  OkToChangeModelColor = Yes
		  
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

    DefaultModelConditionState
      Model = MUGblnSwrd_SKN
    End

		IdleAnimationState
			Animation = IDLA
	      AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_IDLA
	      AnimationMode = ONCE
				AnimationPriority = 20
			End
			Animation = IDLB
	      AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_IDLB
	      AnimationMode = ONCE
			End
			Animation = IDLC
	      AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_IDLC
	      AnimationMode = ONCE
			End
			StateName = Idle
		End
 
; this unit has no FLLA animations... needs one --- LORENZEN 11/3/03 <<<<<<<<<<<<<<<<<<<<<<<<<<<<
;    AnimationState = PASSENGER
;			Animation = Wiggling
;	      AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_FLLA
;		    AnimationMode = LOOP
;			End
;   End

    AnimationState = THROWN_PROJECTILE
			Animation = Thrown
	      AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_FLYA
		    AnimationMode = LOOP
			End
    End

    AnimationState = MOVING
			Animation = Moving_1
	      AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_RUNA
		    AnimationMode = LOOP
			End
			Animation = Moving_2
	      AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_RUNB
		    AnimationMode = LOOP
			End
			Animation = Moving_3
	      AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_RUNC
		    AnimationMode = LOOP
			End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End

	AnimationState =  FIRING_OR_PREATTACK_A
		Animation = ATKA
			AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_ATKA
			AnimationMode = ONCE
			UseWeaponTiming		= Yes	
		End
		Animation = ATKB
			AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_ATKB
			AnimationMode = ONCE
			UseWeaponTiming		= Yes	
		End
	End

    AnimationState = DYING SPLATTED
			Animation = Splatted_On_Ground
				AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_LNDA
				AnimationMode = ONCE
			End
    End

    AnimationState = DYING AFLAME
			Animation = Flaming_Death
				AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_MFDA
				AnimationMode = LOOP
			End
    End

    AnimationState = DYING
			Animation = Dying_1
				AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_DIEA
				AnimationMode = ONCE
			End
			Animation = Dying_2
				AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_DIEB
				AnimationMode = ONCE
			End
    End

    ; --- stunned anims
    AnimationState = STUNNED_FLAILING
			Animation = Flying_1
				AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_FLYA
				AnimationMode = ONCE
			End
			Animation = Flying_2
				AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_FLYB
				AnimationMode = ONCE
			End
			Animation = Flying_3
				AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_FLYC
				AnimationMode = ONCE
			End
      Flags = RANDOMSTART
    End

    AnimationState = STUNNED
			Animation = Splatted_On_Ground
				AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_LNDA
				AnimationMode = ONCE
			End
    End

    AnimationState = STUNNED_STANDING_UP
			Animation = Standing_Back_Up
				AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_LNDA
				AnimationMode = ONCE_BACKWARDS
			End
      Flags = START_FRAME_LAST
    End
    
	AnimationState = WAR_CHANT
		Animation = Chant
			AnimationName = MUGblnSwrd_SKL.MUGblnSwrd_IDLB ; _TNTA (doesn't have it)
			AnimationMode = ONCE
		End
		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End    
  
  End

  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
	ThreatLevel = 1.0
  ThingClass = HORDE_UNIT
  CommandPoints = 1

  TransportSlotCount = 1
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    MordorWarriorAxe
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 80.0
  DisplayName = OBJECT:MordorGoblinSwordsman
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  CommandSet = MordorFighterCommandSet

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER SCORE THROWN_OBJECT ARMY_SUMMARY
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = 10                  ;BALANCE Orc Warrior Health
    MaxHealthDamaged  = 5
    RecoveryTime      = 5000
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
    MoodAttackCheckRate        = 500
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 32
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 32
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStunnedTimeLow		= 1400	;msec
    ShockStunnedTimeHigh	= 2400	;msec
    ShockStandingTime		= 3200	;msec
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Behavior = SlowDeathBehavior ModuleTag_07
    ; Same as normal death, but no sound (sound already played by SoundImpact = ... )
    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 24
    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 70%
    TumbleRandomly = Yes

    CrushStyle = Yes ; I don't detonate, I just hit
    DieOnImpact = Yes
    BounceCount = 1   ; When I hit the ground, I'll arc again
    BounceDistance = 40 ; this far
    BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight = 24
    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX       = FX_ThrownRockGroundHit
    GroundBounceFX    = FX_ThrownRockBounceHit
  End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Goblin
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
End




;------------------------------------------------------------------------------

Object CINE_SkyboxDoom

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxDoom
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;p-----------------------------------------------------------------------------------------

Object CINE_BlackGate

	SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = Cine_BlkGate
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = Cine_BlkGate.Cine_BlkGate
        AnimationMode       = ONCE
      End
      
    End
    
    WallBoundsMesh = P08
    RampMesh1 = P09
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Cine_MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 
  ; *** AUDIO Parameters ***
 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE WALK_ON_TOP_OF_WALL CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE;SELECTABLE 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 106.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 260.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

Object CINE_SkyboxBlue

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxBlueRT
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End
End

;------------------------------------------------------------------------------

Object CINE_MountainsBrown

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxBrnMnt
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End
End


;------------------------------------------------------------------------------

Object CINE_MordorHammer

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = CIN_OrcHammer
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = CIN_OrcHammer.CIN_OrcHammer
        AnimationMode       = LOOP
      End
      Flags               = RANDOMSTART
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SYSTEM

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***  
  
  Behavior                 = DestroyDie ModuleTag_02
    ;<NO DATA>
  End

End

;------------------------------------------------------------------------------
Object CINE_SkyboxYIwRT

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxYlwRT
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

End

;------------------------------------------------------------------------------
Object CINE_SkyboxPinkRT

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxPinkRT
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

End

;------------------------------------------------------------------------------
Object CINE_SkyboxLiteRT

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxLiteRT
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

End

;------------------------------------------------------------------------------
Object CINE_SkyboxDarkRT

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxDarkRT
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

End

;------------------------------------------------------------------------------
Object CINE_SkyboxBrnMntB

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxBrnMntB
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

End

;------------------------------------------------------------------------------
Object CINE_SkyboxGrnMnt

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxGrnMnt
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

End
;------------------------------------------------------------------------------
Object CINE_SkyboxGryMnt

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = skyboxGryMnt
    End
  End

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  Browser = CINEMATICS SKYBOXES

End


;------------------------------------------------------------------------------

; aka Water
Object Cine_Wave
	; *** ART Parameters ***

	Draw = W3DScriptedModelDraw ModuleTag_01

		DefaultModelConditionState
			Model               = invisible
			ParticleSysBone = None WaterWall FollowBone:Yes
			ParticleSysBone = None WaterWallFront FollowBone:Yes
		End
		
		ModelConditionState = WORLD_BUILDER
			Model = locator
		End


	End
	
	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = SYSTEM
	Browser = CINEMATICS SYSTEM
	ThreatLevel = 1.0
	TransportSlotCount = 1
	
	VisionRange = 300
	DisplayName = OBJECT:GondorCavalry
	CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 4

	; *** AUDIO Parameters ***;




	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	ThingClass = CAVALRY_UNIT
	ImmuneToShockwave	= yes

	KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE PATH_THROUGH_INFANTRY AIRCRAFT MOVE_ONLY UNATTACKABLE
	
	Body = ImmortalBody ModuleTag_02
		MaxHealth			= 100.0
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
	End
			
	LocomotorSet
		Locomotor = EyeLocomotor
		Condition = SET_NORMAL 
		Speed     = 80
	End
	
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = FireWeaponUpdate FireWeaponUpdateModuleTag
		Weapon = WaveCrushEffect
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Cavalry
	End
	
	;; This has to be small so it's not a pathing problem
	Geometry = CYLINDER
	GeometryMajorRadius = 10.0
	GeometryMinorRadius = 10.0
	GeometryHeight = 10.0
	GeometryIsSmall = Yes

	Shadow = NONE
	ShadowSizeX = 30;
	ShadowSizeY = 21;
	ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
Object CINE_Vortex

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = CINE_Vortex
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;---------------------------------------------------------------------
Object CINE_VortexB

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = CINE_VortexB
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WeaponRack01
  EditorSorting   = MISC_MAN_MADE
  Browser = CINEMATICS MISC_MAN_MADE

  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE
  Shadow          = NONE
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;----------------------------------------places a baradur tower that has an animated searchlight

Object CINE_Beam01

  ; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		UseStandardModelNames = Yes
			DefaultModelConditionState  
				Model = cine_Beam01
			End
		
			AnimationState        = USER_1
				Animation           = Beammove
					AnimationName     = cine_Beam01.cine_Beam01
					AnimationMode     = ONCE
				End			
			
			End
	End
	
	
		; ***DESIGN parameters ***
		DisplayName      = OBJECT:cine_Beam01
		EditorSorting   = MISC_MAN_MADE
		Browser = CINEMATICS MISC_MAN_MADE
		  
		; *** ENGINEERING Parameters ***  
		KindOf          = IMMOBILE
		Shadow          = NONE
		Body            = ActiveBody ModuleTag_03
			MaxHealth       = 99999.0
		End
End





;---------------------------------------------------------------------------------------------------------------
; Sam fighting shelob

Object SamVsShelob                       
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model               = SamVsShelob
    End
    IdleAnimationState
      Animation = Idle
        AnimationName       = SamVsShelob.SamVsShelob
        AnimationMode       = LOOP
      End
      
    End
    AnimationState        = MOVING
      Animation = Moving
        AnimationName       = SamVsShelob.SamVsShelob
        AnimationMode       = LOOP
      End
      Flags               = RANDOMSTART
    End
  End
 
  ; ***DESIGN parameters ***
  Side = Neutral
  EditorSorting = UNIT
  Browser = CINEMATICS UNIT
  ThreatLevel = 1.0
  TransportSlotCount = 1
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = None
  End
  VisionRange = 121
  DisplayName = OBJECT:Smeagol_Turning
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 50.0                  
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
  End

  LocomotorSet
    Locomotor = RohanTreeBeardLocomotor
    Condition = SET_NORMAL 
    Speed     = 87
  End
 
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL 
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 0.8
  GeometryMinorRadius = 0.8
  GeometryHeight = 0.8
  GeometryIsSmall = No
  Shadow = SHADOW_Volume
  ShadowSizeX = 72
;  ShadowSizeX = 14;
;  ShadowSizeY = 14;
;  ShadowTexture = ShadowI;
End
 
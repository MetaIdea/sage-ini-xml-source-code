; FILE: DemoTest.ini ///////////////////////////////////////////////////
; Copyright (c) Electronic Arts 2003
; This file contains Demo and Test units -- basically, anything the game
; could ship without.
;//////////////////////////////////////////////////////////////////////////////

;------------------------------------------------------------------------------
Object MordorClouds

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    DefaultModelConditionState
      Model               = LM_CloudFlashes
      ParticleSysBone     = None MordorCloudLightningFlare No
    End
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  EditorSorting     = SYSTEM
  ArmorSet
    Armor = NoArmor
  End
  VisionRange = 0.0

  ; *** ENGINEERING Parameters ***
  KindOf = IMMOBILE

;  Behavior = DeletionUpdate ModuleTag_02
;    MinLifetime = 2000   ; min lifetime in msec
;    MaxLifetime = 2000   ; max lifetime in msec
; End

;  Behavior = DestroyDie ModuleTag_03
    ;nothing
;  End
    
End


;------------------------------------------------------------------------------
Object ShellEye

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    DefaultModelConditionState
      Model               = Shell03BrdDur
;      ParticleSysBone     = None MordorCloudLightningFlare No
    End
    IdleAnimationState
      Animation           = Idle
      AnimationName       = Shell03BrdDur.Shell03BrdDur
      AnimationMode       = LOOP
    End
  End
End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  EditorSorting     = SYSTEM
  ArmorSet
    Armor = NoArmor
  End
  VisionRange = 0.0

  ; *** ENGINEERING Parameters ***
  KindOf = IMMOBILE

;  Behavior = DeletionUpdate ModuleTag_02
;    MinLifetime = 2000   ; min lifetime in msec
;    MaxLifetime = 2000   ; max lifetime in msec
; End

;  Behavior = DestroyDie ModuleTag_03
    ;nothing
;  End

 ;Scale = 0.25
    
End


;------------------------------------------------------------------------------
Object ShellEye_2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    DefaultModelConditionState
      Model               = Shell03BrdDur
;      ParticleSysBone     = None MordorCloudLightningFlare No
    End
    IdleAnimationState
      Animation           = Idle
      AnimationName       = Shell03BrdDur.Shell03BrdDur
      AnimationMode       = ONCE
    End
   End
    AnimationState = USER_1
		Animation  = Move
			AnimationName     = Shell03BrdDur.Shell03BrdDur
			AnimationMode     = ONCE
		End

   
  End
End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  EditorSorting     = SYSTEM
  ArmorSet
    Armor = NoArmor
  End
  VisionRange = 0.0

  ; *** ENGINEERING Parameters ***
  KindOf = IMMOBILE

;  Behavior = DeletionUpdate ModuleTag_02
;    MinLifetime = 2000   ; min lifetime in msec
;    MaxLifetime = 2000   ; max lifetime in msec
; End

;  Behavior = DestroyDie ModuleTag_03
    ;nothing
;  End

 ;Scale = 0.25
    
End


;------------------------------------------------------------------------------
Object Shell_Fellbeast

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    DefaultModelConditionState
      Model               = SHFellbeast
;      ParticleSysBone     = None MordorCloudLightningFlare No
    End
    IdleAnimationState
      Animation           = Idle
      AnimationName       = SHFellbeast.SHFellbeast
      AnimationMode       = LOOP
    End
  End
End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  EditorSorting     = SYSTEM
  ArmorSet
    Armor = NoArmor
  End
  VisionRange = 0.0

  ; *** ENGINEERING Parameters ***
  KindOf = IMMOBILE

;  Behavior = DeletionUpdate ModuleTag_02
;    MinLifetime = 2000   ; min lifetime in msec
;    MaxLifetime = 2000   ; max lifetime in msec
; End

;  Behavior = DestroyDie ModuleTag_03
    ;nothing
;  End

 ;Scale = 0.25
 
  Geometry              = BOX
  GeometryMajorRadius   = 1200.0
  GeometryMinorRadius   = 1200.0
  GeometryHeight        = 1200.0
  GeometryIsSmall       = No 
   
End

;------------------------------------------------------------------------------
; Gandalf the White
Object GondorGandalfWhite_H
	; *** ART Parameters ***

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPGandalf
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIGandalf

	Draw = W3DScriptedModelDraw ModuleTag_01

		GlowEnabled = No;
		GlowEmissive = No;

	  StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		ExtraPublicBone = STAFF

		DefaultModelConditionState
			Model               = GUGandalf_H
			WeaponLaunchBone    = PRIMARY STAFF ; Another line to fix after sword comes back post demo
		End

		IdleAnimationState
			StateName = Idle
			Animation = IDLA
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLA 0 25
				AnimationMode       = ONCE
			End
		End

; out for demo
;		AnimationState        =  FIRING_OR_PREATTACK_A
;			Animation = Attack1
;				AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKA ; Staff swing
;				AnimationMode       = ONCE
;				UseWeaponTiming		= Yes
;			End
;			Animation = Attack2
;			  AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKB	; sword swing
;			  AnimationMode       = ONCE
;			  UseWeaponTiming		= Yes
;			End
;		End

		AnimationState        =  FIRING_OR_PREATTACK_A
			StateName = Attacking
			Animation = AttackLaser
				AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKC	; staff tip zap 
				AnimationMode       = ONCE
				UseWeaponTiming = Yes
			End
		End

		AnimationState        =  FIRING_OR_PREATTACK_B
			StateName = Attacking
			Animation = AttackBigBaddaBoom
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPLH ;  Lots to pick from.
				AnimationMode       = ONCE
				UseWeaponTiming = Yes
			End
		End

		; --- stunned anims  Which must go before deaths in case we are dying in the air.  Plus, DyingSplatted must of course be before Dying
		AnimationState      = STUNNED_FLAILING 
			Animation = StunnedFlail
				AnimationName         = GUGandalfG_SKL.GUGandalfG_FLYA
				AnimationMode     = LOOP
			End
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUGandalfG_GTPA
				AnimationName     = GUGandalfG_SKL.GUGandalfG_GTPA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState      = STUNNED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		AnimationState      = DYING SPLATTED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End
		
		AnimationState        = DYING AFLAME
			Animation = DieAflame
				AnimationName           = GUGandalfG_SKL.GUGandalfG_MFDA
				AnimationMode       = LOOP
			End
		End

		AnimationState        = DYING
			Animation = Die
				AnimationName           = GUGandalfG_SKL.GUGandalfG_DIEA
				AnimationMode       = ONCE
			End
;      ;ParticleSysBone     = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		AnimationState        = MOVING WANDER
			Animation = Wandering
				AnimationName           = GUGandalfG_SKL.GUGandalfG_WLK ;32
				AnimationMode       = LOOP
			End
		End
	
		AnimationState        = MOVING DAMAGED
			Animation = DamagedMove
				AnimationName           = GUGandalfG_SKL.GUGandalfG_IWKA ;32
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = MOVING
			Animation = Moving
				AnimationName           = GUGandalfG_SKL.GUGandalfG_RUNA ;20
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = LEVELED	; This state clears itself in 3 of your Earth seconds
			Animation = Yippee
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
		End

	End
	
	Draw = W3DLightDraw ModuleTag_02
		Ambient = R:0 G:0 B:0
		Diffuse = R:128 G:128 B:255
		Radius = 25
		Intensity = 10
		AttachToBoneInAnotherModule = Staff
	End 

	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	ThingClass = CHARACTER_UNIT

	LiveCameraOffset = X:-112 Y:81 Z:57
	LiveCameraPitch = 25.0
	

	TransportSlotCount = 1
;	WeaponSet
;		Conditions = None 
;		Weapon = PRIMARY GandalfSword
;		Weapon = SECONDARY   GandalfSpell   
;		Weapon = TERTIARY   GandalfStaffWeapon   
;		AutoChooseSources = SECONDARY NONE
;		PreferredAgainst = TERTIARY INFANTRY
;		PreferredAgainst = TERTIARY MONSTER
;	End

; Demo change to not ever use the sword.  When switch back, be sure to rearrange anim connections
	WeaponSet
		Conditions = None
		Weapon = PRIMARY GandalfStaffWeapon
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY GandalfStaffWeapon
		Weapon = SECONDARY GandalfWizardBlast			; Make sure this weapon's position lines up with the FireWeaponSlotCommandButton that fires it.
		AutoChooseSources = SECONDARY NONE
	End

	ArmorSet
		Conditions      = None
		Armor           = HeroArmor
		DamageFX        = NormalDamageFX
	End
	CommandSet = GondorGandalfCommandSet
	VisionRange = 161
	DisplayName = OBJECT:GandalfTheWhite
	CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	
	; *** AUDIO Parameters ***;
	VoiceSelect = GandalfVoiceSelect
	VoiceMove = NoSound
	VoiceAttack = GandalfVoiceAttack
	VoiceFear = NoSound
	VoiceGuard = NoSound
;  SoundDie = NoSound
;  SoundDieFire = NoSound
	SoundStealthOn = NoSound
	SoundStealthOff = NoSound
	SoundImpact = ImpactHorse
	
	UnitSpecificSounds
		VoiceGarrison         = NoSound
		VoiceEnter            = NoSound
		VoiceEnterHostile     = NoSound
		VoiceGetHealed        = NoSound
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE ATTACK_NEEDS_LINE_OF_SIGHT
	
	Body = ActiveBody ModuleTag_03
		MaxHealth         = 100000000                  ;BALANCE Gandalf Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 1000
	End
	
	Behavior = AIUpdateInterface ModuleTag_04
		AutoAcquireEnemiesWhenIdle = Yes
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 37
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 17
	End
	
	Behavior = PhysicsBehavior ModuleTag_05
		GravityMult = 1.0
		ShockStandingTime = 16000	;msec
	End
	
	Behavior = SlowDeathBehavior ModuleTag_06
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL GandalfVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_07
		;nothing
	End

	Behavior = SlowDeathBehavior ModuleTag_08
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End

	Behavior = OCLSpecialPower ModuleTag_09
		SpecialPowerTemplate = SuperweaponPartTheHeavens
		OCL                  = SUPERWEAPON_PartTheHeavens
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry
		UnitWeight = 2   ; Gandy counts as 2 infantry
	End
	
	Behavior = WeaponSetUpgrade ModuleTag_ActivateSpell
		TriggeredBy = Upgrade_GandalfBlast
	End
	
	Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= GandalfPassiveLeadership
		RefreshDelay	= 2000
		Range			= 120
	End	

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
; Gandalf the White
Object GondorGandalfWhite_M
	; *** ART Parameters ***

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPGandalf
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIGandalf

	Draw = W3DScriptedModelDraw ModuleTag_01

		GlowEnabled = No;
		GlowEmissive = No;

	  StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		ExtraPublicBone = STAFF

		DefaultModelConditionState
			Model               = GUGandalf_M
			WeaponLaunchBone    = PRIMARY STAFF ; Another line to fix after sword comes back post demo
		End

		IdleAnimationState
			StateName = Idle
			Animation = IDLA
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLA 0 25
				AnimationMode       = ONCE
			End
		End

; out for demo
;		AnimationState        =  FIRING_OR_PREATTACK_A
;			Animation = Attack1
;				AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKA ; Staff swing
;				AnimationMode       = ONCE
;				UseWeaponTiming		= Yes
;			End
;			Animation = Attack2
;			  AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKB	; sword swing
;			  AnimationMode       = ONCE
;			  UseWeaponTiming		= Yes
;			End
;		End

		AnimationState        =  FIRING_OR_PREATTACK_A
			StateName = Attacking
			Animation = AttackLaser
				AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKC	; staff tip zap 
				AnimationMode       = ONCE
				UseWeaponTiming = Yes
			End
		End

		AnimationState        =  FIRING_OR_PREATTACK_B
			StateName = Attacking
			Animation = AttackBigBaddaBoom
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPLH ;  Lots to pick from.
				AnimationMode       = ONCE
				UseWeaponTiming = Yes
			End
		End

		; --- stunned anims  Which must go before deaths in case we are dying in the air.  Plus, DyingSplatted must of course be before Dying
		AnimationState      = STUNNED_FLAILING 
			Animation = StunnedFlail
				AnimationName         = GUGandalfG_SKL.GUGandalfG_FLYA
				AnimationMode     = LOOP
			End
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUGandalfG_GTPA
				AnimationName     = GUGandalfG_SKL.GUGandalfG_GTPA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState      = STUNNED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		AnimationState      = DYING SPLATTED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End
		
		AnimationState        = DYING AFLAME
			Animation = DieAflame
				AnimationName           = GUGandalfG_SKL.GUGandalfG_MFDA
				AnimationMode       = LOOP
			End
		End

		AnimationState        = DYING
			Animation = Die
				AnimationName           = GUGandalfG_SKL.GUGandalfG_DIEA
				AnimationMode       = ONCE
			End
;      ;ParticleSysBone     = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		AnimationState        = MOVING WANDER
			Animation = Wandering
				AnimationName           = GUGandalfG_SKL.GUGandalfG_WLK ;32
				AnimationMode       = LOOP
			End
		End
	
		AnimationState        = MOVING DAMAGED
			Animation = DamagedMove
				AnimationName           = GUGandalfG_SKL.GUGandalfG_IWKA ;32
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = MOVING
			Animation = Moving
				AnimationName           = GUGandalfG_SKL.GUGandalfG_RUNA ;20
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = LEVELED	; This state clears itself in 3 of your Earth seconds
			Animation = Yippee
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
		End

	End
	
	Draw = W3DLightDraw ModuleTag_02
		Ambient = R:0 G:0 B:0
		Diffuse = R:128 G:128 B:255
		Radius = 25
		Intensity = 10
		AttachToBoneInAnotherModule = Staff
	End 

	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	ThingClass = CHARACTER_UNIT

	LiveCameraOffset = X:-112 Y:81 Z:57
	LiveCameraPitch = 25.0
	

	TransportSlotCount = 1
;	WeaponSet
;		Conditions = None 
;		Weapon = PRIMARY GandalfSword
;		Weapon = SECONDARY   GandalfSpell   
;		Weapon = TERTIARY   GandalfStaffWeapon   
;		AutoChooseSources = SECONDARY NONE
;		PreferredAgainst = TERTIARY INFANTRY
;		PreferredAgainst = TERTIARY MONSTER
;	End

; Demo change to not ever use the sword.  When switch back, be sure to rearrange anim connections
	WeaponSet
		Conditions = None
		Weapon = PRIMARY GandalfStaffWeapon
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY GandalfStaffWeapon
		Weapon = SECONDARY GandalfWizardBlast			; Make sure this weapon's position lines up with the FireWeaponSlotCommandButton that fires it.
		AutoChooseSources = SECONDARY NONE
	End

	ArmorSet
		Conditions      = None
		Armor           = HeroArmor
		DamageFX        = NormalDamageFX
	End
	CommandSet = GondorGandalfCommandSet
	VisionRange = 161
	DisplayName = OBJECT:GandalfTheWhite
	CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	
	; *** AUDIO Parameters ***;
	VoiceSelect = GandalfVoiceSelect
	VoiceMove = NoSound
	VoiceAttack = GandalfVoiceAttack
	VoiceFear = NoSound
	VoiceGuard = NoSound
;  SoundDie = NoSound
;  SoundDieFire = NoSound
	SoundStealthOn = NoSound
	SoundStealthOff = NoSound
	SoundImpact = ImpactHorse
	
	UnitSpecificSounds
		VoiceGarrison         = NoSound
		VoiceEnter            = NoSound
		VoiceEnterHostile     = NoSound
		VoiceGetHealed        = NoSound
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE ATTACK_NEEDS_LINE_OF_SIGHT
	
	Body = ActiveBody ModuleTag_03
		MaxHealth         = 100000000                  ;BALANCE Gandalf Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 1000
	End
	
	Behavior = AIUpdateInterface ModuleTag_04
		AutoAcquireEnemiesWhenIdle = Yes
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 37
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 17
	End
	
	Behavior = PhysicsBehavior ModuleTag_05
		GravityMult = 1.0
		ShockStandingTime = 16000	;msec
	End
	
	Behavior = SlowDeathBehavior ModuleTag_06
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL GandalfVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_07
		;nothing
	End

	Behavior = SlowDeathBehavior ModuleTag_08
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End

	Behavior = OCLSpecialPower ModuleTag_09
		SpecialPowerTemplate = SuperweaponPartTheHeavens
		OCL                  = SUPERWEAPON_PartTheHeavens
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry
		UnitWeight = 2   ; Gandy counts as 2 infantry
	End
	
	Behavior = WeaponSetUpgrade ModuleTag_ActivateSpell
		TriggeredBy = Upgrade_GandalfBlast
	End
	
	Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= GandalfPassiveLeadership
		RefreshDelay	= 2000
		Range			= 120
	End	

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
; Gandalf the White
Object GondorGandalfWhite_L
	; *** ART Parameters ***

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPGandalf
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIGandalf

	Draw = W3DScriptedModelDraw ModuleTag_01

		GlowEnabled = No;
		GlowEmissive = No;

	  StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		ExtraPublicBone = STAFF

		DefaultModelConditionState
			Model               = GUGandalf_L
			WeaponLaunchBone    = PRIMARY STAFF ; Another line to fix after sword comes back post demo
		End

		IdleAnimationState
			StateName = Idle
			Animation = IDLA
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLA 0 25
				AnimationMode       = ONCE
			End
		End

; out for demo
;		AnimationState        =  FIRING_OR_PREATTACK_A
;			Animation = Attack1
;				AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKA ; Staff swing
;				AnimationMode       = ONCE
;				UseWeaponTiming		= Yes
;			End
;			Animation = Attack2
;			  AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKB	; sword swing
;			  AnimationMode       = ONCE
;			  UseWeaponTiming		= Yes
;			End
;		End

		AnimationState        =  FIRING_OR_PREATTACK_A
			StateName = Attacking
			Animation = AttackLaser
				AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKC	; staff tip zap 
				AnimationMode       = ONCE
				UseWeaponTiming = Yes
			End
		End

		AnimationState        =  FIRING_OR_PREATTACK_B
			StateName = Attacking
			Animation = AttackBigBaddaBoom
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPLH ;  Lots to pick from.
				AnimationMode       = ONCE
				UseWeaponTiming = Yes
			End
		End

		; --- stunned anims  Which must go before deaths in case we are dying in the air.  Plus, DyingSplatted must of course be before Dying
		AnimationState      = STUNNED_FLAILING 
			Animation = StunnedFlail
				AnimationName         = GUGandalfG_SKL.GUGandalfG_FLYA
				AnimationMode     = LOOP
			End
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUGandalfG_GTPA
				AnimationName     = GUGandalfG_SKL.GUGandalfG_GTPA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState      = STUNNED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		AnimationState      = DYING SPLATTED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End
		
		AnimationState        = DYING AFLAME
			Animation = DieAflame
				AnimationName           = GUGandalfG_SKL.GUGandalfG_MFDA
				AnimationMode       = LOOP
			End
		End

		AnimationState        = DYING
			Animation = Die
				AnimationName           = GUGandalfG_SKL.GUGandalfG_DIEA
				AnimationMode       = ONCE
			End
;      ;ParticleSysBone     = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		AnimationState        = MOVING WANDER
			Animation = Wandering
				AnimationName           = GUGandalfG_SKL.GUGandalfG_WLK ;32
				AnimationMode       = LOOP
			End
		End
	
		AnimationState        = MOVING DAMAGED
			Animation = DamagedMove
				AnimationName           = GUGandalfG_SKL.GUGandalfG_IWKA ;32
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = MOVING
			Animation = Moving
				AnimationName           = GUGandalfG_SKL.GUGandalfG_RUNA ;20
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End

		AnimationState        = LEVELED	; This state clears itself in 3 of your Earth seconds
			Animation = Yippee
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
		End

	End
	
	Draw = W3DLightDraw ModuleTag_02
		Ambient = R:0 G:0 B:0
		Diffuse = R:128 G:128 B:255
		Radius = 25
		Intensity = 10
		AttachToBoneInAnotherModule = Staff
	End 

	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	ThingClass = CHARACTER_UNIT

	LiveCameraOffset = X:-112 Y:81 Z:57
	LiveCameraPitch = 25.0
	

	TransportSlotCount = 1
;	WeaponSet
;		Conditions = None 
;		Weapon = PRIMARY GandalfSword
;		Weapon = SECONDARY   GandalfSpell   
;		Weapon = TERTIARY   GandalfStaffWeapon   
;		AutoChooseSources = SECONDARY NONE
;		PreferredAgainst = TERTIARY INFANTRY
;		PreferredAgainst = TERTIARY MONSTER
;	End

; Demo change to not ever use the sword.  When switch back, be sure to rearrange anim connections
	WeaponSet
		Conditions = None
		Weapon = PRIMARY GandalfStaffWeapon
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY GandalfStaffWeapon
		Weapon = SECONDARY GandalfWizardBlast			; Make sure this weapon's position lines up with the FireWeaponSlotCommandButton that fires it.
		AutoChooseSources = SECONDARY NONE
	End

	ArmorSet
		Conditions      = None
		Armor           = HeroArmor
		DamageFX        = NormalDamageFX
	End
	CommandSet = GondorGandalfCommandSet
	VisionRange = 161
	DisplayName = OBJECT:GandalfTheWhite
	CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	
	; *** AUDIO Parameters ***;
	VoiceSelect = GandalfVoiceSelect
	VoiceMove = NoSound
	VoiceAttack = GandalfVoiceAttack
	VoiceFear = NoSound
	VoiceGuard = NoSound
;  SoundDie = NoSound
;  SoundDieFire = NoSound
	SoundStealthOn = NoSound
	SoundStealthOff = NoSound
	SoundImpact = ImpactHorse
	
	UnitSpecificSounds
		VoiceGarrison         = NoSound
		VoiceEnter            = NoSound
		VoiceEnterHostile     = NoSound
		VoiceGetHealed        = NoSound
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE ATTACK_NEEDS_LINE_OF_SIGHT
	
	Body = ActiveBody ModuleTag_03
		MaxHealth         = 100000000                  ;BALANCE Gandalf Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 1000
	End
	
	Behavior = AIUpdateInterface ModuleTag_04
		AutoAcquireEnemiesWhenIdle = Yes
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 37
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 17
	End
	
	Behavior = PhysicsBehavior ModuleTag_05
		GravityMult = 1.0
		ShockStandingTime = 16000	;msec
	End
	
	Behavior = SlowDeathBehavior ModuleTag_06
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL GandalfVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_07
		;nothing
	End

	Behavior = SlowDeathBehavior ModuleTag_08
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End

	Behavior = OCLSpecialPower ModuleTag_09
		SpecialPowerTemplate = SuperweaponPartTheHeavens
		OCL                  = SUPERWEAPON_PartTheHeavens
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry
		UnitWeight = 2   ; Gandy counts as 2 infantry
	End
	
	Behavior = WeaponSetUpgrade ModuleTag_ActivateSpell
		TriggeredBy = Upgrade_GandalfBlast
	End
	
	Behavior = AttributeModifierAuraUpdate ModuleTag_Leadership
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= GandalfPassiveLeadership
		RefreshDelay	= 2000
		Range			= 120
	End	

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; aka Balrog without Fire
Object MordorBalrog_NOFIRE 
	; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
    
;   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

    DefaultModelConditionState
      Model = MUBalrog_SKN
    End

	IdleAnimationState
		StateName = Idle
		Animation = MUBalrog_IDLA 
			AnimationName = MUBalrog_SKL.MUBalrog_IDLA
			AnimationMode = ONCE
		End
		Animation = MUBalrog_RORA 
			AnimationName = MUBalrog_SKL.MUBalrog_RORA
			AnimationMode = ONCE
		End
	   End 
	   
	   	AnimationState			= HIT_REACTION
			Animation           = MUBalrog_HITA
				AnimationName     = MUBalrog_HITA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState			= MOVING WANDER
			Animation			= MUBalrog_WLKA 
				AnimationName	= MUBalrog_WLKA
				AnimationMode   = LOOP
			End
		End
		
		
		AnimationState			= MOVING 
			Animation			= MUBalrog_WLKA 
				AnimationName	= MUBalrog_SKL.MUBalrog_WLKA
				AnimationMode   = LOOP
			End
		End
      
		
		AnimationState			= FIRING_OR_PREATTACK_A
			Animation			= MUBalrog_ATKA 
				AnimationName	= MUBalrog_SKL.MUBalrog_ATKA
				AnimationMode	= ONCE
				UseWeaponTiming	= Yes
			End
		End
		
		AnimationState					=	DYING
			Animation					=	MUBalrog_DIEA 
				AnimationName			=	MUBalrog_SKL.MUBalrog_DIEA 
				AnimationMode			=	ONCE
			End
		End
		
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Balrog
  Side = Mordor
  EditorSorting = UNIT
	ThreatLevel = 1.0
  ThingClass = CHARACTER_UNIT
  
TransportSlotCount = 1
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    MordorWarriorAxe
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 121
  DisplayName = OBJECT:Balrog
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
   
  ; *** AUDIO Parameters ***;
  VoiceSelect = NoSound
  VoiceMove = NoSound
  VoiceAttack = NoSound
  VoiceFear = NoSound
  VoiceGuard = NoSound
;  SoundDie = NoSound
;  SoundDieFire = NoSound
  SoundStealthOn = NoSound
  SoundStealthOff = NoSound
  SoundImpact = NoSound
  
  UnitSpecificSounds
    VoiceGarrison         = NoSound
    VoiceEnter            = NoSound
    VoiceEnterHostile     = NoSound
    VoiceGetHealed        = NoSound
  End

  ; *** ENGINEERING Parameters ***  
  KindOf          = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MACHINE SCORE CAN_ATTACK  
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_02
    MaxHealth         = 10000                  ;BALANCE Balrog Health
    MaxHealthDamaged  = 5
    RecoveryTime      = 5000
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 500
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 37
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 17
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
  End
  
  	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Monster Unit Infantry
	UnitWeight = 4 ; Balgy counts as 4 infantry
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 49
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
; Boromir
Object GondorBoromir_H
	; *** ART Parameters ***
    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPBorimir
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIBorimir

	Draw = W3DScriptedModelDraw ModuleTag_DRAW

   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD


		DefaultModelConditionState
			Model               = GUBoromir_H
		End
		; --- Idle Anims
		IdleAnimationState
			Animation           = IDLA
				AnimationName     = GUBoromir_SKL.GUBoromir_IDLA 0 15
				AnimationMode     = ONCE
			End
		End

		TransitionState       = Trans_None_To_Sword
			Animation           = GUBoromir_STHA
				AnimationName     = GUBoromir_SKL.GUBoromir_STHA ;
				AnimationMode     = ONCE
			End
		End
		TransitionState       = Trans_Sword_To_None
			Animation           = GUBoromir_STHB
				AnimationName     = GUBoromir_SKL.GUBoromir_STHB ;
				AnimationMode     = ONCE
			End
		End

		; -- Horn anims
		AnimationState        = UNPACKING
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = PREPARING
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
				AnimationMode     = ONCE
			End
		End
		AnimationState        = SPECIAL_POWER_1
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
				AnimationMode     = LOOP
			End
		End
		AnimationState        = PACKING
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNC
				AnimationMode     = ONCE
			End
		End

		; --- Moving Anims
		AnimationState        = MOVING DAMAGED WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_IWKA
				AnimationName     = GUBoromir_SKL.GUBoromir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_RUNB
				AnimationName     = GUBoromir_SKL.GUBoromir_RUNB
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING DAMAGED
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_IWKA
				AnimationName     = GUBoromir_SKL.GUBoromir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING
			;ParticleSysBone     = None InfantryDustTrails
			Flags               = RANDOMSTART
			Animation           = GUBoromir_RUNB
				AnimationName     = GUBoromir_SKL.GUBoromir_RUNA
				AnimationMode     = LOOP
			End
		End

		; Attacking Anims [Weapon_A]
		AnimationState        = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = ATKA
				AnimationName     = GUBoromir_SKL.GUBoromir_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATKB
				AnimationName    = GUBoromir_SKL.GUBoromir_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		AnimationState        = FIRING_OR_PREATTACK_A
			Animation           = GUBoromir_ATD1
				AnimationName     = GUBoromir_SKL.GUBoromir_ATKB 
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		; --- Dying anims
		AnimationState        = DYING SPLATTED
			Animation           = GUBoromir_LNDA
				AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = DYING
			Animation           = GUBoromir_DIEB
				AnimationName     = GUBoromir_SKL.GUBoromir_DIEB
				AnimationMode     = ONCE
			End
		End



		; --- Stunned anims
		AnimationState        = STUNNED_FLAILING 
			Flags               = RANDOMSTART
			Animation           = GUBoromir_FLYA
				AnimationName     = GUBoromir_SKL.GUBoromir_FLYA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUBoromir_GTPA
				AnimationName     = GUBoromir_SKL.GUBoromir_GTPA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = STUNNED 
			Animation           = GUBoromir_LNDA
				AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
				AnimationMode     = ONCE
			End
		End


		; --------- Idle Anims
		AnimationState        = WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = GUBoromir_IDLC
				AnimationName     = GUBoromir_SKL.GUBoromir_IDLC
				AnimationMode     = ONCE
			End
		End
		
		; --------- Click and Hit Reactions ------------
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUBoromir_SKL.GUBoromir_HITA
				AnimationMode = ONCE
			End
    End
		
		

	End



	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = CHARACTER_UNIT

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    HobbitPunch
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY    BoromirSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 121
	DisplayName = OBJECT:GondorBoromir
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

	CommandSet = BoromirCommandSet 

	; *** AUDIO Parameters ***;
	VoiceSelect = NoSound
	VoiceMove = NoSound
	VoiceAttack = NoSound
	VoiceFear = NoSound
	VoiceGuard = NoSound
;  SoundDie = NoSound
;  SoundDieFire = NoSound
	SoundStealthOn = NoSound
	SoundStealthOff = NoSound
      SoundImpact = ImpactHorse
	
	UnitSpecificSounds
		VoiceGarrison         = NoSound
		VoiceEnter            = NoSound
		VoiceEnterHostile     = NoSound
		VoiceGetHealed        = NoSound
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE 

	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Man at Arms Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes
		MoodAttackCheckRate        = 500
		AILuaEventsList				=	BoromirFunctions
;    HoldGroundCloseRangeDistance = 50
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 57
	End
	
	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 17
	End
	
	Behavior = DualWeaponBehavior ModuleTag_13
		SwitchWeaponOnCloseRangeDistance = 161
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry
		UnitWeight = 2   ; Boromir counts as 2 infantry
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 45 ; level 1 (light  damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer2 = 90 ; level 2 (medium damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer3 = 60 ; level 3 (heavy  damage)  hit reaction animations in frames (30 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End
	
	Behavior = SpecialPowerModule ModuleTag_HornStarter                      
		SpecialPowerTemplate      = SpecialAbilityHornOfGondor
		UpdateModuleStartsAttack  = Yes
		;InitiateSound           = 
	End
	Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_HornUpdate   
		SpecialPowerTemplate    = SpecialAbilityHornOfGondor
;		StartAbilityRange       = 2.0

		UnpackTime              = 1700 ; Drawing the horn
		PreparationTime         = 1   ; nothing
		PersistentPrepTime      = 1600 ; Blowing
		PackTime                = 1666 ; Putting horn away

;    PackSound               = 
;    UnpackSound             = 
;    TriggerSound            = 
;    PrepSoundLoop           = 
		AwardXPForTriggering    = 0
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
; Boromir
Object GondorBoromir_M
	; *** ART Parameters ***

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPBorimir
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIBorimir
    
	Draw = W3DScriptedModelDraw ModuleTag_DRAW

   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD


		DefaultModelConditionState
			Model               = GUBoromir_M
		End
		; --- Idle Anims
		IdleAnimationState
			Animation           = IDLA
				AnimationName     = GUBoromir_SKL.GUBoromir_IDLA 0 15
				AnimationMode     = ONCE
			End
		End

		TransitionState       = Trans_None_To_Sword
			Animation           = GUBoromir_STHA
				AnimationName     = GUBoromir_SKL.GUBoromir_STHA ;
				AnimationMode     = ONCE
			End
		End
		TransitionState       = Trans_Sword_To_None
			Animation           = GUBoromir_STHB
				AnimationName     = GUBoromir_SKL.GUBoromir_STHB ;
				AnimationMode     = ONCE
			End
		End

		; -- Horn anims
		AnimationState        = UNPACKING
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = PREPARING
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
				AnimationMode     = ONCE
			End
		End
		AnimationState        = SPECIAL_POWER_1
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
				AnimationMode     = LOOP
			End
		End
		AnimationState        = PACKING
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNC
				AnimationMode     = ONCE
			End
		End

		; --- Moving Anims
		AnimationState        = MOVING DAMAGED WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_IWKA
				AnimationName     = GUBoromir_SKL.GUBoromir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_RUNB
				AnimationName     = GUBoromir_SKL.GUBoromir_RUNB
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING DAMAGED
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_IWKA
				AnimationName     = GUBoromir_SKL.GUBoromir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING
			;ParticleSysBone     = None InfantryDustTrails
			Flags               = RANDOMSTART
			Animation           = GUBoromir_RUNB
				AnimationName     = GUBoromir_SKL.GUBoromir_RUNA
				AnimationMode     = LOOP
			End
		End

		; Attacking Anims [Weapon_A]
		AnimationState        = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = ATKA
				AnimationName     = GUBoromir_SKL.GUBoromir_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATKB
				AnimationName    = GUBoromir_SKL.GUBoromir_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		AnimationState        = FIRING_OR_PREATTACK_A
			Animation           = GUBoromir_ATD1
				AnimationName     = GUBoromir_SKL.GUBoromir_ATKB 
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		; --- Dying anims
		AnimationState        = DYING SPLATTED
			Animation           = GUBoromir_LNDA
				AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = DYING
			Animation           = GUBoromir_DIEB
				AnimationName     = GUBoromir_SKL.GUBoromir_DIEB
				AnimationMode     = ONCE
			End
		End



		; --- Stunned anims
		AnimationState        = STUNNED_FLAILING 
			Flags               = RANDOMSTART
			Animation           = GUBoromir_FLYA
				AnimationName     = GUBoromir_SKL.GUBoromir_FLYA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUBoromir_GTPA
				AnimationName     = GUBoromir_SKL.GUBoromir_GTPA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = STUNNED 
			Animation           = GUBoromir_LNDA
				AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
				AnimationMode     = ONCE
			End
		End


		; --------- Idle Anims
		AnimationState        = WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = GUBoromir_IDLC
				AnimationName     = GUBoromir_SKL.GUBoromir_IDLC
				AnimationMode     = ONCE
			End
		End
		
		; --------- Click and Hit Reactions ------------
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUBoromir_SKL.GUBoromir_HITA
				AnimationMode = ONCE
			End
    End
		
		

	End



	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = CHARACTER_UNIT

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    HobbitPunch
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY    BoromirSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 121
	DisplayName = OBJECT:GondorBoromir
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

	CommandSet = BoromirCommandSet 

	; *** AUDIO Parameters ***;
	VoiceSelect = NoSound
	VoiceMove = NoSound
	VoiceAttack = NoSound
	VoiceFear = NoSound
	VoiceGuard = NoSound
;  SoundDie = NoSound
;  SoundDieFire = NoSound
	SoundStealthOn = NoSound
	SoundStealthOff = NoSound
      SoundImpact = ImpactHorse
	
	UnitSpecificSounds
		VoiceGarrison         = NoSound
		VoiceEnter            = NoSound
		VoiceEnterHostile     = NoSound
		VoiceGetHealed        = NoSound
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE 

	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Man at Arms Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes
		MoodAttackCheckRate        = 500
		AILuaEventsList				=	BoromirFunctions
;    HoldGroundCloseRangeDistance = 50
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 57
	End
	
	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 17
	End
	
	Behavior = DualWeaponBehavior ModuleTag_13
		SwitchWeaponOnCloseRangeDistance = 161
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry
		UnitWeight = 2   ; Boromir counts as 2 infantry
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 45 ; level 1 (light  damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer2 = 90 ; level 2 (medium damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer3 = 60 ; level 3 (heavy  damage)  hit reaction animations in frames (30 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End
	
	Behavior = SpecialPowerModule ModuleTag_HornStarter                      
		SpecialPowerTemplate      = SpecialAbilityHornOfGondor
		UpdateModuleStartsAttack  = Yes
		;InitiateSound           = 
	End
	Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_HornUpdate   
		SpecialPowerTemplate    = SpecialAbilityHornOfGondor
;		StartAbilityRange       = 2.0

		UnpackTime              = 1700 ; Drawing the horn
		PreparationTime         = 1   ; nothing
		PersistentPrepTime      = 1600 ; Blowing
		PackTime                = 1666 ; Putting horn away

;    PackSound               = 
;    UnpackSound             = 
;    TriggerSound            = 
;    PrepSoundLoop           = 
		AwardXPForTriggering    = 0
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
; Boromir
Object GondorBoromir_L
	; *** ART Parameters ***

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPBorimir
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIBorimir

	Draw = W3DScriptedModelDraw ModuleTag_DRAW

   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD


		DefaultModelConditionState
			Model               = GUBoromir_L
		End
		; --- Idle Anims
		IdleAnimationState
			Animation           = IDLA
				AnimationName     = GUBoromir_SKL.GUBoromir_IDLA 0 15
				AnimationMode     = ONCE
			End
		End

		TransitionState       = Trans_None_To_Sword
			Animation           = GUBoromir_STHA
				AnimationName     = GUBoromir_SKL.GUBoromir_STHA ;
				AnimationMode     = ONCE
			End
		End
		TransitionState       = Trans_Sword_To_None
			Animation           = GUBoromir_STHB
				AnimationName     = GUBoromir_SKL.GUBoromir_STHB ;
				AnimationMode     = ONCE
			End
		End

		; -- Horn anims
		AnimationState        = UNPACKING
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = PREPARING
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
				AnimationMode     = ONCE
			End
		End
		AnimationState        = SPECIAL_POWER_1
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNB
				AnimationMode     = LOOP
			End
		End
		AnimationState        = PACKING
			Animation           
				AnimationName     = GUBoromir_SKL.GUBoromir_HRNC
				AnimationMode     = ONCE
			End
		End

		; --- Moving Anims
		AnimationState        = MOVING DAMAGED WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_IWKA
				AnimationName     = GUBoromir_SKL.GUBoromir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_RUNB
				AnimationName     = GUBoromir_SKL.GUBoromir_RUNB
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING DAMAGED
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_IWKA
				AnimationName     = GUBoromir_SKL.GUBoromir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING
			;ParticleSysBone     = None InfantryDustTrails
			Flags               = RANDOMSTART
			Animation           = GUBoromir_RUNB
				AnimationName     = GUBoromir_SKL.GUBoromir_RUNA
				AnimationMode     = LOOP
			End
		End

		; Attacking Anims [Weapon_A]
		AnimationState        = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = ATKA
				AnimationName     = GUBoromir_SKL.GUBoromir_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATKB
				AnimationName    = GUBoromir_SKL.GUBoromir_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		AnimationState        = FIRING_OR_PREATTACK_A
			Animation           = GUBoromir_ATD1
				AnimationName     = GUBoromir_SKL.GUBoromir_ATKB 
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		; --- Dying anims
		AnimationState        = DYING SPLATTED
			Animation           = GUBoromir_LNDA
				AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = DYING
			Animation           = GUBoromir_DIEB
				AnimationName     = GUBoromir_SKL.GUBoromir_DIEB
				AnimationMode     = ONCE
			End
		End



		; --- Stunned anims
		AnimationState        = STUNNED_FLAILING 
			Flags               = RANDOMSTART
			Animation           = GUBoromir_FLYA
				AnimationName     = GUBoromir_SKL.GUBoromir_FLYA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUBoromir_GTPA
				AnimationName     = GUBoromir_SKL.GUBoromir_GTPA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = STUNNED 
			Animation           = GUBoromir_LNDA
				AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
				AnimationMode     = ONCE
			End
		End


		; --------- Idle Anims
		AnimationState        = WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = GUBoromir_IDLC
				AnimationName     = GUBoromir_SKL.GUBoromir_IDLC
				AnimationMode     = ONCE
			End
		End
		
		; --------- Click and Hit Reactions ------------
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUBoromir_SKL.GUBoromir_HITA
				AnimationMode = ONCE
			End
    End
		
		

	End



	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = CHARACTER_UNIT

	TransportSlotCount = 1
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    HobbitPunch
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY    BoromirSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 121
	DisplayName = OBJECT:GondorBoromir
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

	CommandSet = BoromirCommandSet 

	; *** AUDIO Parameters ***;
	VoiceSelect = NoSound
	VoiceMove = NoSound
	VoiceAttack = NoSound
	VoiceFear = NoSound
	VoiceGuard = NoSound
;  SoundDie = NoSound
;  SoundDieFire = NoSound
	SoundStealthOn = NoSound
	SoundStealthOff = NoSound
      SoundImpact = ImpactHorse
	
	UnitSpecificSounds
		VoiceGarrison         = NoSound
		VoiceEnter            = NoSound
		VoiceEnterHostile     = NoSound
		VoiceGetHealed        = NoSound
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE 

	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Man at Arms Health
		MaxHealthDamaged  = 5
		RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes
		MoodAttackCheckRate        = 500
		AILuaEventsList				=	BoromirFunctions
;    HoldGroundCloseRangeDistance = 50
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 57
	End
	
	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 17
	End
	
	Behavior = DualWeaponBehavior ModuleTag_13
		SwitchWeaponOnCloseRangeDistance = 161
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry
		UnitWeight = 2   ; Boromir counts as 2 infantry
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 45 ; level 1 (light  damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer2 = 90 ; level 2 (medium damage)  hit reaction animations in frames (30 per sec)
		HitReactionLifeTimer3 = 60 ; level 3 (heavy  damage)  hit reaction animations in frames (30 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End
	
	Behavior = SpecialPowerModule ModuleTag_HornStarter                      
		SpecialPowerTemplate      = SpecialAbilityHornOfGondor
		UpdateModuleStartsAttack  = Yes
		;InitiateSound           = 
	End
	Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_HornUpdate   
		SpecialPowerTemplate    = SpecialAbilityHornOfGondor
;		StartAbilityRange       = 2.0

		UnpackTime              = 1700 ; Drawing the horn
		PreparationTime         = 1   ; nothing
		PersistentPrepTime      = 1600 ; Blowing
		PackTime                = 1666 ; Putting horn away

;    PackSound               = 
;    UnpackSound             = 
;    TriggerSound            = 
;    PrepSoundLoop           = 
		AwardXPForTriggering    = 0
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 12;
	ShadowSizeY = 12;
	ShadowTexture = ShadowI;
End



Object BalrogOPT

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    DefaultModelConditionState
      Model               = Temp3
	  ParticleSysBone     = SWORDBONE BalrogSwordFlare FollowBone:yes
	  ParticleSysBone     = SWORDBONE BalrogSwordEmbers FollowBone:yes
	  ParticleSysBone     = MANEBONE BalrogManeEmbers FollowBone:yes
	  ParticleSysBone     = RTWINGBONE BalrogWingSmoke FollowBone:yes
	  ParticleSysBone     = LFWINGBONE BalrogWingSmoke FollowBone:yes
	  ParticleSysBone     = RTWINGBONE BalrogWingEmbers FollowBone:yes
	  ParticleSysBone     = LFWINGBONE BalrogWingEmbers FollowBone:yes
	  ParticleSysBone     = MANEBONELOW BalrogBodyEmbers FollowBone:yes
	  ParticleSysBone     = BAT_JAW BalrogScreamEffect FollowBone:yes
    End
    AnimationState			= MOVING 
	End
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
	DisplayName      = OBJECT:BalrogOPT
	Side = Mordor
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = CHARACTER_UNIT
    ArmorSet
      Armor = NoArmor
    End
    VisionRange = 0.0

  ; *** ENGINEERING Parameters ***
  KindOf          = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MACHINE SCORE CAN_ATTACK  
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_02
    MaxHealth         = 10000                  ;BALANCE Balrog Health
    MaxHealthDamaged  = 5
    RecoveryTime      = 5000
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 500
  End

  LocomotorSet
    Locomotor     = HorseLocomotor
    Condition     = SET_NORMAL
    Speed         = 37
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 17
  End
    
End

;------------------------------------------------------------------------------
; aka Oliphant, MordorOliphant, OliphantMordor, Mumakil, MordorMumakil, MumakilMordor
Object DEMOMordorMumakil                         ;BALANCE Mumakil 
  ; *** ART Parameters ***
  
  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BMMumakilPen_Mumakil

  SelectPortrait         = SP_Oliphant

  Draw = W3DQuadrupedDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    ExtraPublicBone            = e_FrontLeft
    ExtraPublicBone            = e_FrontRight
    ExtraPublicBone            = e_BackLeft
    ExtraPublicBone            = e_BackRight
    ExtraPublicBone            = B_CARGO0
    ExtraPublicBone            = B_LLLID

    DefaultModelConditionState
      Model               = MUMumakil_SKN
    End
    
	; THE VETERAN/UPGRADED MODEL IS DEFINED BELOW ALL THE ANIMATIONS... DON'T MOVE IT !

    IdleAnimationState
      Animation = IDLA ; 
        AnimationName = MUMumakil_SKL.MUMumakil_IDLA ; 
        AnimationPriority = 5 ; // will be chosen 5 times more often than a default (1) priority animation.
        ;AnimationBlendTime  = 10
      End
      Animation = IDLB 
        AnimationName = MUMumakil_SKL.MUMumakil_IDLB ; 
        ;AnimationBlendTime  = 10
      End
      ;Animation = IDLC
      ;  AnimationName = MUMumakil_SKL.MUMumakil_IDLC ; 
      ;  AnimationBlendTime  = 10
      ;End
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Charging" then CurDrawableSetTransitionAnimState("TRANS_StopCharge") return end
        if Prev == "Moving" and CurDrawablePrevAnimFraction()>0.66 then CurDrawableSetTransitionAnimState("TRANS_Stop66") return end
        if Prev == "Moving" and CurDrawablePrevAnimFraction()>0.33 then CurDrawableSetTransitionAnimState("TRANS_Stop33") return end
        if Prev == "Moving" then CurDrawableSetTransitionAnimState("TRANS_Stop00") return end
      EndScript
      StateName = Idle
    End


	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; BEING MUMAKIL AFALME REALLYDAMAGED ANIMATION STATES ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	
	AnimationState        = MOVING TURN_LEFT_HIGH_SPEED AFLAME
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNLA
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes

	  FXEvent	= Frame:1 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:8 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:13 Name: FX_MUMRightRearFootStep	  
	  FXEvent	= Frame:20 Name: FX_MUMRightFrontFootStep

;      StateName           = Turn_Left_High_Speed_Damaged
;      BeginScript
;        Prev = CurDrawablePrevAnimationState()
;        if Prev == "Moving" or Prev == "Turn_Right_High_Speed_Damaged" then CurDrawableAllowToContinue() return end
;      EndScript
    End

    AnimationState        = MOVING TURN_RIGHT_HIGH_SPEED AFLAME
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNRA
        AnimationMode       = LOOP
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes

	  FXEvent	= Frame:7 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:28 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

;      StateName           = Turn_Right_High_Speed_Damaged
;      BeginScript
;        Prev = CurDrawablePrevAnimationState()
;        if Prev == "Moving" or Prev == "Turn_Left_High_Speed_Damaged" then CurDrawableAllowToContinue() return end
;      EndScript
    End
    
	AnimationState					= MOVING TURN_LEFT AFLAME CHARGING
      Animation						= Turn
        AnimationName				= MUMumakil_SKL.MUMumakil_TRNL
        AnimationMode				= LOOP
		AnimationBlendTime			= 20
        AnimationSpeedFactorRange	= 2.3 2.3
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes 
      
	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep      
                 
      StateName           = Turn_Left_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End
    
     AnimationState					= MOVING TURN_RIGHT AFLAME CHARGING
      Animation						= Turn
        AnimationName				= MUMumakil_SKL.MUMumakil_TRNR
        AnimationMode				= LOOP
        AnimationBlendTime			= 20
        AnimationSpeedFactorRange	= 2.3 2.3
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes  
      
	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep      
                
      StateName           = Turn_Left_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End    	
    
	
    AnimationState			= MOVING TURN_LEFT AFLAME
       Animation			= Turn
        AnimationName		= MUMumakil_SKL.MUMumakil_TRNL
        AnimationMode       = LOOP
        AnimationBlendTime  = 20
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes

	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep

    End

    AnimationState        = MOVING TURN_RIGHT AFLAME
      Animation           = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNR
        AnimationMode       = LOOP
        AnimationBlendTime  = 20
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes

	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep

    End


	AnimationState			= MOVING AFLAME CHARGING DECELERATE
	  Animation				= Turn
        AnimationName		= MUMumakil_SKL.MUMumakil_DECL4
        AnimationMode       = ONCE
      End

      StateName				= Decelerate

	  FXEvent	= Frame:1 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:1 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:11 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:18 Name: FX_MUMRightRearFootStep    
	  FXEvent	= Frame:59 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:59 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:75 Name: FX_MUMLeftRearFootStep      

      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes
    End
     
     
    AnimationState			= MOVING AFLAME CHARGING
      Animation				= Turn
        AnimationName		= MUMumakil_SKL.MUMumakil_MFDA
        AnimationMode       = LOOP
        AnimationBlendTime	= 15
      End

      FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:7 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:14 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:20 Name: FX_MUMRightFrontFootStep
      
      StateName			= Charging
      
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes
     End
    
    
   AnimationState        = MOVING WEAPONSET_RAMPAGE AFLAME
      Animation = Walk
        AnimationName = MUMumakil_SKL.MUMumakil_RPGB
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes            
      StateName           = Moving
    End

    AnimationState			= WEAPONSET_RAMPAGE AFLAME
      Animation				= Rampage
        AnimationName		= MUMumakil_SKL.MUMumakil_RPGB
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes

	  FXEvent	= Frame:36 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:34 Name: FX_MUMRightFrontFootStep
      FXEvent	= Frame:209 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:212 Name: FX_MUMRightFrontFootStep

    End
    
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; END MUMAKIL AFALME REALLYDAMAGED ANIMATION STATES ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    
    ; moving off map  - potentially E3 HACK
    AnimationState        = MOVING AFLAME RUNNING_OFF_MAP
      Animation           = MoveIt
        AnimationName		= MUMumakil_SKL.MUMumakil_RUNA
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes  

	  FXEvent	= Frame:1 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:8 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:11 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:20 Name: FX_MUMRightFrontFootStep

    End


;;;;;;;;;;;;;;;;;;;;;;;;;;
; Attacking Animations
;;;;;;;;;;;;;;;;;;;;;;;;;;
    AnimationState				= TURN_LEFT ATTACKING
		Animation				= Turn
			AnimationName		= MUMumakil_SKL.MUMumakil_TRNLB
			AnimationMode       = LOOP
			AnimationBlendTime  = 5
		End

	  FXEvent	= Frame:7 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:28 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

	End
	
    AnimationState			= TURN_RIGHT ATTACKING
      Animation				= Turn
        AnimationName		= MUMumakil_SKL.MUMumakil_TRNRB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End

	  FXEvent	= Frame:7 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:28 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

	End	

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Charging animations
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
     AnimationState        = MOVING TURN_LEFT_HIGH_SPEED CHARGING
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_WLKB1
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:27 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:43 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Left_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End

    AnimationState        = MOVING TURN_RIGHT_HIGH_SPEED CHARGING
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_WLKB2
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:27 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:43 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Right_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Left_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End
        
    AnimationState			= MOVING TURN_LEFT CHARGING
		Animation			= Turn
			AnimationName		= MUMumakil_SKL.MUMumakil_TRNLB
			AnimationMode       = LOOP
			AnimationBlendTime  = 5
		End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:30 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

	End
	
    AnimationState        = MOVING TURN_RIGHT CHARGING
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNRB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:30 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

	End	

    AnimationState        = MOVING CHARGING
      Animation = Charge
        AnimationName = MUMumakil_SKL.MUMumakil_MFDA
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
;       AnimationSpeedFactorRange = 0.5 0.5
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:7 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:14 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:20 Name: FX_MUMRightFrontFootStep

      StateName           = Charging
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Accelerate2") end
      EndScript
    End

   AnimationState				=	FIRING_OR_PREATTACK_B
		Animation				=	ATKA
				AnimationName	= MUMumakil_SKL.MUMumakil_ATKA
				AnimationMode   = ONCE
				UseWeaponTiming	= Yes
		End
		Animation				=	ATKB
				AnimationName	= MUMumakil_SKL.MUMumakil_ATKB
				AnimationMode   = ONCE
				UseWeaponTiming	= Yes
		End
		Animation				=	ATKC
				AnimationName	= MUMumakil_SKL.MUMumakil_ATKC
				AnimationMode   = ONCE
				UseWeaponTiming	= Yes
		End
		Animation				=	ATKD
				AnimationName	= MUMumakil_SKL.MUMumakil_ATKD
				AnimationMode   = ONCE
				UseWeaponTiming	= Yes
		End
		Flags					=	RESTART_ANIM_WHEN_COMPLETE
	End

    AnimationState        = MOVING TURN_LEFT_HIGH_SPEED REALLYDAMAGED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNLB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:30 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Left_High_Speed_Damaged
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed_Damaged" then CurDrawableAllowToContinue() return end
      EndScript
    End

    AnimationState        = MOVING TURN_RIGHT_HIGH_SPEED REALLYDAMAGED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNRB
        AnimationMode       = LOOP
        AnimationBlendTime  = 5
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:30 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:50 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Right_High_Speed_Damaged
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Left_High_Speed_Damaged" then CurDrawableAllowToContinue() return end
      EndScript
    End

    ; Decay when dead flat for the VETERAN UPGRADED VERSION
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_1 AFLAME
      Model                = MUMumakilVDIEBF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_1 AFLAME 
      Animation            = dead1
        AnimationName       = MUMumakilVDIEBF.MUMumakilVDIEBF
        AnimationMode      = ONCE
      End
    End
    
    ; Decay when dead on the right side for the VETERAN UPGRADED VERSION
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_2 AFLAME 
      Model                = MUMumakilVDIEAF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_2 AFLAME 
      Animation            = dead2
        AnimationName      = MUMumakilVDIEAF.MUMumakilVDIEAF
        AnimationMode      = ONCE
      End
    End

    ; Decay when dead on the left side for the VETERAN UPGRADED VERSION
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_3 AFLAME 
      Model                = MUMumakilVDIECF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_3 AFLAME 
      Animation            = dead3
        AnimationName      = MUMumakilVDIECF.MUMumakilVDIECF
        AnimationMode      = ONCE
      End
    End


    ; Decay when dead on the left side for the VETERAN UPGRADED VERSION
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_4 AFLAME 
      Model                = MUMumakilVDIECF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DECAY DEATH_4 AFLAME 
      Animation            = dead3
        AnimationName      = MUMumakilVDIEBF.MUMumakilVDIECF
        AnimationMode      = ONCE
      End
    End
    
    
       ; Decay when dead flat 
    ModelConditionState    = DYING DECAY DEATH_1 AFLAME
      Model                = MUMumakil_DIEBF
    End;

    AnimationState         = DYING DECAY DEATH_1 AFLAME
      Animation            = dead1
        AnimationName       = MUMumakil_DIEBF.MUMumakil_DIEBF
        AnimationMode      = ONCE
      End
    End
    
    ; Decay when dead on the right side
    ModelConditionState    = DYING DECAY DEATH_2 AFLAME
      Model                = MUMumakil_DIEAF
    End;

    AnimationState         = DYING DECAY DEATH_2 AFLAME
      Animation            = dead2
        AnimationName      = MUMumakil_DIEAF.MUMumakil_DIEAF
        AnimationMode      = ONCE
      End
    End

    ; Decay when dead on the left side
    ModelConditionState    = DYING DECAY DEATH_3 AFLAME
      Model                = MUMumakil_DIECF
    End;
    
    AnimationState         = DYING DECAY DEATH_3 AFLAME
      Animation            = dead3
        AnimationName      = MUMumakil_DIECF.MUMumakil_DIECF
        AnimationMode      = ONCE
      End
    End

	; Decay when dead from running off map    
    ModelConditionState    = DYING DECAY DEATH_4 AFLAME
      Model                = MUMumakil_DIECF
    End;

    AnimationState         = DYING DECAY DEATH_4 AFLAME
      Animation            = dead1
        AnimationName       = MUMumakil_DIECF.MUMumakil_DIECF
        AnimationMode      = ONCE
      End
    End
    
        
    ; Die - Fall flat
    AnimationState         = DYING DEATH_1 AFLAME
      Animation            = Die1
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEB
        AnimationMode      = ONCE
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes            
    End
    
    ; Fall to right side aflame
    AnimationState         = DYING DEATH_2 AFLAME
      Animation            = Die1
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEA
        AnimationMode      = ONCE
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes            
    End

    ; Fall to left side aflame
    AnimationState         = DYING DEATH_3 AFLAME
      Animation            = Die2
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEC
        AnimationMode      = ONCE
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes            
    End
    
    AnimationState         = DYING DEATH_4 AFLAME
      Animation            = Die4
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEF
        AnimationMode      = ONCE
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSplatDustDieF FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSplatDebrisDieF FollowBone:yes
        
    End
    
    TransitionState = TRANS_Accelerate1_aflame
      Animation = Transition
        ; TRANS_Stand TRANS_Moving00     ; transition from the standing into the moving animation
        ;TRANS_Turn_Slow TRANS_Moving00 ; transition from the slow turn into the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_ACCL1
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes      
    End

    TransitionState = TRANS_Accelerate2_aflame
      Animation = Transition
        AnimationName = MUMumakil_SKL.MUMumakil_ACCL2
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
      
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes      
    End

    TransitionState = TRANS_StopCharge_aflame
      Animation = Transition
        ;TRANS_Charging TRANS_Stand     ; transition from charging anim to the stop anim
        AnimationName = MUMumakil_SKL.MUMumakil_DECL4
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes      
    End

    TransitionState = TRANS_Stop66_aflame
      Animation = Transition
        ;TRANS_Moving66 TRANS_Stand     ; transition from between 66% - 100% of the moving animation
        AnimationName           = MUMumakil_SKL.MUMumakil_DECL3
        AnimationMode       = ONCE
        AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes      
    End

    TransitionState = TRANS_Stop33_aflame
      Animation = Transition
        ;TRANS_Moving33 TRANS_Stand     ; transition from between 33% - 66% of the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_DECL2
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes      
    End

    TransitionState = TRANS_Stop00_aflame
      Animation = Transition
        ;TRANS_Moving33 TRANS_Stand     ; transition from between 33% - 66% of the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_DECL1
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes      
    End    
    
    
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; END MUMAKIL AFALME ANIMATION STATES ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


     AnimationState        = MOVING TURN_LEFT_HIGH_SPEED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_WLKB1
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:27 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:43 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Left_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Right_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End

    AnimationState        = MOVING TURN_RIGHT_HIGH_SPEED
      Animation = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_WLKB2
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:2 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:27 Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:43 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:68 Name: FX_MUMRightFrontFootStep

      StateName           = Turn_Right_High_Speed
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        if Prev == "Moving" or Prev == "Turn_Left_High_Speed" then CurDrawableAllowToContinue() return end
      EndScript
    End
    
    AnimationState				=	MOVING BACKING_UP
		Animation				=	BackingUp
			AnimationName		=	MUMumakil_SKL.MUMumakil_BAKA
			AnimationMode		=	LOOP
		End

	  FXEvent	= Frame:39 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:0  Name: FX_MUMLeftFrontFootStep	  
	  FXEvent	= Frame:0  Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:39 Name: FX_MUMRightFrontFootStep

		Flags					=	RANDOMSTART
	End

    AnimationState        = MOVING TURN_LEFT
      Animation           = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNL
        AnimationMode       = LOOP
        AnimationBlendTime  = 30
      End

	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep

      StateName       = Turn_Slow
    End

    AnimationState        = MOVING TURN_RIGHT
      Animation           = Turn
        AnimationName = MUMumakil_SKL.MUMumakil_TRNR
        AnimationMode       = LOOP
        AnimationBlendTime  = 30
      End

	  FXEvent	= Frame:01 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:40 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:42 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:44 Name: FX_MUMLeftFrontFootStep
	  FXEvent	= Frame:45 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:85 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:88 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:89 Name: FX_MUMLeftFrontFootStep

      StateName       = Turn_Slow
    End


   AnimationState        = MOVING REALLYDAMAGED
      Animation = Walk
        AnimationName = MUMumakil_SKL.MUMumakil_WLKC
        AnimationMode       = LOOP
        AnimationBlendTime  = 15
      End

	  FXEvent	= Frame:46 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:8 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:55 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:31 Name: FX_MUMLeftFrontFootStep

      StateName           = Moving
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        ;if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Accelerate1") end
      EndScript
    End

    AnimationState        = MOVING
      Animation = Walk
        ;AnimationName       = MUMumakil_SKL.MUMumakil_RUNB
        AnimationName       = MUMumakil_SKL.MUMumakil_WLKA
        AnimationMode       = LOOP
        AnimationBlendTime  = 10
      End

	  FXEvent	= Frame:44 Name: FX_MUMRightRearFootStep
	  FXEvent	= Frame:9 Name: FX_MUMLeftRearFootStep
	  FXEvent	= Frame:74 Name: FX_MUMRightFrontFootStep
	  FXEvent	= Frame:31 Name: FX_MUMLeftFrontFootStep

      StateName           = Moving
      BeginScript
        Prev = CurDrawablePrevAnimationState()
        ;if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Accelerate1") end
      EndScript
    End

    TransitionState = TRANS_Accelerate1
      Animation = Transition
        AnimationName		= MUMumakil_SKL.MUMumakil_ACCL1
        AnimationMode       = ONCE
        AnimationBlendTime	= 10
      End
    End

    TransitionState = TRANS_Accelerate2
      Animation = Transition
        AnimationName		= MUMumakil_SKL.MUMumakil_ACCL2
        AnimationMode       = ONCE
        AnimationBlendTime  = 10
      End
    End

    TransitionState = TRANS_StopCharge
      Animation = Transition
        ;TRANS_Charging TRANS_Stand     ; transition from charging anim to the stop anim
        AnimationName = MUMumakil_SKL.MUMumakil_DECL4
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
    End

    TransitionState = TRANS_Stop66
      Animation = Transition
        ;TRANS_Moving66 TRANS_Stand     ; transition from between 66% - 100% of the moving animation
        AnimationName           = MUMumakil_SKL.MUMumakil_DECL3
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
    End

    TransitionState = TRANS_Stop33
      Animation = Transition
        ;TRANS_Moving33 TRANS_Stand     ; transition from between 33% - 66% of the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_DECL2
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
    End

    TransitionState = TRANS_Stop00
      Animation = Transition
        ;TRANS_Moving33 TRANS_Stand     ; transition from between 33% - 66% of the moving animation
        AnimationName = MUMumakil_SKL.MUMumakil_DECL1
        AnimationMode       = ONCE
        ;AnimationBlendTime  = 10
      End
    End


;-----------veteran
       ; Decay when dead flat for VETERAN UPGRADED UNITS
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DEATH_1 DECAY 
      Model                = MUMumakilVDIEBF
    End

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DEATH_1 DECAY 
      Animation            = dead1
        AnimationName       = MUMumakilVDIEBF.MUMUMAKILVDIEBF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End
 
    
;    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DEATH_1
;      Animation            = Die1
;        AnimationName      = MUMumakilVSKL.MUMumakilVDIEB
;        AnimationMode      = ONCE
;      End
;    End

    ; Decay when dead on the right side for VETERAN UPGRADED UNITS
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DEATH_2 DECAY
      Model                = MUMumakilVDIEAF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DEATH_2 DECAY
      Animation            = dead2
        AnimationName      = MUMumakilVDIEAF.MUMUMAKILVDIEAF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End

    ; Decay when dead on the left side for VETERAN UPGRADED UNITS
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DEATH_3 DECAY
      Model                = MUMumakilVDIECF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DEATH_3 DECAY
      Animation            = dead3
        AnimationName      = MUMumakilVDIECF.MUMUMAKILVDIECF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End
    
    ; Decay when dead on the left side for VETERAN UPGRADED UNITS
    ModelConditionState    = WEAPONSET_PLAYER_UPGRADE DYING DEATH_4 DECAY
      Model                = MUMumakilVDIECF
    End;

    AnimationState         = WEAPONSET_PLAYER_UPGRADE DYING DEATH_4 DECAY
      Animation            = dead3
        AnimationName      = MUMumakilVDIECF.MUMUMAKILVDIECF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End
;-----------veteran



       ; Decay when dead flat 
    ModelConditionState    = DYING DECAY DEATH_1
      Model                = MUMumakil_DIEBF
    End;

    AnimationState         = DYING DECAY DEATH_1
      Animation            = dead1
        AnimationName       = MUMumakil_DIEBF.MUMumakil_DIEBF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End
   
    AnimationState         = DYING DEATH_1
      Animation            = Die1
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEB
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End

    ; Decay when dead on the right side
    ModelConditionState    = DYING DECAY DEATH_2
      Model                = MUMumakil_DIEAF
    End;

    AnimationState         = DYING DECAY DEATH_2
      Animation            = dead2
        AnimationName      = MUMumakil_DIEAF.MUMumakil_DIEAF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End

    ; Decay when dead on the left side
    ModelConditionState    = DYING DECAY DEATH_3
      Model                = MUMumakil_DIECF
    End;

    AnimationState         = DYING DECAY DEATH_3
      Animation            = dead3
        AnimationName      = MUMumakil_DIECF.MUMumakil_DIECF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End
    
    ModelConditionState    = DYING DECAY DEATH_4
      Model                = MUMumakil_DIECF
    End;

    AnimationState         = DYING DECAY DEATH_4
      Animation            = dead3
        AnimationName      = MUMumakil_DIECF.MUMumakil_DIECF
        AnimationMode      = ONCE
        AnimationBlendTime  = 0
      End
    End

    ModelConditionState WEAPONSET_PLAYER_UPGRADE
		Model						= MUMumakilUP
	End

    ; Fall to right side
    AnimationState         = DYING DEATH_2
      Animation            = Die1
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEA
        AnimationMode      = ONCE
		
      End
		ParticleSysBone     = NONE NazgulSplatDust FollowBone:yes
		ParticleSysBone     = NONE TrebuchetImpactDebris FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDust FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDebris FollowBone:yes
    End

    ; Fall to left side
    AnimationState         = DYING DEATH_3
      Animation            = Die2
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEC
        AnimationMode      = ONCE
      End
		ParticleSysBone     = NONE NazgulSplatDust FollowBone:yes
		ParticleSysBone     = NONE TrebuchetImpactDebris FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDust FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDebris FollowBone:yes
    End
    
 
    AnimationState         = DYING DEATH_4
      Animation            = Die4
        AnimationName      = MUMumakil_SKL.MUMumakil_DIEF
        AnimationMode      = ONCE
      End
		ParticleSysBone     = NONE NazgulSplatDust FollowBone:yes
		ParticleSysBone     = NONE TrebuchetImpactDebris FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDust FollowBone:yes
		ParticleSysBone     = BN_TENT_01 OliphantSplatDebris FollowBone:yes
        ParticleSysBone     = BN_TENT_01 OliphantSplatDustDieF FollowBone:yes
        ParticleSysBone     = BN_TENT_01 OliphantSplatDebrisDieF FollowBone:yes
    End

    AnimationState			= AFLAME RUNNING_OFF_MAP
      Animation = IDLA ; 
        AnimationName = MUMumakil_SKL.MUMumakil_IDLA ; 
        AnimationPriority = 5 ; // will be chosen 5 times more often than a default (1) priority animation.
        AnimationBlendTime  = 10
      End
      Animation = IDLB 
        AnimationName = MUMumakil_SKL.MUMumakil_IDLB ; 
        AnimationBlendTime  = 10
      End
      ParticleSysBone     = BN_TENT_01 OliphantFire1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantSmoke1 FollowBone:yes
      ParticleSysBone     = BN_TENT_01 OliphantEmbers FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantFire2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantSmoke2 FollowBone:yes
      ParticleSysBone     = BN_TENT_02 OliphantEmbers FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO001 FireSmall FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireBuildingLargeSmoke FollowBone:yes
      ParticleSysBone     = B_CARGO002 FireSmall FollowBone:yes
      BeginScript
        Prev = CurDrawablePrevAnimationState()
       ; if Prev == "Charging" then CurDrawableSetTransitionAnimState("TRANS_StopCharge_aflame") return end
        if Prev == "Moving" and CurDrawablePrevAnimFraction()>0.66 then CurDrawableSetTransitionAnimState("TRANS_Stop66_aflame") return end
        if Prev == "Moving" and CurDrawablePrevAnimFraction()>0.33 then CurDrawableSetTransitionAnimState("TRANS_Stop33_aflame") return end
        if Prev == "Moving" then CurDrawableSetTransitionAnimState("TRANS_Stop00_aflame") return end
        if Prev == "Decelerate" then CurDrawableAllowToContinue() return end
      EndScript
      StateName = Idle
    End
    
    
    ModelConditionState =JUST_BUILT
		Model	=  MBMumkPen_BLDA
    End
    
    AnimationState  = JUST_BUILT
      Animation = Being_Built
        AnimationName     = MBMumkPen_BLDA.MBMumkPen_BLDA
        AnimationMode =ONCE
      End
    End
    
    ; Used by FOUR_LEGS_HUGE locomotor type to balance on the ground
    LeftFrontFootBone           = e_FrontLeft
    RightFrontFootBone          = e_FrontRight
    LeftRearFootBone            = e_BackLeft
    RightRearFootBone           = e_BackRight

  End
 
  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
	ThreatLevel = 3.0
  ThingClass = LARGE_MONSTER

  ShowHealthInSelectionDecal = Yes

	ShroudClearingRange = 280
	TransportSlotCount = 10
	ImmuneToShockwave = yes
	
	WeaponSet
		Conditions          = None 
		Weapon				= PRIMARY	  MordorMumakilCharge
		Weapon              = SECONDARY   MordorMumakilKnockback
	End
	  
	WeaponSet
		Conditions          = CLOSE_RANGE CONTESTING_BUILDING
		Weapon              = PRIMARY     MordorMumakilKnockback
	End
	  
	WeaponSet
		Conditions          = RAMPAGE
		Weapon              = PRIMARY     MumakilRampageTemp
	End
  
  	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon				= PRIMARY	  MordorMumakilCharge
		Weapon              = SECONDARY   MordorMumakilKnockback
	End

  	WeaponSet
		Conditions = SPECIAL_UPGRADE
		Weapon				= PRIMARY	  MordorMumakilChargeSpecial
		Weapon              = SECONDARY   MordorMumakilKnockback
	End
  
  ArmorSet
    Conditions      = None
    Armor           = MumakilArmor
    DamageFX        = None
  End
	VisionRange = 320.0
	DisplayName = OBJECT:MordorMumakil
	CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
	CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CommandSet = MordorMumakilCommandSet
	CommandPoints = 1
 
	; *** AUDIO Parameters ***;


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT PATH_THROUGH_INFANTRY

	BuildCost = 2000
	BuildTime = 3
	BuildFadeInOnCreateList = MumakilHowda
	BuildFadeInOnCreateTime = 30

	Body = DelayedDeathBody ModuleTag_02
		MaxHealth					= 3000                 ;BALANCE Mumakil Health
		DelayedDeathTime			= 1700
		CanRespawn					= No			; Unit can't get revived.
	End

	;Mumakil Upgrade
	Behavior = WeaponSetUpgrade ModuleTag_WeaponsetUpgrade
		TriggeredBy = Upgrade_MumakilLevel2
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AILuaEventsList	=	DemoMumakilFunctions
		RampageTime		=	13600
		TimeToEjectPassengersOnRampage = 8600
	End

	Behavior = FireWeaponUpdate FireWeaponUpdateModuleTag
		Weapon = MordorMumakilHeroEffect
		ChargingModeTrigger = Yes		; this will happen when in enraged mode
		AliveOnly = Yes					; this will only fire when the mumakil is alive
	End

	Behavior = FlammableUpdate ModuleTag_03a
		AflameDuration		= 999999;If I catch fire, I'll burn for this long...
		AflameDamageAmount	= 10	; taking this much damage...
		AflameDamageDelay	= 1000  ; this often.
		FlameDamageLimit	= 0
		BurnContained       = Yes
            FireFXList = FX:FX_FireStartWoosh

	End

	Behavior LifetimeUpdate LifetimeTag
		WaitForWakeUp	=	Yes
	End
   
	;Only triggered after a rampage takes place.	
	Behavior = RunOffMapBehavior ModuleTag_RunOff
		RequiresSpecificTrigger = Yes ;Triggers when DetachableRiderUpdate says so!
		RunOffMapWaypointName	= MumakilExit
		DieOnMap		= Yes
	End


	; Death weapons for fall flat
	Behavior = FireWeaponWhenDeadBehavior ModuleTag_07
	  RequiredStatus = DEATH_1
	  StartsActive = Yes
	  DelayTime = 250 
	  DeathWeapon = MordorOliphantDeathStraightInitial
	End

	; Death weapons for fall to right
	Behavior = FireWeaponWhenDeadBehavior ModuleTag_09
		RequiredStatus	= DEATH_2
		StartsActive	= Yes
		DelayTime		= 3300 
		DeathWeapon		= MordorOliphantToppleFinal
		WeaponOffset	= X:0 Y:-42 Z:0
	End

	; Death weapons for fall to left
	Behavior = FireWeaponWhenDeadBehavior ModuleTag_11
		RequiredStatus	= DEATH_3
		StartsActive	= Yes
		DelayTime		=  3300
		DeathWeapon		= MordorOliphantToppleFinal 
		WeaponOffset	= X:0 Y:42 Z:0
	End

	; Death weapon for falling death 	
	Behavior = FireWeaponWhenDeadBehavior ModuleTag_08
		RequiredStatus	= DEATH_4
		StartsActive	= Yes
		DelayTime		= 2466 
		DeathWeapon		= MordorOliphantE3Death
		WeaponOffset	= X:30 Y:42 Z:0
	End


	Behavior = HordeTransportContain  ModuleTag_12
		ObjectStatusOfContained				= UNSELECTABLE CAN_ATTACK
		;PassengersTestCollisionHeight		= 80
		Slots								= 1
		EnterSound							= GarrisonEnter
		ExitSound							= GarrisonExit
		DamagePercentToUnits				= 0%
		PassengerFilter						= ANY +INFANTRY +CAVALRY
		AllowEnemiesInside					= No
		AllowNeutralInside					= No
		ExitDelay							= 250
		NumberOfExitPaths					= 2 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
		ForceOrientationContainer			= No  ; otherwise contained units can't orient themselves towards their targets...
		PassengerBonePrefix					= PassengerBone:B_CARGO0 KindOf:INFANTRY
		EjectPassengersOnDeath				= Yes
	End

	Behavior = SpecialPowerModule ModuleTag_13                      
		SpecialPowerTemplate      = SpecialAbilityChargeAttack
		UpdateModuleStartsAttack  = Yes
	End
	Behavior = SpecialAbilityUpdate ModuleTag_14                
		SpecialPowerTemplate    = SpecialAbilityChargeAttack
		ChargeAttackSpeedBoost  = Yes
		PackTime                = 30000 ; 30 sec ability max life
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Monster Unit
		UnitWeight = 5 ; Olie counts as 5 infantry when computing group size
	End

	LocomotorSet
		Locomotor = MumakilLocomotor
		Condition = SET_NORMAL 
		Speed     = 20
	End
  
	LocomotorSet
		Locomotor	=	MumakilPanicLocomotor
		Condition	=	SET_PANIC
		Speed		=	40
	End
 
 
	LocomotorSet
		Locomotor	=	MumakilEnragedLocomotor
		Condition	=	SET_ENRAGED
		Speed		=	80
	End
	
  Behavior = PhysicsBehavior ModuleTag_04
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes			= ALL
    SinkDelay			= 25000
    SinkRate			= 2.4     ; in Dist/Sec
    DestructionDelay	= 60000
    DecayBeginTime		= 4000
    ProbabilityModifier = 10  ; Very, very unlikely unless clearance test fails
    DeathFlags			= DEATH_4      ; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
    FX					= INITIAL FX_OliphantDie
    ShadowWhenDead		= Yes      ; Volumetric shadows don't look so bad when sinking into ground
  End
 

  Behavior = ClearanceTestingSlowDeathBehavior ModuleTag_05a
    DeathTypes			= ALL -NORMAL
    SinkDelay			= 25000
    SinkRate			= 2.4     ; in Dist/Sec
    DestructionDelay	= 60000
    DecayBeginTime		= 6000
    ProbabilityModifier = 490  ; Very, very likely unless clearance test fails
    DeathFlags			= DEATH_2       ; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
    FX					= INITIAL FX_OliphantDie
    ShadowWhenDead		= Yes      ; Volumetric shadows don't look so bad when sinking into ground

    ; This is the area which must be clear for this slow death to go off
    ; Use Control-Shift-Alt-E in game to display this area
    ; Use debug.add l + clearancetestingslowdeathbehavior to get feedback on why test fails
    ClearanceGeometry				= Box
    ClearanceGeometryMajorRadius	= 64.0
    ClearanceGeometryMinorRadius	= 32.0
    ClearanceGeometryHeight			= 32.0
    ClearanceGeometryIsSmall		= No
    ClearanceGeometryOffset			= X:0 Y:-52 Z:0

    ClearanceMaxHeight				= 32
    ClearanceMaxHeightFraction		= 0.04 ; If more than 5% of the cells in the clearance geometry are more than 40 units above the Oliphant's base, don't fall (don't fall into cliffs)
    ClearanceMinHeight				= -32
    ClearanceMinHeightFraction		= 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below the Oliphant's base, don't fall (don't get left hanging over a cliff)
  End
 
  Behavior = ClearanceTestingSlowDeathBehavior ModuleTag_05b
    DeathTypes						= ALL -NORMAL
    SinkDelay						= 25000
    SinkRate						= 2.4     ; in Dist/Sec
    DestructionDelay				= 60000
    DecayBeginTime					= 6000
    ProbabilityModifier				= 490  ; Very, very likely unless clearance test fails
    DeathFlags						= DEATH_3       ; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
    FX								= INITIAL FX_OliphantDie
    ShadowWhenDead					= Yes      ; Volumetric shadows don't look so bad when sinking into ground

    ; This is the area which must be clear for this slow death to go off
    ; Use Control-Shift-Alt-E in game to display this area
    ; Use debug.add l + clearancetestingslowdeathbehavior to get feedback on why test fails
    ClearanceGeometry				= Box
    ClearanceGeometryMajorRadius	= 64.0
    ClearanceGeometryMinorRadius	= 32.0
    ClearanceGeometryHeight			= 32.0
    ClearanceGeometryIsSmall		= No
    ClearanceGeometryOffset			= X:0 Y:52 Z:0

    ClearanceMaxHeight				= 32
    ClearanceMinHeightFraction		= 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below the Oliphant's base, don't fall (don't get left hanging over a cliff)
    ClearanceMinHeight				= -32
    ClearanceMinHeightFraction		= 0.40 ; If more than 40% of the cells in the clearance geometry are more than 40 units below the Oliphant's base, don't fall (don't get left hanging over a cliff)
  End

  Behavior = SquishCollide ModuleTag_06
  End
 

  ; Extra secondary geometry to be used for crushing/squishing detection purposes
  GeometryOther = GeomType:BOX IsSmall:No Height:20 MajorRadius:25 MinorRadius:20 OffsetX:32   ; front 2 legs
  GeometryOther = GeomType:BOX IsSmall:No Height:20 MajorRadius:15 MinorRadius:20 OffsetX:-35  ; back 2 legs
  
  ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: OliphantFall Animation:MUMumakil_SKL.MUMumakil_DIEF Frames: 50 64  Animation:MUMumakil_SKL.MUMumakil_DIEA Frames: 90 
		AnimationSound = Sound: OliphantFall Animation:MUMumakil_SKL.MUMumakil_DIEB Frames: 85  Animation:MUMumakil_SKL.MUMumakil_DIEC Frames: 85 66 
		AnimationSound = Sound: MumakilRampageWhoosh1 Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 86  Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 262 
		AnimationSound = Sound: MumakilRampageWhoosh2 Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 139  Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 352 
		AnimationSound = Sound: MumakilRampageVox1 Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 1  Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 206 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_HITA Frames: 4 11 23  Animation:MUMumakil_SKL.MUMumakil_RUNA Frames: 4 9 14 19 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_RUNB Frames: 1 8 19 37  Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 89 100 127 185 208 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 259 270 297 355 378  Animation:MUMumakil_SKL.MUMumakil_TRNLA Frames: 7 15 20 24 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_TRNLB Frames: 7 22 44 50  Animation:MUMumakil_SKL.MUMumakil_MFDA Frames: 4 10 15 20 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_TRNL Frames: 45 80  Animation:MUMumakil_SKL.MUMumakil_WLKB1 Frames: 0 40 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_TRNR Frames: 40 83  Animation:MUMumakil_SKL.MUMumakil_WLKB2 Frames: 0 40 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_DECL1 Frames: 60  Animation:MUMumakil_SKL.MUMumakil_ATKA Frames: 103 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_DECL2 Frames: 24  Animation:MUMumakil_SKL.MUMumakil_WLKA Frames: 7 30 48 72 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_ATKB Frames: 115  Animation:MUMumakil_SKL.MUMumakil_DECL3 Frames: 25 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_ATKC Frames: 36  Animation:MUMumakil_SKL.MUMumakil_DECL4 Frames: 59 68 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_TRNRB Frames: 7 22 44 50  Animation:MUMumakil_SKL.MUMumakil_ATKD Frames: 55 63 
		AnimationSound = Sound: OliphantFootStep Animation:MUMumakil_SKL.MUMumakil_ACCL1 Frames: 29 51 59  Animation:MUMumakil_SKL.MUMumakil_ACCL2 Frames: 24 41 
		AnimationSound = Sound: OliphantIdleTrumpet Animation:MUMumakil_SKL.MUMumakil_IDLB Frames: 18 
		AnimationSound = Sound: MumakilRampageVox2 Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 103  Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 360 
		AnimationSound = Sound: MumakilRampageVox3 Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 6 
		AnimationSound = Sound: MumakilRampageStomp Animation:MUMumakil_SKL.MUMumakil_ATKA Frames: 39  Animation:MUMumakil_SKL.MUMumakil_RPGA Frames: 42 
		AnimationSound = Sound: MumakilRampageStomp Animation:MUMumakil_SKL.MUMumakil_RPGB Frames: 205  Animation:MUMumakil_SKL.MUMumakil_DIED Frames: 117 
  End

  Geometry = Box
  GeometryMajorRadius = 48.0
  GeometryMinorRadius = 24.0
  GeometryHeight = 88.8
  GeometryIsSmall = No
  
  DeadCollideSize = LARGE ; How big does the AOD consider this unit for damage fx & behavior.

  Shadow = SHADOW_VOLUME_NON_SELF_2; volumetric shadow that doesn't cast onto all objects using SHADOW_VOLUME_NON_SELF_1
  ShadowSizeX = 36; clamp the angle so shadow isn't as long.
;  ShadowSizeX = 60;
;  ShadowSizeY = 60;
;  ShadowTexture = ShadowI;
End

;;------------------------------------------------------------------------------
; aka Drummer Troll Temp
Object MordorDrummerTroll_Temp
	; ***ART Parameters ***
    ButtonImage = BMTrollCages_DrummerTroll
	
	Draw = W3DScriptedModelDraw ModuleTag_01  
	
		DefaultModelConditionState
			Model               = MuDrmTroll_SKN
		End
		
		IdleAnimationState
			Animation           		= IDLA
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_IDLA
				AnimationMode     	= ONCE
				AnimationBlendTime 	= 10
			End
			Animation           		= IDLB
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_IDLB
				AnimationMode     	= ONCE
				AnimationBlendTime 	= 10
				AnimationPriority = 10
			End
			Animation           		= IDLC
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_IDLC
				AnimationMode     	= ONCE
				AnimationBlendTime 	= 10
			End
			Animation           		= IDLD
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_IDLD
				AnimationMode     	= ONCE
				AnimationBlendTime 	= 10
			End
		End
		
		AnimationState				= MOVING PANICKING
			Animation			= RUNM
				AnimationName		= MuDrmTroll_SKL.MuDrmTroll_MFDA
				AnimationMode		= LOOP
			End
			Flags				= RANDOMSTART
		End
		
		AnimationState				= MOVING WANDER
			Animation			= WLKA
				AnimationName		= MuDrmTroll_SKL.MuDrmTroll_WLKA
				AnimationMode		= LOOP
			End
		End

		AnimationState = MOVING
			Animation = Moving
				AnimationName 		= MuDrmTroll_SKL.MuDrmTroll_WLKA
				AnimationMode 		= LOOP
			End
			Flags = RANDOMSTART
			;ParticleSysBone = None InfantryDustTrails
		End
		
		AnimationState				= MOVING
			Animation			= RUNA
				AnimationName		= MuDrmTroll_SKL.MuDrmTroll_RUNA
				AnimationMode		= LOOP
			End
			Flags				= RANDOMSTART
		End
		
		
		AnimationState        			= FIRING_OR_PREATTACK_A
			Animation           		= ATKA
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_ATKA
				AnimationMode     	= LOOP
			End
		End
		
		AnimationState				= DYING AFLAME
			Animation			= Fire
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_MFDA
				AnimationMode     	= LOOP
			End
		End	
		
		AnimationState        			= DYING
			Animation           		= DIEA
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_DTHA
				AnimationMode     	= ONCE
			End
		End
		
		AnimationState        			= THROWN_PROJECTILE
			Animation           		= FLYA
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_FLYA
				AnimationMode     	= LOOP
			End
		End
		
		AnimationState        			= STUNNED_STANDING_UP
			Animation           		= GTPA
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_GTPA
				AnimationMode     	= ONCE
			End
		End
		
		AnimationState        			= STUNNED
			Animation           		= LNDA
				AnimationName     	= MuDrmTroll_SKL.MuDrmTroll_LNDA
				AnimationMode     	= ONCE
			End
		End

    		AnimationState 				= HIT_REACTION HIT_LEVEL_1
			Animation 			= Hit_Level_1_a
	      			AnimationName 		= MuDrmTroll_SKL.MuDrmTroll_HITA
		    		AnimationMode = ONCE
			End
    		End

    		AnimationState 				= REACT_1
			Animation 			= Click_React_1
	      			AnimationName 		= MuDrmTroll_SKL.MuDrmTroll_ATNB
		    		AnimationMode = ONCE
			End
    		End
	End
		
; ***DESIGN parameters ***
	Side = Mordor
	EditorSorting = UNIT
	ThreatLevel = 1.0
	TransportSlotCount = 1

  WeaponSet
    Conditions          =  None
    Weapon              =  PRIMARY    MordorDrummerTrollPunch
  End

	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End



  VisionRange = 40.0
  ShroudClearingRange = 120
  DisplayName = OBJECT:MordorDrummerTroll
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
;  CommandSet = MordorCaveTrollCommandSet
  CommandPoints = 1
	

; *** AUDIO Parameters ***;



; *** ENGINEERING Parameters ***

  	RadarPriority = UNIT
  	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT WORKING_PASSENGER NO_FREEWILL_ENTER PATH_THROUGH_INFANTRY
 	
  	Body = DelayedDeathBody ModuleTag_02
    	MaxHealth         = 100                  ;BALANCE CaveTroll Health
    	MaxHealthDamaged  = 50
    	RecoveryTime      = 5000
		DoHealthCheck				= No			; Don't want to get the delayed death behaviour when we die normally.
		DelayedDeathTime			= 5000
		CanRespawn					= No			; Unit can't get revived.
  	End
  
	Behavior LifetimeUpdate LifetimeTag
		WaitForWakeUp	=	Yes
	End
   
	Behavior = AIUpdateInterface ModuleTag_03
    		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
     		AILuaEventsList = TrollFunctions
     		AttackPriority				= 	AttackPriority_Cavalry
  	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 32
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = 32
	End 

  Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
    HitReactionLifeTimer1 = 7 ; level 1 (light  damage)  hit reaction animations in frames (5 per sec)
    HitReactionLifeTimer2 = 15 ; level 2 (medium damage)  hit reaction animations in frames (5 per sec)
    HitReactionLifeTimer3 = 10 ; level 3 (heavy  damage)  hit reaction animations in frames (5 per sec)

    HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
    HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
    HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
  End

  Behavior = ClickReactionBehavior ClickBehaviorModuleTag
    ClickReactionTimer = 600 ; 10 seconds in ticks
    ReactionFrames1 = 15  ; in frames (5 per sec)
    ReactionFrames2 = 7  ; in frames (5 per sec)
    ReactionFrames3 = 7  ; in frames (5 per sec)
    ReactionFrames4 = 15  ; in frames (5 per sec)
    ReactionFrames5 = 18 ; in frames (5 per sec)
  End

  Behavior = SlowDeathBehavior ModuleTag_50
    DeathTypes = ALL
    DestructionDelay = 35000
    DecayBeginTime = 5000
    SinkDelay = 18000
    SinkRate = 0.64     ; in Dist/Sec
    Sound = INITIAL TrollDie
    ProbabilityModifier = 50
;   DeathFlags   = DYING; Tell model which death animation to play. Sets BOTH model condition and object status bits.
  End

  	Behavior = PhysicsBehavior ModuleTag_04
    		GravityMult = 1.0
    		ShockStandingTime = 3000	;msec
  	End


	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	

  Geometry = CYLINDER
  GeometryMajorRadius = 17.6
  GeometryHeight = 32.0
  GeometryIsSmall = No
  Shadow                = SHADOW_VOLUME

End


;------------------------------------------------------------------------------
Object Water Plane

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    DefaultModelConditionState
      Model               = WaterPlane
    End
End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  EditorSorting     = SYSTEM
  ArmorSet
    Armor = NoArmor
  End
  VisionRange = 0.0

  ; *** ENGINEERING Parameters ***
  KindOf = IMMOBILE

    
End


; FILE: CivilianBuilding.ini //////////////////////////////////////////////////
; This file contains only buildings that are not part of any specific
; game faction.  Here is where you will find "neutral" buildings and
; any related objects to those buildings (such as debris or bibs)
;//////////////////////////////////////////////////////////////////////////////

 
Object BaseCenterGeneric
	EditorSorting   = SYSTEM

	Draw = W3DScriptedModelDraw ModuleTag_01

    	DefaultModelConditionState
      		Model = None
    	End
    	
		ModelConditionState = WORLD_BUILDER
			Model = NBasePin
		End
	End
	
	KindOf = IMMOBILE BASE_FOUNDATION CASTLE_CENTER
  
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT

  		UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
;		MaxCastleRadius = 100.0
	End  
End

;----------------------------------------------------------

Object CampFlag

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NONE	;NCampsite_SKN ; This is supposed to be invisable.... S.O.
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = NBasePin
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End

	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End
;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


	; ***DESIGN parameters ***
	DisplayName         = OBJECT:CampFlag  
	EditorSorting   = STRUCTURE
	Side            = Civilian
	ArmorSet
		Conditions      = None
		Armor           = InvulnerableArmor
		DamageFX        = EmptyDamageFX   ; just to avoid an assert
	End

	CommandSet = CampFlagCommandSet

	; *** ENGINEERING Parameters ***  
	RadarPriority       = STRUCTURE
	KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
	Body                = ImmortalBody ModuleTag_02
		MaxHealth       = 1
	End  
	  
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  		UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  		CastleToUnpackForFaction  = Gondor  Camp_GondorSW 2000
  		CastleToUnpackForFaction  = Mordor  Camp_MordorSW 2000  
  		CastleToUnpackForFaction  = Isengard  Camp_Isengard 2000
  		CastleToUnpackForFaction  = Rohan  Camp_Rohan 2000

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

		;FactionDecal = Gondor		GBCampFloor		675.0
		;FactionDecal = Rohan		IBCampFloor		650.0
		;FactionDecal = Mordor		MBCampFloor		650.0
		;FactionDecal = Isengard		IBCampFloor		650.0
		
		MaxCastleRadius = 280.0
		FadeTime = 2.0 ; 2 seconds
		
	End  
  
	Geometry            = CYLINDER
	GeometryMajorRadius = 24.0
	GeometryMinorRadius = 24.0
	GeometryHeight      = 24.0
	GeometryIsSmall     = No
	Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------

Object CastleFlag

;SelectPortrait = BPRCamp

 ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCastle_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone05 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = NBasePin
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCastle_SKL.NCastle_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCastle_SKL.NCastle_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCastle_SKL.NCastle_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCastle_SKL.NCastle_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End


;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


	; ***DESIGN parameters ***
	DisplayName         = OBJECT:CastleFlag    
	EditorSorting   = STRUCTURE
	Side            = Civilian
	ArmorSet
		Conditions      = None
		Armor           = InvulnerableArmor
		DamageFX        = EmptyDamageFX   ; just to avoid an assert
	End

	CommandSet = CastleFlagCommandSet
	   
	; *** ENGINEERING Parameters ***  
	RadarPriority       = STRUCTURE
	KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
	Body                = ImmortalBody  ModuleTag_02
		MaxHealth       = 1.0
	End  
	  
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	  
		UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  		CastleToUnpackForFaction  = Gondor  Castle_Gondor GONDOR_FLAG_CASTLE_UNPACK_COST
  		CastleToUnpackForFaction  = Rohan  Castle_Rohan  ROHAN_FLAG_CASTLE_UNPACK_COST
  		CastleToUnpackForFaction  = Mordor  Castle_Mordor MORDOR_FLAG_CASTLE_UNPACK_COST 
  		CastleToUnpackForFaction  = Isengard  Castle_Isengard ISENGARD_FLAG_CASTLE_UNPACK_COST

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 420.0
		ScanDistance = 150
	End  
	  
	Geometry				= BOX
	GeometryName			= CampFlag
	GeometryMajorRadius	= 52.0
	GeometryMinorRadius	= 52.0
	GeometryHeight		= 24.0
	GeometryIsSmall		= No
	Shadow				= SHADOW_VOLUME

End

ChildObject CastleFlagNW CastleFlag
	; *** ART Parameters ***
  	Draw = W3DScriptedModelDraw ModuleTag_01
  	    OkToChangeModelColor  = Yes
   		DefaultModelConditionState
   			Model = NCastle_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone05 TorchGlow FollowBone:Yes
	   	End
		ModelConditionState = WORLD_BUILDER
			Model = Castle_FlagNW
		End
    	IdleAnimationState
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
    	End    
		AnimationState = JUST_BUILT ; for instant-build
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_A
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_LAST
		End	    
		AnimationState = UNPACKING
			Animation
				AnimationName = NCastle_SKL.NCastle_A
				AnimationMode = ONCE	
				AnimationBlendTime = 90
			End
		Flags = START_FRAME_LAST
		End
		AnimationState = PACKING
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_IDLA
				AnimationMode = LOOP
				AnimationBlendTime = 90
			End
		End	    
  	End

	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	    UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Castle_GondorNW GONDOR_FLAG_CASTLE_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Castle_RohanNW ROHAN_FLAG_CASTLE_UNPACK_COST  
	  	CastleToUnpackForFaction  = Mordor  Castle_MordorNW MORDOR_FLAG_CASTLE_UNPACK_COST     
	  	CastleToUnpackForFaction  = Isengard  Castle_IsengardNW ISENGARD_FLAG_CASTLE_UNPACK_COST 

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 420.0
		ScanDistance = 150
	End  
End

ChildObject CastleFlagNE CastleFlag
; *** ART Parameters ***
  	Draw = W3DScriptedModelDraw ModuleTag_01
  	    OkToChangeModelColor  = Yes
   		DefaultModelConditionState
   			Model = NCastle_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone05 TorchGlow FollowBone:Yes
	   	End
		ModelConditionState = WORLD_BUILDER
			Model = Castle_FlagNE
		End
    	IdleAnimationState
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
    	End    
		AnimationState = JUST_BUILT ; for instant-build
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_A
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_LAST
		End	    
		AnimationState = UNPACKING
			Animation
				AnimationName = NCastle_SKL.NCastle_A
				AnimationMode = ONCE	
				AnimationBlendTime = 90
			End
		Flags = START_FRAME_LAST
		End
		AnimationState = PACKING
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_IDLA
				AnimationMode = LOOP
				AnimationBlendTime = 90
			End
		End	    
  	End
  	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	    UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Castle_GondorNE GONDOR_FLAG_CASTLE_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Castle_RohanNE ROHAN_FLAG_CASTLE_UNPACK_COST
	  	CastleToUnpackForFaction  = Mordor  Castle_MordorNE MORDOR_FLAG_CASTLE_UNPACK_COST     
	  	CastleToUnpackForFaction  = Isengard  Castle_IsengardNE ISENGARD_FLAG_CASTLE_UNPACK_COST

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 420.0
		ScanDistance = 150
	End  	
End

;------------------------------------------------------

ChildObject CastleFlagSW CastleFlag
; *** ART Parameters ***
  	Draw = W3DScriptedModelDraw ModuleTag_01
  	    OkToChangeModelColor  = Yes
   		DefaultModelConditionState
   			Model = NCastle_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone05 TorchGlow FollowBone:Yes
	   	End
		ModelConditionState = WORLD_BUILDER
			Model = Castle_FlagSW
		End
    	IdleAnimationState
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
    	End    
		AnimationState = JUST_BUILT ; for instant-build
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_A
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_LAST
		End	    
		AnimationState = UNPACKING
			Animation
				AnimationName = NCastle_SKL.NCastle_A
				AnimationMode = ONCE	
				AnimationBlendTime = 90
			End
		Flags = START_FRAME_LAST
		End
		AnimationState = PACKING
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_IDLA
				AnimationMode = LOOP
				AnimationBlendTime = 90
			End
		End	    
  	End
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	    UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Castle_GondorSW GONDOR_FLAG_CASTLE_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Castle_RohanSW ROHAN_FLAG_CASTLE_UNPACK_COST  
	  	CastleToUnpackForFaction  = Mordor  Castle_MordorSW  MORDOR_FLAG_CASTLE_UNPACK_COST    
	  	CastleToUnpackForFaction  = Isengard  Castle_IsengardSW  ISENGARD_FLAG_CASTLE_UNPACK_COST

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 420.0
		ScanDistance = 150
	End  
End

ChildObject CastleFlagSE CastleFlag
; *** ART Parameters ***
  	Draw = W3DScriptedModelDraw ModuleTag_01
  	    OkToChangeModelColor  = Yes
   		DefaultModelConditionState
   			Model = NCastle_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone05 TorchGlow FollowBone:Yes
	   	End
		ModelConditionState = WORLD_BUILDER
			Model = Castle_FlagSE
		End
    	IdleAnimationState
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
    	End    
		AnimationState = JUST_BUILT ; for instant-build
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_A
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_LAST
		End	    
		AnimationState = UNPACKING
			Animation
				AnimationName = NCastle_SKL.NCastle_A
				AnimationMode = ONCE	
				AnimationBlendTime = 90
			End
		Flags = START_FRAME_LAST
		End
		AnimationState = PACKING
			Animation = flag
				AnimationName = NCastle_SKL.NCastle_IDLA
				AnimationMode = LOOP
				AnimationBlendTime = 90
			End
		End	    
  	End
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	    UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Castle_GondorSE GONDOR_FLAG_CASTLE_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Castle_RohanSE ROHAN_FLAG_CASTLE_UNPACK_COST  
	  	CastleToUnpackForFaction  = Mordor  Castle_MordorSE MORDOR_FLAG_CASTLE_UNPACK_COST     
	  	CastleToUnpackForFaction  = Isengard  Castle_IsengardSE ISENGARD_FLAG_CASTLE_UNPACK_COST 

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 420.0
		ScanDistance = 150
	End  
End




;------------------------------------------------------------------------------

Object EconomyPlotFlag

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NFarm_SKN
                    ParticleSysBone   = FXbone01 FireSmoke FollowBone:Yes
;                    ParticleSysBone   = FXbone01 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = EcoPlot_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End

  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NFarm_Bib
	End

;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:EconomyFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = EconomyFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE BASE_SITE
  						;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going

  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
 
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor MORDOR_FLAG_ECONOMY_UNPACK_COST
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Mordor ISENGARD_FLAG_ECONOMY_UNPACK_COST
  	CastleToUnpackForFaction  = Rohan   EconomyFarm_Rohan ROHAN_FLAG_ECONOMY_UNPACK_COST
  	CastleToUnpackForFaction  = Gondor  Farm_Gondor GONDOR_FLAG_ECONOMY_UNPACK_COST

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
;	MaxCastleRadius = 100.0
  End  
  
  
  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetRohanDualEconomy
		TriggeredBy = Upgrade_RohanDualEconomyChoice
		CommandSet = RohanEconomyPlotCommandSet
	End	  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetEvilDualEconomy
		TriggeredBy = Upgrade_MordorDualEconomyChoice
		CommandSet = MordorEconomyPlotCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_commandSetIsengardDualEconomy
		TriggeredBy = Upgrade_IsengardDualEconomyChoice
		CommandSet = IsengardEconomyPlotCommandSet
	End	  


  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End


;------------------------------------------------------------------------------
Object EconomyPlotFlag_GondorPreBuilt01

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NFarm_SKN
                    ParticleSysBone   = FXbone01 FireSmoke FollowBone:Yes
;                    ParticleSysBone   = FXbone01 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = EcoPlot_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End


  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NFarm_Bib
	End

;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:EconomyFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = EconomyFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE BASE_SITE
  						;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going

  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
 
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor  
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Mordor
  	CastleToUnpackForFaction  = Rohan   EconomyFarm_Rohan
  	CastleToUnpackForFaction  = Gondor  Farm_Gondor

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
  	
  	PreBuiltList = GondorFarm 1	
  	PreBuiltPlyr = PlyrGondor 	
;	MaxCastleRadius = 100.0
  End  
  
  
    Behavior = CommandSetUpgrade ModuleTag_commandSetRohanDualEconomy
		TriggeredBy = Upgrade_RohanDualEconomyChoice
		CommandSet = RohanEconomyPlotCommandSet
	End	  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetEvilDualEconomy
		TriggeredBy = Upgrade_MordorDualEconomyChoice
		CommandSet = MordorEconomyPlotCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_commandSetIsengardDualEconomy
		TriggeredBy = Upgrade_IsengardDualEconomyChoice
		CommandSet = IsengardEconomyPlotCommandSet
	End	

  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object EconomyPlotFlag_GondorPreBuilt02

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NFarm_SKN
                    ParticleSysBone   = FXbone01 FireSmoke FollowBone:Yes
;                    ParticleSysBone   = FXbone01 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = EcoPlot_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End

  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NFarm_Bib
	End
	
;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:EconomyFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = EconomyFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE BASE_SITE
    					;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going

  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
 
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor  
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Mordor
  	CastleToUnpackForFaction  = Rohan   EconomyFarm_Rohan
  	CastleToUnpackForFaction  = Gondor  Farm_Gondor

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
  	
  	PreBuiltList = GondorFarm 1	
  	PreBuiltPlyr = PlyrGondor 	
;	MaxCastleRadius = 100.0
  End  
  
    Behavior = CommandSetUpgrade ModuleTag_commandSetRohanDualEconomy
		TriggeredBy = Upgrade_RohanDualEconomyChoice
		CommandSet = RohanEconomyPlotCommandSet
	End	  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetEvilDualEconomy
		TriggeredBy = Upgrade_MordorDualEconomyChoice
		CommandSet = MordorEconomyPlotCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_commandSetIsengardDualEconomy
		TriggeredBy = Upgrade_IsengardDualEconomyChoice
		CommandSet = IsengardEconomyPlotCommandSet
	End	  

  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object EconomyPlotFlag_GondorPreBuilt03

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NFarm_SKN
                    ParticleSysBone   = FXbone01 FireSmoke FollowBone:Yes
;                    ParticleSysBone   = FXbone01 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = EcoPlot_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End

  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NFarm_Bib
	End

;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:EconomyFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = EconomyFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE BASE_SITE 
   						;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going
  
  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
 
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor  
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Mordor
  	CastleToUnpackForFaction  = Rohan   EconomyFarm_Rohan
  	CastleToUnpackForFaction  = Gondor  Farm_Gondor

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
  	
  	PreBuiltList = GondorFarm 1	
  	PreBuiltPlyr = PlyrGondor 	
;	MaxCastleRadius = 100.0
  End  
  
  
    Behavior = CommandSetUpgrade ModuleTag_commandSetRohanDualEconomy
		TriggeredBy = Upgrade_RohanDualEconomyChoice
		CommandSet = RohanEconomyPlotCommandSet
	End	  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetEvilDualEconomy
		TriggeredBy = Upgrade_MordorDualEconomyChoice
		CommandSet = MordorEconomyPlotCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_commandSetIsengardDualEconomy
		TriggeredBy = Upgrade_IsengardDualEconomyChoice
		CommandSet = IsengardEconomyPlotCommandSet
	End	  

  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object EconomyPlotFlag_GondorPreBuilt04

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NFarm_SKN
                    ParticleSysBone   = FXbone01 FireSmoke FollowBone:Yes
;                    ParticleSysBone   = FXbone01 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = EcoPlot_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End


  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NFarm_Bib
	End
	
;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:EconomyFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = EconomyFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE BASE_SITE
  						;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going
  						
  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
 
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor  
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Mordor
  	CastleToUnpackForFaction  = Rohan   EconomyFarm_Rohan
  	CastleToUnpackForFaction  = Gondor  Farm_Gondor

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
  	
  	PreBuiltList = GondorFarm 1	
  	PreBuiltPlyr = PlyrGondor 	
;	MaxCastleRadius = 100.0
  End  
  
  
    Behavior = CommandSetUpgrade ModuleTag_commandSetRohanDualEconomy
		TriggeredBy = Upgrade_RohanDualEconomyChoice
		CommandSet = RohanEconomyPlotCommandSet
	End	  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetEvilDualEconomy
		TriggeredBy = Upgrade_MordorDualEconomyChoice
		CommandSet = MordorEconomyPlotCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_commandSetIsengardDualEconomy
		TriggeredBy = Upgrade_IsengardDualEconomyChoice
		CommandSet = IsengardEconomyPlotCommandSet
	End	  

  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object EconomyPlotFlag_GondorPreBuilt05

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NFarm_SKN
                    ParticleSysBone   = FXbone01 FireSmoke FollowBone:Yes
;                    ParticleSysBone   = FXbone01 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = EcoPlot_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End


  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NFarm_Bib
	End
	
;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:EconomyFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = EconomyFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE BASE_SITE
  						;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going
    
  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
 
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor  
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Mordor
  	CastleToUnpackForFaction  = Rohan   EconomyFarm_Rohan
  	CastleToUnpackForFaction  = Gondor  Farm_Gondor

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
  	
  	PreBuiltList = GondorFarm 1	
  	PreBuiltPlyr = PlyrGondor 	
;	MaxCastleRadius = 100.0
  End  
  
  
    Behavior = CommandSetUpgrade ModuleTag_commandSetRohanDualEconomy
		TriggeredBy = Upgrade_RohanDualEconomyChoice
		CommandSet = RohanEconomyPlotCommandSet
	End	  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetEvilDualEconomy
		TriggeredBy = Upgrade_MordorDualEconomyChoice
		CommandSet = MordorEconomyPlotCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_commandSetIsengardDualEconomy
		TriggeredBy = Upgrade_IsengardDualEconomyChoice
		CommandSet = IsengardEconomyPlotCommandSet
	End		  
  


  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object EconomyPlotFlag_GondorPreBuilt06

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NFarm_SKN
                    ParticleSysBone   = FXbone01 FireSmoke FollowBone:Yes
;                    ParticleSysBone   = FXbone01 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = EcoPlot_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End


  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NFarm_Bib
	End

;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:EconomyFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = EconomyFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE BASE_SITE
    					;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going
  
  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
 
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor  
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Mordor
  	CastleToUnpackForFaction  = Rohan   EconomyFarm_Rohan
  	CastleToUnpackForFaction  = Gondor  Farm_Gondor

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
  	
  	PreBuiltList = GondorFarm 1	
  	PreBuiltPlyr = PlyrGondor 	
;	MaxCastleRadius = 100.0
  End  
  
  
    Behavior = CommandSetUpgrade ModuleTag_commandSetRohanDualEconomy
		TriggeredBy = Upgrade_RohanDualEconomyChoice
		CommandSet = RohanEconomyPlotCommandSet
	End	  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetEvilDualEconomy
		TriggeredBy = Upgrade_MordorDualEconomyChoice
		CommandSet = MordorEconomyPlotCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_commandSetIsengardDualEconomy
		TriggeredBy = Upgrade_IsengardDualEconomyChoice
		CommandSet = IsengardEconomyPlotCommandSet
	End		  

  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object EconomyPlotFlag_GondorPreBuilt07

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NFarm_SKN
                    ParticleSysBone   = FXbone01 FireSmoke FollowBone:Yes
;                    ParticleSysBone   = FXbone01 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = EcoPlot_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End


  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NFarm_Bib
	End
	
;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:EconomyFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = EconomyFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE BASE_SITE
  						;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going
  
  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
 
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor  
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Mordor
  	CastleToUnpackForFaction  = Rohan   EconomyFarm_Rohan
  	CastleToUnpackForFaction  = Gondor  Farm_Gondor

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
  	
  	PreBuiltList = GondorFarm 1	
  	PreBuiltPlyr = PlyrGondor 	
;	MaxCastleRadius = 100.0
  End  
  
    Behavior = CommandSetUpgrade ModuleTag_commandSetRohanDualEconomy
		TriggeredBy = Upgrade_RohanDualEconomyChoice
		CommandSet = RohanEconomyPlotCommandSet
	End	  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetEvilDualEconomy
		TriggeredBy = Upgrade_MordorDualEconomyChoice
		CommandSet = MordorEconomyPlotCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_commandSetIsengardDualEconomy
		TriggeredBy = Upgrade_IsengardDualEconomyChoice
		CommandSet = IsengardEconomyPlotCommandSet
	End	  

  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object EconomyPlotFlag_GondorPreBuilt08

;SelectPortrait = BPRCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NFarm_SKN
                    ParticleSysBone   = FXbone01 FireSmoke FollowBone:Yes
;                    ParticleSysBone   = FXbone01 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = EcoPlot_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NFarm_SKL.NFarm_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NFarm_SKL.NFarm_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End


  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NFarm_Bib
	End
	
;----------------------- AUDIO -------------------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:EconomyFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = EconomyFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE BASE_SITE
  						;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going
    
  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
 
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor  
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Mordor
  	CastleToUnpackForFaction  = Rohan   EconomyFarm_Rohan
  	CastleToUnpackForFaction  = Gondor  Farm_Gondor

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
  	
  	PreBuiltList = GondorFarm 1	
  	PreBuiltPlyr = PlyrGondor 	
;	MaxCastleRadius = 100.0
  End  
  
    Behavior = CommandSetUpgrade ModuleTag_commandSetRohanDualEconomy
		TriggeredBy = Upgrade_RohanDualEconomyChoice
		CommandSet = RohanEconomyPlotCommandSet
	End	  
  	Behavior = CommandSetUpgrade ModuleTag_commandSetEvilDualEconomy
		TriggeredBy = Upgrade_MordorDualEconomyChoice
		CommandSet = MordorEconomyPlotCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_commandSetIsengardDualEconomy
		TriggeredBy = Upgrade_IsengardDualEconomyChoice
		CommandSet = IsengardEconomyPlotCommandSet
	End		  

  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End


;------------------------------------------------------------------------------
ChildObject EconomyPlotFlagMuliplayer EconomyPlotFlag
  
  Behavior = CastleBehavior ModuleTag_castle
  	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
  	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
  	UseSecondaryBuildList = Yes  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
   	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Mordor  Lumbermill_Mordor MORDOR_FLAG_ECONOMY_UNPACK_COST
  	CastleToUnpackForFaction  = Isengard  Lumbermill_Isengard ISENGARD_FLAG_ECONOMY_UNPACK_COST 
   	CastleToUnpackForFaction  = Rohan  EntMoot_Rohan ROHAN_FLAG_ECONOMY_UNPACK_COST ROHAN_FLAG_ECONOMY_UNPACK_COMMANDPOINTS
   	CastleToUnpackForFaction  = Gondor  Farm_Gondor GONDOR_FLAG_ECONOMY_UNPACK_COST
	FilterCrew				= ANY +MONSTER 																									;MONSTER is for Ents, dude. -MLo
	FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER +MONSTER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	CrewReleaseFX = FX_EntMootRelease		
	CrewPrepareFX = FX_EntMootPrepare		
	CrewPrepareInterval 12000 ; six second interval

;	MaxCastleRadius = 100.0
  End  

End



;------------------------------------------------------------------------------
; this is just a handy placeholder to allow units to have a target
; that can't get hurt, to test repeated firing
Object IndestructibleThing

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = TempBldgLg
    End    
  End

  ; ***DESIGN parameters ***
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 99999.0
  End
  Geometry            = BOX
  GeometryMajorRadius = 28.0
  GeometryMinorRadius = 28.0
  GeometryHeight      = 56.0
  GeometryIsSmall     = No

End


;------------------------------------------------------------------------------
;Rohan Barracks
Object ElvenBarracks
 
 SelectPortrait = BPCElvenBarracks
 
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    
    DefaultModelConditionState
      Model = NBElvnBarx 
    End
    
    IdleAnimationState
		StateName	=	STATE_Idle
		Animation = IdleA
			AnimationName		=	NBElvnBarx.NBElvnBarx
			AnimationMode		=	LOOP 
			AnimationBlendTime	=	0
		End
	End    
    
    ;------------ Build Up States -------
    ModelConditionState   = AWAITING_CONSTRUCTION 
      Model               = NBElvnBarx_A
;		ParticleSysBone	  = NONE BuildingDoughnutCloud
    End;
    AnimationState        = AWAITING_CONSTRUCTION
      Animation           =  NBElvnBarx_A
        AnimationName     =  NBElvnBarx_A.NBElvnBarx_A
        AnimationMode     = MANUAL
        AnimationBlendTime = 0
      End
	  Flags				  = START_FRAME_FIRST
    End

    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
      Model               = NBElvnBarx_A
		ParticleSysBone   = CONSTDUSTBONE01 BuildingContructDust FollowBone:Yes
    End;
    
    AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
		Animation           = NBElvnBarx_A
			AnimationName     = NBElvnBarx_A.NBElvnBarx_A
			AnimationMode     = MANUAL
			AnimationBlendTime = 0
		End
		Flags				  = START_FRAME_FIRST
		StateName			  = BeingConstructed
		BeginScript
			CurDrawablePlaySound("GondorBarracksBeginConstruction")
		EndScript
    End
    
      ;--damaged building
      ModelConditionState  = DESTROYED_FRONT
      Model         = NBElvnBarx_D2
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 SmokeBuildingLarge
		ParticleSysBone FireSmall05 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("NBElvnBarxDP1")
      EndScript
    End
    
        ModelConditionState  = DESTROYED_RIGHT
      Model         = NBElvnBarx_D2
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 SmokeBuildingLarge
		ParticleSysBone FireSmall05 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("NBElvnBarxDP2")
      EndScript
    End
    

    ModelConditionState  = DESTROYED_BACK
      Model         = NBElvnBarx_D2
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 SmokeBuildingLarge
		ParticleSysBone FireSmall05 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("NBElvnBarxDP3")
      EndScript
    End

	ModelConditionState  = DESTROYED_LEFT
      Model         = NBElvnBarx_D2
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 SmokeBuildingLarge
		ParticleSysBone FireSmall05 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("NBElvnBarxDP4")
      EndScript
    End
    
    
    ModelConditionState  = DAMAGED
      Model         = NBElvnBarx_D1
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingMedium
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 FireBuildingSmall
		ParticleSysBone FireSmall05 SmokeBuildingLarge
    End
    AnimationState = DAMAGED
	EnteringStateFX	= FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = NBElvnBarx_D2
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 SmokeBuildingLarge
		ParticleSysBone FireSmall05 SmokeBuildingLarge
    End
    AnimationState = REALLYDAMAGED
	EnteringStateFX	= FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = NBElvnBarx_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = RUBBLE
      BeginScript
        CurDrawableHideSubObject("NBElvnBarxDP1")
        CurDrawableHideSubObject("NBElvnBarxDP2")
        CurDrawableHideSubObject("NBElvnBarxDP3")
        CurDrawableHideSubObject("NBElvnBarxDP4")
      EndScript
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End  
  
  End

  Draw = W3DFloorDraw DrawFloor_Bib    
     ModelName = NBElvnBarx_Bib
  End
  
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:ElvenBarracks
  Side                = Civilian
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
  
 
  BuildCost           = 300
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

 CommandSet = ElvenBarracksCommandSet


; *** AUDIO Parameters ***

	VoiceSelect			= RohanElvenBarracksSelect

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	VoiceSelectUnderConstruction	= BuildingEvilVoiceSelectUnderConstruction

	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT

  Behavior = ProductionUpdate ProductionUpdateModuleTag
    ; nothing, but is required if we have any Object-level Upgrades!
  End
  
  Behavior = QueueProductionExitUpdate QueueProductionModuleTag
		UnitCreatePoint    = X:0.0 Y:7.2 Z:0.0
		PlacementViewAngle = 180
		NaturalRallyPoint  = X:40.0 Y:7.2 Z:0.0
		ExitDelay = 750
 End
 
 
 
; MAP DESIGNER: BRING THIS BACK IF YOU WANT THE AUTOPRODUCTION IN YOUR MAP -MLo
; Behavior      = SpawnUnitBehavior ModuleTag_spawnUnit
;		UnitName		= RohanElvenWarriorHorde
;		UnitCommand		= Command_ConstructRohanElvenWarriorHorde
; End
 
 
  Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
    WorkerName		  = RohanWorkerNoSelect
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 3000.0
    MaxHealthDamaged  = 2000.0
    MaxHealthReallyDamaged =1000.0
    
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
    
    DamageCreationList = OCL_RBBarracks_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_RBBarracks_Chunk2 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_RBBarracks_Chunk3 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_RBBarracks_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
    
  End
  
  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = WINDOW_N01
    FireWindowName          = WINDOW_F01
    GlowWindowName			= WINDOW_G01
	 FireName				= FIRE01
     FireName				= FIRE02
  End
  
  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End

  Behavior                  = StructureCollapseUpdate ModuleTag_06
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
  End
  
  Behavior                = TransitionDamageFX ModuleTag_08
   ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
 
  Geometry              = BOX
  GeometryMajorRadius   = 50.6
  GeometryMinorRadius   = 20.6
  GeometryHeight        = 46.8
  GeometryIsSmall       = No
  GeometryOffset		= X:-15 Y:8 Z:0
  
  AdditionalGeometry	= BOX
  GeometryMajorRadius   = 34.6
  GeometryMinorRadius   = 39.6
  GeometryHeight        = 12.8
  GeometryIsSmall       = No
  GeometryOffset		= X:-29 Y:-20 Z:0
  
  Shadow                = SHADOW_VOLUME
  
  BuildCompletion		= PLACED_BY_PLAYER
  
	GeometryContactPoint	= X:-56.311		Y:38.761	Z:0			Repair
	GeometryContactPoint	= X:-0.492		Y:-65.304	Z:0			Repair
	GeometryContactPoint	= X:-71.003		Y:-6.883	Z:0
	GeometryContactPoint	= X:40.821		Y:-11.871	Z:0
	GeometryContactPoint	= X:-0.163		Y:-0.326	Z:68.459	Swoop

End


;------------------------------------------------------------------------------
Object GondorBuildingGeneral01

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01

;   ---Test entry for the time of day texture swap test---
;   TimeOfDayTexture = twwater01.tga AFTERNOON 1
;	BurntTexture = GBGenDB.tga


    ;OkToChangeModelColor = Yes
    
    DefaultModelConditionState
		Model		= GBGen01	
    End

	ModelConditionState = BURNT_MODEL
		Model = GBGen01_D1	
	End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen01_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBG01DP4")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen01_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBG01DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen01_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBG01DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen01_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBG01DP1")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen01_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
      
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen01_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen01_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

  End

  
  ; *** AUDIO Parameters ***

    SoundAmbientDamaged = GenericFireMediumLoop
    SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen01_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen01_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen01_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen01_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
;  Behavior = FlammableUpdate FlammableModuleTag_15
;    AflameDuration = 5000 ; Burn until expressly put out.  Made of wood and all.
;    AflameDamageDelay = 999999 ; No Thag, just for looks.
;    AflameDamageAmount = 0
;    FlameDamageLimit = 1; Catch fire from just 1 flame damage point
;    
;    SwapModelWhenAflame = Yes
;    SwapModelWhenQuenched = Yes
;    SwapTextureWhenAflame = Yes
;    SwapTextureWhenQuenched = Yes
;    
;    FireFXList = FX:FX_ForgeChimneySmoke BONE:FireSmall01
;    FireFXList = FX:FX_ForgeChimneySmoke BONE:FireSmall02
;    FireFXList = FX:FX_ForgeChimneySmoke BONE:FireSmall03
;    FireFXList = FX:FX_ForgeChimneySmoke BONE:FireSmall04
;    FireFXList = FX:FX_ForgeChimneySmoke BONE:FireSmall05
;    FireFXList = FX:FX_ForgeSteam BONE:FireMedium01
;    FireFXList = FX:FX_ForgeSteam BONE:FireMedium02
;    FireFXList = FX:FX_ForgeSparks BONE:FireLarge01
;  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

;;;;;;;;;;;;  
;;;;;;Imprecise Geometry
;  Geometry              = BOX
;  GeometryMajorRadius   = 16.0
;  GeometryMinorRadius   = 39.0
;  GeometryHeight        = 53.6
;  GeometryOffset		= X:0 Y:0 Z:0
;  GeometryIsSmall       = No
;  Shadow                = SHADOW_VOLUME
;  ShadowSizeX = 64; 
;  ShadowSizeY = 64;
;;;;;;;;;;;;

;;;;;;;;;;;;
;;;;;;Precise Geometry
  Geometry              = BOX
  GeometryMajorRadius   = 8.8
  GeometryMinorRadius   = 12.0
  GeometryHeight        = 7.6
  GeometryOffset		= X:0 Y:-14 Z:32.6
  GeometryIsSmall       = No
  
  AdditionalGeometry	= BOX
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 6.0
  GeometryHeight        = 53.6
  GeometryOffset		= X:0 Y:-33 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry	= BOX
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 6.0
  GeometryHeight        = 53.6
  GeometryOffset		= X:0 Y:4 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry	= BOX
  GeometryMajorRadius   = 7.8
  GeometryMinorRadius   = 6.0
  GeometryHeight        = 53.6
  GeometryOffset		= X:-3.8 Y:32 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry	= BOX
  GeometryMajorRadius   = 8.8
  GeometryMinorRadius   = 7.2
  GeometryHeight        = 27.6
  GeometryOffset		= X:-1 Y:18 Z:0
  GeometryIsSmall       = No
  
  Shadow                = SHADOW_VOLUME
  ShadowSizeX = 64; 
  ShadowSizeY = 64;
;;;;;;;;;;;;;
  
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral02

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen02
    End

    ModelConditionState   = DESTROYED_FRONT
      Model         = GBGen02_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN02DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen02_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN02DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen02_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN02DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen02_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN02DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen02_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen02_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen02_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen02_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen02_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen02_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen02_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3700
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 9.6
  GeometryHeight        = 56.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
ChildObject GondorBuildingGeneral02_CivSpawn GondorBuildingGeneral02

 	Behavior = CivilianSpawnUpdate ModuleTag_CreatePeople
		SpawnDelayTime	= 5000
		MaximumDistance	= 200
		RunToFilter		= ANY +GondorBuildingGeneral11 +GondorBuildingGeneral47
		Civilian		= GondorTownsman GondorTownsmanTorch GondorTownsWoman GondorTownsPair
	End

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral03

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen03
    End

    ModelConditionState = DESTROYED_FRONT
      Model         = GBGen03_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN03DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen03_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN03DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen03_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN03DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen03_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN03DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen03_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen03_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen03_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen03_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen03_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen03_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen03_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 18.6
  GeometryMinorRadius   = 25.0
  GeometryHeight        = 34.2
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 12.6
  GeometryMinorRadius   = 12.4
  GeometryHeight        = 65.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  ShadowSizeX = 64; 
  ShadowSizeY = 64;
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral04

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen04
    End

    ModelConditionState = DESTROYED_FRONT
      Model         = GBGen04_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN04DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen04_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN04DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen04_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN04DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen04_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN04DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen04_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen04_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen04_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End

  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen04_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen04_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen04_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen04_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 4000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 12.8
  GeometryHeight        = 64.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral05

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen05
    End

    ModelConditionState = DESTROYED_FRONT
      Model         = GBGen05_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN05DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen05_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN05DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen05_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN05DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen05_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN05DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen05_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen05_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen05_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen05_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen05_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen05_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen05_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
 
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
    
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
;;;;;;;;;;;;  
;;;;;Imprecise Geometry
;  Geometry              = BOX
;  GeometryMajorRadius   = 8.0
;  GeometryMinorRadius   = 32.8
;  GeometryHeight        = 49.6
;  GeometryIsSmall       = No
;  Shadow                = SHADOW_VOLUME

;;;;;;;;;;;;
;;;;;Precise Geometry
  Geometry              = BOX
  GeometryMajorRadius   = 4.0
  GeometryMinorRadius   = 17.8
  GeometryHeight        = -12.0
  GeometryOffset		= X:0 Y:0 Z:23.8
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryName			= GondorBuildingGeneral05_leftTower
  GeometryMajorRadius   = 14.0
  GeometryMinorRadius   = 32.8
  GeometryHeight        = 68.6
  GeometryOffset		= X:0 Y:-24.8 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryName			= GondorBuildingGeneral05_rightTower
  GeometryMajorRadius   = 14.0
  GeometryMinorRadius   = 32.8
  GeometryHeight        = 68.6
  GeometryOffset		= X:0 Y:25.8 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
;;;;;;;;;;;

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral06

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen06
    End

    ModelConditionState = DESTROYED_FRONT
      Model         = GBGen06_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN06DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen06_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN06DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen06_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN06DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen06_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN06DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen06_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen06_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen06_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen06_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen06_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen06_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen06_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End

  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 12.8
  GeometryHeight        = 42.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral07

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen07
    End

    ModelConditionState = DESTROYED_FRONT
      Model         = GBGen07_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN07DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen07_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN07DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen07_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN07DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen07_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN07DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen07_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen07_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen07_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen07_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen07_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen07_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen07_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
    
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

;;;;;;;;;;;;  
;;;;;Imprecise Geometry
;  Geometry              = BOX
;  GeometryMajorRadius   = 14.8
;  GeometryMinorRadius   = 22.4
;  GeometryHeight        = 49.6
;  GeometryIsSmall       = No
;  Shadow                = SHADOW_VOLUME
;;;;;;;;;;;

;;;;;;;;;;;;  
;;;;;Precise Geometry
  Geometry              = BOX
  GeometryName			= GondorBuildingGeneral07_stairway
  GeometryMajorRadius   = 11.0
  GeometryMinorRadius   = 11.0
  GeometryHeight        = 14.6
  GeometryOffset		= X:3.8 Y:-17.4 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 15.8
  GeometryMinorRadius   = 20.4
  GeometryHeight        = 54.6
  GeometryOffset		= X:0 Y:2.4 Z:0
  GeometryIsSmall       = No

  Shadow                = SHADOW_VOLUME
;;;;;;;;;;;;
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral08

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen08
    End

    ModelConditionState = DESTROYED_FRONT
      Model         = GBGen08_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN08DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen08_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN08DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen08_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN08DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen08_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN08DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen08_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen08_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen08_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen08_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen08_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen08_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen08_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

;;;;;;;;;;;;  
;;;;;Imprecise Geometry
;  Geometry              = BOX
;  GeometryMajorRadius   = 16.8
;  GeometryMinorRadius   = 23.2
;  GeometryHeight        = 44.8
;  GeometryIsSmall       = No
;  Shadow                = SHADOW_VOLUME
;  ShadowSizeX = 64; 
;  ShadowSizeY = 64;
;;;;;;;;;;;

;;;;;;;;;;;
;;;;;Precise Geometry
  Geometry              = BOX
  GeometryMajorRadius   = 3.8
  GeometryMinorRadius   = 12.8
  GeometryHeight        = 9.8
  GeometryOffset		= X:13.8 Y:11.2 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryName			= GondorBuildingGeneral08_mainStructure
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 17.0
  GeometryHeight        = 56.8
  GeometryOffset		= X:-3.8 Y:-9.2 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryName			= GondorBuildingGeneral08_stair2
  GeometryMajorRadius   = 10.0
  GeometryMinorRadius   = 12.0
  GeometryHeight        = 17.4
  GeometryOffset		= X:-1 Y:14.2 Z:0
  GeometryIsSmall       = No
  
  Shadow                = SHADOW_VOLUME
  ShadowSizeX = 64; 
  ShadowSizeY = 64;
;;;;;;;;;;;
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral09

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen09
    End

    ModelConditionState = DESTROYED_FRONT
      Model         = GBGen09_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN09DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen09_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN09DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen09_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN09DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen09_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN09DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen09_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen09_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen09_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen09_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen09_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen09_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen09_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End 

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 14.2
  GeometryMinorRadius   = 23.8
  GeometryHeight        = 39.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral10

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen10
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen10_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen10_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen10_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen10_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen10_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen10_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen10_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End

  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 26.4
  GeometryHeight        = 43.6
  GeometryOffset		= X:4 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral11

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen11
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen11_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN11DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen11_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN11DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen11_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN11DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen11_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN11DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen11_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen11_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen11_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen11_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen11_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen11_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen11_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3700
  End

  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Behavior = CivilianSpawnCollide Tag_deleteGuys
	DeleteObjectFilter = ANY +GondorTownsman +GondorTownsmanTorch +GondorTownsWoman +GondorTownsPair
  End

  
  Geometry              = BOX
  GeometryMajorRadius   = 15.0
  GeometryMinorRadius   = 13.4
  GeometryHeight        = 83.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral11NoFireD1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen11_D1R
    End
  End
  
  ; *** AUDIO Parameters ***

	;SoundOnDamaged			= BuildingLightDamageStone
	;SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
    

  Geometry              = BOX
  GeometryMajorRadius   = 15.0
  GeometryMinorRadius   = 13.4
  GeometryHeight        = 83.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral11NoFireD2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen11_D2R
    End
  End
  
  ; *** AUDIO Parameters ***

	;SoundOnDamaged			= BuildingLightDamageStone
	;SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3700
  End

  Geometry              = BOX
  GeometryMajorRadius   = 14.0
  GeometryMinorRadius   = 10.4
  GeometryHeight        = 70.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral12

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
      DefaultModelConditionState
      Model = GBGen12
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen12_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN12DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen12_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN12DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen12_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN12DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen12_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN12DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen12_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen12_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen12_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End

  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen12_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen12_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen12_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen12_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 12.4
  GeometryMinorRadius   = 15.0
  GeometryHeight        = 56.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral13

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen13
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen13_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN13DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen13_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN13DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen13_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN13DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen13_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN13DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen13_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen13_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen13_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End

  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen13_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen13_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen13_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen13_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2400
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 19.0
  GeometryMinorRadius   = 53.4
  GeometryHeight        = 33.4
  GeometryOffset		= X:-2 Y:0 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 19.4
  GeometryHeight        = 90.4
  GeometryOffset		= X:-2 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral14

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen14
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen14_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN14DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen14_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN14DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen14_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN14DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen14_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN14DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen14_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen14_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen14_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen14_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen14_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen14_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen14_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End
  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
    
  Geometry              = BOX
  GeometryMajorRadius   = 14.4
  GeometryMinorRadius   = 33.4
  GeometryHeight        = 32.0
  GeometryIsSmall       = No
  GeometryOffset		= X:0 Y:-9.4 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 12.4
  GeometryMinorRadius   = 14.0
  GeometryHeight        = 56.0
  GeometryIsSmall       = No
  GeometryOffset		= X:0 Y:-28.4 Z:0
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral15

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen15
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen15_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN15DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen15_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN15DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen15_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN15DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen15_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN15DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen15_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen15_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen15_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen15_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen15_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen15_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen15_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 33.0
  GeometryHeight        = 40.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral15NoFireD1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen15_D1R
    End
  End
  

  ; *** AUDIO Parameters ***

	;SoundOnDamaged			= BuildingLightDamageStone
	;SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 33.0
  GeometryHeight        = 40.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral15NoFireD2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen15_D2R
    End
  End
  

  ; *** AUDIO Parameters ***

	;SoundOnDamaged			= BuildingLightDamageStone
	;SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 33.0
  GeometryHeight        = 40.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral16

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen16
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen16_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN16DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen16_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN16DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen16_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN16DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen16_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN16DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen16_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen16_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen16_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen16_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen16_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen16_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen16_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 19.2
  GeometryMinorRadius   = 31.0
  GeometryHeight        = 62.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral17

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen17
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen17_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN17DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen17_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN17DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen17_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN17DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen17_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN17DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen17_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen17_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen17_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen17_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen17_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen17_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen17_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 10.4
  GeometryMinorRadius   = 36.6
  GeometryHeight        = 33.6
  GeometryOffset		= X:0 Y:1 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 8.0
  GeometryMinorRadius   = 29.6
  GeometryHeight        = 83.0
  GeometryOffset		= X:0 Y:-25.6 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral17NoFireD1

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen17_D1R
    End
  End
  
  ; *** AUDIO Parameters ***

	;SoundOnDamaged			= BuildingLightDamageStone
	;SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 10.4
  GeometryMinorRadius   = 36.6
  GeometryHeight        = 33.6
  GeometryOffset		= X:0 Y:1 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 8.0
  GeometryMinorRadius   = 29.6
  GeometryHeight        = 83.0
  GeometryOffset		= X:0 Y:-25.6 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral17NoFireD2

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen17_D2R
    End
  End
  
  ; *** AUDIO Parameters ***

	;SoundOnDamaged			= BuildingLightDamageStone
	;SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 10.4
  GeometryMinorRadius   = 36.6
  GeometryHeight        = 33.6
  GeometryOffset		= X:0 Y:1 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 8.0
  GeometryMinorRadius   = 29.6
  GeometryHeight        = 83.0
  GeometryOffset		= X:0 Y:-25.6 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral18

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen18
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen18_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN18DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen18_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN18DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen18_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN18DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen18_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN18DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen18_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen18_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen18_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen18_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen18_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen18_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen18_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
    
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 14.4
  GeometryHeight        = 55.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral19

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen19
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen19_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN19DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen19_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN19DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen19_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN19DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen19_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN19DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen19_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen19_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen19_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen19_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen19_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen19_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen19_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2300
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
    
  Geometry              = BOX
  GeometryMajorRadius   = 15.4
  GeometryMinorRadius   = 21.8
  GeometryHeight        = 52.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral19NoFireD1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen19_D1R
    End
  End
  

  ; *** AUDIO Parameters ***

	;SoundOnDamaged			= BuildingLightDamageStone
	;SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 15.4
  GeometryMinorRadius   = 21.8
  GeometryHeight        = 52.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral19NoFireD2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen19_D2R
    End
  End
  

  ; *** AUDIO Parameters ***

	;SoundOnDamaged			= BuildingLightDamageStone
	;SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 15.4
  GeometryMinorRadius   = 21.8
  GeometryHeight        = 52.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral20

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen20
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen20_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN20DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen20_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN20DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen20_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN20DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen20_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN20DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen20_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen20_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen20_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End

  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen20_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen20_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen20_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen20_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 15.2
  GeometryMinorRadius   = 27.8
  GeometryHeight        = 49.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral21

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen21
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen21_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN21DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen21_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN21DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen21_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN21DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen21_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN21DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen21_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen21_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen21_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen21_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen21_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen21_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen21_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 37.6
  GeometryHeight        = 41.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral22

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen22
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen22_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN22DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen22_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN22DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen22_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN22DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen22_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN22DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen22_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen22_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen22_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen22_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen22_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen22_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen22_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 10.4
  GeometryMinorRadius   = 29.8
  GeometryHeight        = 24.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral23

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen23
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen23_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN23DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen23_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN23DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen23_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN23DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen23_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN23DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen23_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen23_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen23_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen23_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen23_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen23_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen23_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 11.8
  GeometryMinorRadius   = 17.4
  GeometryHeight        = 59.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral24

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen24
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen24_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN24DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen24_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN24DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen24_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN24DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen24_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN24DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen24_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen24_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen24_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen24_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen24_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen24_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen24_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
    
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.2
  GeometryMinorRadius   = 34.0
  GeometryHeight        = 41.8
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 8.0
  GeometryMinorRadius   = 8.0
  GeometryHeight        = 77.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral25

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen25
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen25_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN25DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen25_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN25DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen25_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN25DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen25_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN25DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen25_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen25_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen25_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen25_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen25_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen25_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen25_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 17.6
  GeometryMinorRadius   = 42.6
  GeometryHeight        = 40.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral26

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen26
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen26_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN26DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen26_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN26DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen26_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN26DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen26_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN26DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen26_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen26_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen26_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen26_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen26_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen26_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen26_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.6
  GeometryMinorRadius   = 38.6
  GeometryHeight        = 40.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral27

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen27
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen27_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN27DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen27_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN27DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen27_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN27DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen27_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN27DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen27_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen27_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen27_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen27_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen27_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen27_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen27_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 11.4
  GeometryMinorRadius   = 30.6
  GeometryHeight        = 36.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral28

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen28
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen28_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN28DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen28_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN28DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen28_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN28DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen28_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN28DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen28_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen28_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen28_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen28_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen28_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen28_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen28_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 17.6
  GeometryMinorRadius   = 22.0
  GeometryHeight        = 39.4
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 4.6
  GeometryMinorRadius   = 5.0
  GeometryHeight        = 76.4
  GeometryOffset		= X:-1 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral29

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen29
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen29_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN29DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen29_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN29DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen29_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN29DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen29_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN29DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen29_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen29_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen29_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen29_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen29_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen29_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen29_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = CYLINDER
  GeometryMajorRadius   = 22.8
  GeometryMinorRadius   = 22.4
  GeometryHeight        = 32.2
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 15.8
  GeometryMinorRadius   = 22.4
  GeometryHeight        = 91.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral30

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen30
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen30_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN30DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen30_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN30DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen30_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN30DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen30_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN30DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen30_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen30_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen30_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen30_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen30_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen30_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen30_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
;;;;;;;;;;;;
;;;;;Imprecise Geometry
;  Geometry              = BOX
;  GeometryMajorRadius   = 11.2
;  GeometryMinorRadius   = 40.8
;  GeometryHeight        = 62.8
;  GeometryOffset		= X:0 Y:-12.2 Z:0
;  GeometryIsSmall       = No
;  Shadow                = SHADOW_VOLUME
;;;;;;;;;;;;

;;;;;;;;;;;;
;;;;;Precise Geometry  
  Geometry              = BOX
  GeometryMajorRadius   = 11.2
  GeometryMinorRadius   = 17.0
  GeometryHeight        = -19.0
  GeometryOffset		= X:0 Y:-12.2 Z:23.8
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 11.2
  GeometryMinorRadius   = 17.0
  GeometryHeight        = 62.8
  GeometryOffset		= X:0 Y:15.6 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 11.2
  GeometryMinorRadius   = 17.0
  GeometryHeight        = 62.8
  GeometryOffset		= X:0 Y:-40.0 Z:0
  GeometryIsSmall       = No
  
  Shadow                = SHADOW_VOLUME
;;;;;;;;;;;;
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral31

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen31
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen31_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN31DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen31_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN31DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen31_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN31DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen31_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN31DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen31_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen31_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen31_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen31_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen31_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen31_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen31_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = CYLINDER
  GeometryMajorRadius   = 11.4
  GeometryMinorRadius   = 12.0
  GeometryHeight        = 66.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral32

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen32
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen32_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN32DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen32_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN32DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen32_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN32DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen32_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN32DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen32_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen32_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen32_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen32_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen32_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen32_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen32_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 33.0
  GeometryHeight        = 35.4
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryName			= GondorBuildingGeneral32_leftSpire
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 12.0
  GeometryHeight        = 77.4
  GeometryOffset		= X:0 Y:-21 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryName			= GondorBuildingGeneral32_rightSpire
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 12.0
  GeometryHeight        = 77.4
  GeometryOffset		= X:0 Y:21 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral32NoFireD1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen32_D1R
    End
  End
  
  ; *** AUDIO Parameters ***

	;SoundOnDamaged			= BuildingLightDamageStone
	;SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 32.0
  GeometryHeight        = 75.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral32NoFireD2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen32_D2R
    End
  End
  

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 32.0
  GeometryHeight        = 75.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral33

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen33
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen33_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN33DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen33_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN33DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen33_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN33DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen33_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN33DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen33_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen33_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen33_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen33_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen33_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen33_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen33_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2200
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 14.4
  GeometryMinorRadius   = 24.0
  GeometryHeight        = 50.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral34

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen34
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen34_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN34DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen34_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN34DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen34_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN34DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen34_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN34DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen34_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen34_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen34_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral
  
  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen34_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen34_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen34_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen34_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2200
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 11.2
  GeometryMinorRadius   = 13.2
  GeometryHeight        = 57.8
  GeometryIsSmall       = No
  
;  AdditionalGeometry    = BOX
;  GeometryMajorRadius   = 11.2
;  GeometryMinorRadius   = 19.2
;  GeometryHeight        = 36.8
;  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral35

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen35
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen35_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN35DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen35_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN35DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen35_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN35DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen35_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN35DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen35_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen35_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen35_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen35_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen35_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen35_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen35_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2200
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = CYLINDER
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 16.0
  GeometryHeight        = 46.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral36

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen36
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen36_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN36DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen36_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN36DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen36_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN36DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen36_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN36DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen36_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen36_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen36_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen36_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen36_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen36_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen36_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 26.8
  GeometryHeight        = 29.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral37

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen37
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen37_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN37DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen37_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN37DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen37_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN37DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen37_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN37DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen37_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen37_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen37_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen37_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen37_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen37_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen37_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 28.8
  GeometryHeight        = 23.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral38

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen38
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen38_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN38DP1")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen38_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN38DP2")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen38_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN38DP3")
      EndScript
    End
    
    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen38_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN38DP4")
      EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = GBGen38_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen38_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen38_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen38_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen38_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen38_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen38_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
;;;;;;;;;;;;
;;;;;Imprecise Geometry
;  Geometry              = BOX
;  GeometryMajorRadius   = 12.8
;  GeometryMinorRadius   = 37.6
;  GeometryHeight        = 40.0
;  GeometryIsSmall       = No
;  Shadow                = SHADOW_VOLUME
;;;;;;;;;;;;

;;;;;;;;;;;;
;;;;;Precise Geometry
  Geometry    = BOX
  GeometryName			= GondorBuildingGeneral38_mainStructure
  GeometryMajorRadius   = 11.8
  GeometryMinorRadius   = 16.0
  GeometryHeight        = 47.5
  GeometryOffset		= X:0 Y:-18.6 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryName			= GondorBuildingGeneral38_subStructure
  GeometryMajorRadius   = 11.8
  GeometryMinorRadius   = 20.6
  GeometryHeight        = 28.0
  GeometryOffset		= X:0 Y:18.0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
;;;;;;;;;;;;

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral39

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen39
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen39_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN39DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen39_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN39DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen39_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN39DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen39_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN39DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen39_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen39_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen39_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen39_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen39_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen39_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen39_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 8.2
  GeometryMinorRadius   = 14.8
  GeometryHeight        = 51.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral40

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen40
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen40_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN40DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen40_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN40DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen40_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN40DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen40_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN40DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen40_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen40_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen40_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen40_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen40_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen40_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen40_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2700
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 13.6
  GeometryMinorRadius   = 22.4
  GeometryHeight        = 36.0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 7.6
  GeometryMinorRadius   = 22.4
  GeometryHeight        = 78.0
  GeometryOffset		= X:3.6 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral41

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen41
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen41_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN41DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen41_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN41DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen41_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN41DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen41_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN41DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen41_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen41_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen41_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen41_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen41_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen41_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen41_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2400
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = CYLINDER
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 15.2
  GeometryHeight        = 50.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral42

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen42
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen42_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN42DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen42_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN42DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen42_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN42DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen42_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN42DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen42_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen42_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen42_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen42_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen42_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen42_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen42_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 8.0
  GeometryMinorRadius   = 37.6
  GeometryHeight        = 38.2
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 18.0
  GeometryMinorRadius   = 18.6
  GeometryHeight        = 49.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral43

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen43
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen43_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN43DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen43_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN43DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen43_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN43DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen43_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN43DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen43_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen43_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen43_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen43_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen43_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen43_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen43_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2400
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 8.8
  GeometryMinorRadius   = 10.2
  GeometryHeight        = 70.0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 15.2
  GeometryHeight        = 36.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral44

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen44
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen44_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN44DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen44_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN44DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen44_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN44DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen44_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN44DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen44_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen44_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen44_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen44_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen44_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen44_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen44_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2300
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
 
  Geometry              = BOX
  GeometryMajorRadius   = 13.6
  GeometryMinorRadius   = 28.6
  GeometryHeight        = 33.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral45

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen45
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen45_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN45DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen45_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN45DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen45_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN45DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen45_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN45DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen45_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen45_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen45_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen45_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen45_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen45_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen45_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2800
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 16.8
  GeometryMinorRadius   = 29.6
  GeometryHeight        = 42.0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 4.0
  GeometryMinorRadius   = 7.6
  GeometryHeight        = 81.0
  GeometryOffset		= X:9.8 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral46

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen46
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen46_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN46DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen46_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN46DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen46_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN46DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen46_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN46DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen46_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen46_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen46_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen46_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen46_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen46_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen46_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 7.0
  GeometryMinorRadius   = 46.6
  GeometryHeight        = 13.2
  GeometryOffset		= X:-.8 Y:0 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 11.8
  GeometryMinorRadius   = 18.6
  GeometryHeight        = 42.2
  GeometryOffset		= X:-.8 Y:0 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 5.0
  GeometryMinorRadius   = 6.6
  GeometryHeight        = 78.2
  GeometryOffset		= X:-1.8 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral47

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen47
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen47_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN47DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen47_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN47DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen47_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN47DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen47_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN47DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen47_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen47_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen47_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen47_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen47_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen47_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen47_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2600
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Behavior = CivilianSpawnCollide Tag_deleteGuys
	DeleteObjectFilter = ANY +GondorTownsman +GondorTownsmanTorch +GondorTownsWoman +GondorTownsPair
  End

  Geometry              = BOX
  GeometryMajorRadius   = 18.4
  GeometryMinorRadius   = 43.2
  GeometryHeight        = 35.0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 8.0
  GeometryMinorRadius   = 7.2
  GeometryHeight        = 72.0
  GeometryOffset		= X:-4.4 Y:0 Z:0
  GeometryIsSmall       = No
  
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral48

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen48
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen48_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN48DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen48_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN48DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen48_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN48DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen48_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN48DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen48_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen48_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen48_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen48_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen48_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen48_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen48_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2400
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 11.2
  GeometryMinorRadius   = 30.2
  GeometryHeight        = 39.4
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 6.0
  GeometryMinorRadius   = 12.2
  GeometryHeight        = 69.4
  GeometryOffset		= X:-1.2 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral49

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen49
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen49_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN49DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen49_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN49DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen49_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN49DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen49_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN49DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen49_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen49_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen49_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen49_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen49_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen49_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen49_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2400
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 15.2
  GeometryMinorRadius   = 23.4
  GeometryHeight        = 36.4
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 6.2
  GeometryMinorRadius   = 8.4
  GeometryHeight        = 60.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral50

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen50
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen50_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN50DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen50_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN50DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen50_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN50DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen50_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN50DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen50_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen50_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen50_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen50_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen50_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen50_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen50_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2600
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 13.6
  GeometryMinorRadius   = 32.8
  GeometryHeight        = 41.6
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 4.8
  GeometryMinorRadius   = 5.8
  GeometryHeight        = 81.6
  GeometryOffset		= X:1.6 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral51

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen51
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen51_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN51DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen51_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN51DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen51_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN51DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen51_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN51DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen51_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen51_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen51_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen51_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen51_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen51_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen51_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 14.6
  GeometryMinorRadius   = 25.8
  GeometryHeight        = 40.8
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 3.6
  GeometryMinorRadius   = 5.8
  GeometryHeight        = 72.8
  GeometryIsSmall       = No
  
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral52

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen52
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen52_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN52DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen52_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN52DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen52_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN52DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen52_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN52DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen52_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen52_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen52_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen52_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen52_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen52_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen52_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
    Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2400

  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 15.4
  GeometryMinorRadius   = 44.6
  GeometryHeight        = 57.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral53

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen53
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen53_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN53DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen53_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN53DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen53_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN53DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen53_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN53DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen53_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen53_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen53_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen53_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen53_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen53_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen53_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500

  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 9.8
  GeometryMinorRadius   = 22.4
  GeometryHeight        = 53.0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 4.5
  GeometryMinorRadius   = 5.4
  GeometryHeight        = 73.0
  GeometryOffset		= X:-1.8 Y:0 Z:0
  GeometryIsSmall       = No
  
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral54

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen54
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen54_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN54DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen54_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN54DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen54_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN54DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen54_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN54DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen54_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen54_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen54_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen54_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen54_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen54_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen54_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2300

  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 32.8
  GeometryHeight        = 27.2
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 4.5
  GeometryMinorRadius   = 5.8
  GeometryHeight        = 48.2
  GeometryOffset		= X:9 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral55

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen55
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen55_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN55DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen55_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN55DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen55_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN55DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen55_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN55DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen55_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen55_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen55_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen55_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen55_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen55_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen55_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2600

  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 16.8
  GeometryMinorRadius   = 29.6
  GeometryHeight        = 62.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral56

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen56
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen56_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN56DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen56_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN56DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen56_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN56DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen56_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN56DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen56_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen56_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen56_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen56_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen56_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen56_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen56_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2800
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 13.6
  GeometryMinorRadius   = 29.6
  GeometryHeight        = 45.6
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 5.0
  GeometryMinorRadius   = 6.6
  GeometryHeight        = 79.6
  GeometryOffset		= X:-2.6 Y:0 Z:0
  GeometryIsSmall       = No
  
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral57

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen57
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen57_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN57DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen57_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN57DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen57_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN57DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen57_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN57DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen57_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen57_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen57_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen57_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen57_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen57_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen57_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2700
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 7.2
  GeometryMinorRadius   = 7.2
  GeometryHeight        = 83.8
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 13.2
  GeometryMinorRadius   = 39.2
  GeometryHeight        = 44.8
  GeometryOffset		= X:2 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral58

   ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen58
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen58_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN58DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen58_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN58DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen58_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN58DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen58_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN58DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen58_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen58_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen58_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen58_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen58_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen58_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen58_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2500
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 15.2
  GeometryMinorRadius   = 44.8
  GeometryHeight        = 41.6
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 15.2
  GeometryMinorRadius   = 25.8
  GeometryHeight        = 51.6
  GeometryOffset		= X:0 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral59

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen59
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen59_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN59DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen59_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN59DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen59_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN59DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen59_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN59DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen59_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen59_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen59_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen59_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen59_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen59_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen59_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 11.2
  GeometryMinorRadius   = 14.2
  GeometryHeight        = 51.6
  GeometryOffset		= X:-5 Y:0 Z:0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 51.2
  GeometryHeight        = 29.6
  GeometryOffset		= X:-1 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral60

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen60
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen60_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN60DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen60_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN60DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen60_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN60DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen60_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN60DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen60_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen60_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen60_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen60_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen60_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen60_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen60_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 35.2
  GeometryHeight        = 28.0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 39.2
  GeometryHeight        = 47.0
  GeometryOffset		= X:-1 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral61

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen61
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen61_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN61DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen61_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN61DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen61_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN61DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen61_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN61DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen61_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen61_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen61_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen61_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen61_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen61_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen61_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 4.6
  GeometryMinorRadius   = 5.0
  GeometryHeight        = 57.8
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 7.0
  GeometryMinorRadius   = 27.0
  GeometryHeight        = 25.8
  GeometryOffset		= X:1.6 Y:0 Z:0
  GeometryIsSmall       = No
  
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral62

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen62
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen62_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN62DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen62_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN62DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen62_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN62DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen62_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN62DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen62_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen62_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen62_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen62_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen62_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen62_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen62_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 37.6
  GeometryHeight        = 32.6
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 8.2
  GeometryMinorRadius   = 39.2
  GeometryHeight        = 72.2
  GeometryOffset		= X:0 Y:-24.4 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral63

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen63
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen63_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN63DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen63_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN63DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen63_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN63DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen63_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN63DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen63_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen63_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen63_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral
  
  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen63_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen63_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen63_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen63_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 29.6
  GeometryHeight        = 24.2
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 14.8
  GeometryMinorRadius   = 39.2
  GeometryHeight        = 60.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral64

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen64
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen64_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN64DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen64_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN64DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen64_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN64DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen64_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN64DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen64_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen64_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen64_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen64_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen64_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen64_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen64_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 34.4
  GeometryHeight        = 41.0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 6.0
  GeometryMinorRadius   = 5.4
  GeometryHeight        = 74.0
  GeometryOffset		= X:0 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral65

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen65
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen65_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN65DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen65_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN65DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen65_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN65DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen65_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN65DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen65_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen65_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen65_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen65_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen65_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen65_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen65_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 47.2
  GeometryHeight        = 37.6
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 6.0
  GeometryMinorRadius   = 10.2
  GeometryHeight        = 79.6
  GeometryOffset		= X:8 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral66

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen66
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen66_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN66DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen66_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN66DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen66_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN66DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen66_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN66DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen66_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen66_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen66_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen66_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen66_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen66_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen66_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry				= BOX
  GeometryMajorRadius   = 15.2
  GeometryMinorRadius   = 30.4
  GeometryHeight        = 44.4
  GeometryOffset		= X:0 Y:0 Z:0
  GeometryIsSmall       = No


;  Geometry              = BOX
;  GeometryMajorRadius   = 15.2
;  GeometryMinorRadius   = 30.4
;  GeometryHeight        = 27.4
;  GeometryIsSmall       = No
;  
;  AdditionalGeometry    = BOX
;  GeometryMajorRadius   = 4.0
;  GeometryMinorRadius   = 7.4
;  GeometryHeight        = 59.4
;  GeometryOffset		= X:-5.2 Y:0 Z:0
;  GeometryIsSmall       = No
;  
;  AdditionalGeometry    = BOX
;  GeometryMajorRadius   = 8.0
;  GeometryMinorRadius   = 8.0
;  GeometryHeight        = 46.4
;  GeometryOffset		= X:8.2 Y:22.4 Z:0
;  GeometryIsSmall       = No
;  
;  AdditionalGeometry    = BOX
;  GeometryMajorRadius   = 8.0
;  GeometryMinorRadius   = 8.0
;  GeometryHeight        = 46.4
;  GeometryOffset		= X:8.2 Y:-22.4 Z:0
;  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral67

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen67
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen67_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN67DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen67_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN67DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen67_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN67DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen67_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN67DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen67_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen67_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen67_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen67_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen67_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen67_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen67_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 17.4
  GeometryMinorRadius   = 21.8
  GeometryHeight        = 58.2
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 32.8
  GeometryHeight        = 14.2
  GeometryOffset		= X:5.4 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral68

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen68
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen68_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN68DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen68_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN68DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen68_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN68DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen68_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN68DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen68_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen68_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen68_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen68_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen68_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen68_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen68_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 14.4
  GeometryMinorRadius   = 48.0
  GeometryHeight        = 61.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral69

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen69
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen69_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN69DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen69_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN69DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen69_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN69DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen69_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN69DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen69_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen69_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen69_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen69_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen69_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen69_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen69_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 12.8
  GeometryHeight        = 36.0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 5.6
  GeometryMinorRadius   = 7.8
  GeometryHeight        = 75
  GeometryOffset		= X:0 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral70

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen70
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen70_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN70DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen70_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN70DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen70_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN70DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen70_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN70DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen70_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen70_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen70_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen70_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen70_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen70_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen70_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = CYLINDER
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 20.8
  GeometryHeight        = 68.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral71

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen71
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen71_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN71DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen71_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN71DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen71_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN71DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen71_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN71DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen71_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen71_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen71_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen71_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen71_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen71_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen71_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Behavior                  = BuildingBehavior BuildingModuleTag
    NightWindowName         = Night01
;    FireWindowName          = win_f
;    NightFireWindowName     = win_nf
  End
  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 18.6
  GeometryHeight        = 26.4
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 8
  GeometryMinorRadius   = 12.6
  GeometryHeight        = 69.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral72

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen72
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen72_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN72DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen72_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN72DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen72_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN72DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen72_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN72DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen72_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen72_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen72_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen72_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen72_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen72_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen72_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 13.6
  GeometryMinorRadius   = 40.8
  GeometryHeight        = 43.0
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 11.8
  GeometryMinorRadius   = 40.8
  GeometryHeight        = 83.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral73

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen73
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen73_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN73DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen73_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN73DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen73_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN73DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen73_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN73DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen73_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen73_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen73_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen73_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen73_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen73_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen73_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 8.8
  GeometryMinorRadius   = 11.4
  GeometryHeight        = 22.6
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 5.8
  GeometryMinorRadius   = 5.4
  GeometryHeight        = 59.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral74

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen74
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen74_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN74DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen74_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN74DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen74_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN74DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen74_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN74DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen74_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen74_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen74_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen74_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen74_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen74_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen74_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 10.4
  GeometryMinorRadius   = 39.2
  GeometryHeight        = 34.6
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 7.4
  GeometryMinorRadius   = 6.6
  GeometryHeight        = 63.6
  GeometryOffset		= X:0 Y:31.2 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral75

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen75
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen75_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN75DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen75_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN75DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen75_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN75DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen75_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN75DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen75_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen75_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen75_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen75_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen75_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen75_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen75_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 14.4
  GeometryMinorRadius   = 40.8
  GeometryHeight        = 33.6
  GeometryIsSmall       = No
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 10.4
  GeometryMinorRadius   = 4
  GeometryHeight        = 80.6
  GeometryOffset		= X:-1 Y:0 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral76

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen76
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen76_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN76DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen76_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN76DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen76_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN76DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen76_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN76DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen76_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen76_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen76_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen76_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen76_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen76_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen76_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 11.2
  GeometryMinorRadius   = 27.2
  GeometryHeight        = 42.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral77

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen77
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen77_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN77DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen77_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN77DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen77_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN77DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen77_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN77DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen77_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen77_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen77_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen77_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen77_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen77_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen77_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  

  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End
  
  Geometry              = CYLINDER
  GeometryMajorRadius   = 24.2
  GeometryMinorRadius   = 22.4
  GeometryHeight        = 53.8
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 6.2
  GeometryMinorRadius   = 6.4
  GeometryHeight        = 83.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingGeneral78

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBGen78
    End

    ModelConditionState  = DESTROYED_FRONT
      Model         = GBGen09_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("GBGEN78DP1")
      EndScript
    End

    ModelConditionState  = DESTROYED_RIGHT
      Model         = GBGen78_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("GBGEN78DP2")
      EndScript
    End

    ModelConditionState  = DESTROYED_BACK
      Model         = GBGen78_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("GBGEN78DP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = GBGen78_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("GBGEN78DP4")
      EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = GBGen78_D1
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeMedium01 SmokeBuildingMedium
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBGen78_D2
      ParticleSysBone FireSmall01 FireBuildingSmall
      ParticleSysBone FireSmall02 FireBuildingSmall
      ParticleSysBone FireSmall03 FireBuildingSmall
      ParticleSysBone FireSmall04 FireBuildingSmall
      ParticleSysBone FireSmall05 FireBuildingSmall
      ParticleSysBone FireMedium01 FireBuildingMedium
      ParticleSysBone FireMedium02 FireBuildingMedium
      ParticleSysBone FireLarge01 FireBuildingLarge
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = RUBBLE
      Model         = GBGen78_D2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GondorBuildingGeneral

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK

    DamageCreationList = OCL_Gen78_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_Gen78_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_Gen78_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_Gen78_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3700
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  
  Behavior                = TransitionDamageFX ModuleTag_05
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_BuildingReallyDamagedTransitionMedium
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.2
  GeometryMinorRadius   = 41.8
  GeometryHeight        = 39.8
  GeometryIsSmall       = No
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 5.2
  GeometryMinorRadius   = 6.8
  GeometryHeight        = 90.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End




;-----------------------------------------------------------------------------------------------
;------------------------TESTING TESTING TESTING------------------------------------------------
;-----------------------------------------------------------------------------------------------
;-----------------------------------------------------------------------------------

Object GBFSetTest

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBFSetTest
    End
    WallBoundsMesh = GBFactionSet1P
;    RampMesh1 = P1
;    RampMesh2 = P2
;    RampMesh3 = P3
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Test
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL NOT_AUTOACQUIRABLE; SELECTABLE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 20.8
  GeometryMinorRadius   = 88.0
  GeometryHeight        = 13.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;----------------------------------------------------------------------------------------------

Object GBFSetTestRamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBFSetTestRamp
    End
;    WallBoundsMesh = GBFactionSet1P
    RampMesh1 = P1
;    RampMesh2 = P2
;    RampMesh3 = P3
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Test
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL SELECTABLE NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 20.8
  GeometryMinorRadius   = 88.0
  GeometryHeight        = 13.6
  GeometryIsSmall       = No
;  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------

Object MTFinalTest

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    ModelConditionState = NONE
      Model = GBMTNewFinal
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Test
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 6.4
  GeometryHeight        = 98.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End




;------------------------------------------------------------------------------
;Lumber Mill
Object LumberMill
 
 SelectPortrait = BPCLumberMill
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

;  Draw                = W3DModelDraw ModuleTag_01
;    OkToChangeModelColor = Yes
;
;    DefaultConditionState
;      Model           = RBBarracks
;;     FXEvent = 1  FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;;     FXEvent = 30 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;;     FXEvent = 50 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;    End
;  End


  Draw = W3DScriptedModelDraw ModuleTag_Draw

	ExtraPublicBone = ARROW_01
	ExtraPublicBone = ARROW_02
	ExtraPublicBone = ARROW_03
	ExtraPublicBone = ARROW_04
	ExtraPublicBone = ARROW_05
	ExtraPublicBone = ARROW_06
	ExtraPublicBone = ARROW_07
	ExtraPublicBone = ARROW_08

    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD  
	DefaultModelConditionState
		Model = MBLumMill_SKN
	  
		;ParticleSysBone = Bone_Smoke01 forgeSmoke
		;ParticleSysBone = Bone_Fire01 FireBuildingLarge

;		ParticleSysBone = Bone_Smoke01 CampFireSmoke
;		ParticleSysBone = Bone_Smoke01 CampfireGlow
		ParticleSysBone = Bone_Smoke01 CampfireEmbersReg
		WeaponLaunchBone = PRIMARY ARROW_
	End
          
    IdleAnimationState
		StateName	=	STATE_Idle
		Animation = IdleA
			AnimationName		=	MBLumMill_SKL.MBLumMill_IDLD
			AnimationMode		=	LOOP 
			AnimationBlendTime	=	0
		End
		FXEvent				= Frame:193 Name:FX_LumberFire
		Flags               = RANDOMSTART 
	End
	
	
	
    ;------------ Build Up States
    ModelConditionState   = AWAITING_CONSTRUCTION 
      Model               = MBLumMill_A
;		ParticleSysBone	  = NONE BuildingDoughnutCloud
    End;
    AnimationState        = AWAITING_CONSTRUCTION
      Animation           =  MBLumMill_A
        AnimationName     =  MBLumMill_ASKL.MBLumMill_ABLD
        AnimationMode     = MANUAL
        AnimationBlendTime = 0
      End
	Flags				  = START_FRAME_FIRST
    End

    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
      Model               = MBLumMill_A
		ParticleSysBone   = CONSTDUSTBONE01 BuildingContructDust FollowBone:Yes
    End;
    AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
		Animation           = MBLumMill_A
			AnimationName     = MBLumMill_ASKL.MBLumMill_ABLD
			AnimationMode     = MANUAL
			AnimationBlendTime = 0
		End
		Flags				  = START_FRAME_FIRST
		StateName			  = BeingConstructed
	BeginScript
		CurDrawablePlaySound("GondorBarracksBeginConstruction")
	EndScript
    End
    
    
        ;--damaged building
      ModelConditionState  = DESTROYED_FRONT
      Model         = MBLumMill_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 FireBuildingLarge 
    End
    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("MBLumMill_D2a")
      EndScript
    End
    
        ModelConditionState  = DESTROYED_RIGHT
      Model         = MBLumMill_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 FireBuildingLarge 
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("MBLumMill_D2b")
      EndScript
    End
    

    ModelConditionState  = DESTROYED_BACK
      Model         = MBLumMill_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 FireBuildingLarge 
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("MBLumMill_D2c")
      EndScript
    End

	ModelConditionState  = DESTROYED_LEFT
      Model         = MBLumMill_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 FireBuildingLarge 
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("MBLumMill_D2d")
      EndScript
    End
    
    
    ModelConditionState  = DAMAGED
      Model         = MBLumMill_D1
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingMedium
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 FireBuildingMedium 
    End
    AnimationState = DAMAGED
     EnteringStateFX	= FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBLumMill_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 FireBuildingLarge 
    End
    AnimationState = REALLYDAMAGED
     	EnteringStateFX	= FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = MBLumMill_D2  
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = RUBBLE
      BeginScript
        CurDrawableHideSubObject("MBLumMill_D2a")
        CurDrawableHideSubObject("MBLumMill_D2b")
        CurDrawableHideSubObject("MBLumMill_D2c")
        CurDrawableHideSubObject("MBLumMill_D2d")
      EndScript
    End

    ModelConditionState  = POST_RUBBLE
		Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
		 Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

	;------------- With fuels the fire effect	
 ;   AnimationState = UPGRADE_ECONOMY_BONUS
;		StateName	=	STATE_Idle
;		Animation = IdleA
;			AnimationName		=	MBLumMill_SKL.MBLumMill_IDLD
;			AnimationMode		=	LOOP 
;			AnimationBlendTime	=	0
;		End
;		FXEvent			= Frame:193 Name:FX_LumberFire
;		ParticleSysBone		= None FueltheFiresEmbers
;	End
  End

  Draw = W3DFloorDraw DrawFloor_Bib    
	StaticModelLODMode = Yes		; THIS NEEDS TO BE COMMENTED OUT WHEN ENGINEERING ENABLES LOD'S IN THE FLOOR DRAW - Sean O.
    ModelName = MBLumMill_Bib
  End
  
  Draw = W3DFloorDraw DrawFloor_V1
     ModelName = MBLumMill_V1
	 StartHidden = Yes
  End

	Draw = W3DScriptedModelDraw Draw_BonusEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    AnimationState = ACTIVELY_BEING_CONSTRUCTED
	    End
		AnimationState = UPGRADE_ECONOMY_BONUS
;			FXEvent			= Frame:193 Name:FX_LumberFire
			ParticleSysBone	= None FueltheFiresEmbers
		End
	End
  
; Not working correctly, so taken out.
  Draw = W3DScriptedModelDraw ModuleTag_Draw_HCBanner
    OkToChangeModelColor  = Yes
	 DefaultModelConditionState
	   Model = MBHCLumberMill
    End
    MultiPlayerOnly = Yes 
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:LumberMill
  Description         = OBJECT:LumberMillDescription
  Side                = Civilian
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = MORDOR_LUMBERMILL_BUILDCOST
  BuildTime           = MORDOR_LUMBERMILL_BUILDTIME
  BountyValue         = MORDOR_LUMBERMILL_BOUNTY_VALUE
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = MORDOR_LUMBERMILL_SHROUD_CLEAR

	ArmorSet
	  Conditions        = None
	  Armor             = StructureArmor
	  ;DamageFX          = StructureDamageFXNoShake
	End

	WeaponSet
		Conditions			= None
	End

	WeaponSet
		Weapon				= PRIMARY EvilStructureBow
		Conditions			= PLAYER_UPGRADE
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

 CommandSet = LumberMillCommandSet

	; *** AUDIO Parameters ***

	VoiceSelect				= MordorLumberMillSelect

	SoundAmbient			= Campfire1AmbientLoop
	SoundOnDamaged			= BuildingLightDamageWood
	SoundOnReallyDamaged		= BuildingHeavyDamageWood
 
	VoiceSelectUnderConstruction	= BuildingEvilVoiceSelectUnderConstruction

	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:MordorLumbermillSawForward 	Animation:MBLumMill_SKL.MBLumMill_IDLD 	Frames:168 241 265 286 311 330
		AnimationSound = Sound:MordorLumbermillSawForward 	Animation:MBLumMill_SKL.MBLumMill_IDLD 	Frames:12 37 57 80 98 122 142
		AnimationSound = Sound:MordorLumbermillSawBack 		Animation:MBLumMill_SKL.MBLumMill_IDLD 	Frames:3 25 47 66 89 110 131
		AnimationSound = Sound:MordorLumbermillSawBack 		Animation:MBLumMill_SKL.MBLumMill_IDLD 	Frames:153 229 252 274 297 322

		AnimationSound = Sound:MordorLumbermillLog 		Animation:MBLumMill_SKL.MBLumMill_IDLD 	Frames:174 190
		AnimationSound = Sound:MordorLumbermillFireBurst	Animation:MBLumMill_SKL.MBLumMill_IDLD 	Frames:193
	End


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP SUPPLY_GATHERING_CENTER AUTO_RALLYPOINT FS_FACTORY FS_CASH_PRODUCER CAN_ATTACK
							;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going


  Body                = StructureBody ModuleTag_05
    MaxHealth               = MORDOR_LUMBERMILL_HEALTH
    MaxHealthDamaged        = MORDOR_LUMBERMILL_HEALTH_DAMAGED
	MaxHealthReallyDamaged  = MORDOR_LUMBERMILL_HEALTH_REALLY_DAMAGED
	 DamageCreationList		= OCL_BuildingDamageList01 CATAPULT_ROCK
  
    DamageCreationList		= OCL_MBLumMill_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList		= OCL_MBLumMill_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList		= OCL_MBLumMill_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList		= OCL_MBLumMill_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
    
  End
  
	Behavior = TooltipUpgrade ModuleTag_MordorTooltip
		TriggeredBy				= Upgrade_MordorFaction
		DisplayName				= OBJECT:MordorLumberMill
	End
	Behavior = TooltipUpgrade ModuleTag_IsengardTooltip
		TriggeredBy				= Upgrade_IsengardFaction
		DisplayName				= OBJECT:IsengardLumberMill
	End

	Behavior = CostModifierUpgrade ModuleTag_CostModifier
		LabelForPalantirString = GUI:WOOD_DISCOUNT
		StartsActive = Yes ; Run on build complete, not upgrade
		ObjectFilter		= ANY +STRUCTURE
		Percentage		= 0%
		Percentage		= -10%
		Percentage		= -20%
		Percentage		= -30%
	End
 
  Behavior = ProductionUpdate ProductionUpdateModuleTag
    ; nothing, but is required if we have any Object-level Upgrades!
  End
 
  Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
    WorkerName		  = MordorWorkerNoSelect
  End

  Behavior = SupplyCenterCreate ModuleTag_RegisterAsSupplyCenter
    ;nothing
  End

	Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon
		AutoAcquireEnemiesWhenIdle	= Yes
		MoodAttackCheckRate			= 250
	End

  Behavior = SupplyCenterProductionExitUpdate ModuleTag_GuysMadeFromMeGoHarvest
    UnitCreatePoint   = X:  0.0  Y:  0.0   Z:0.0
    NaturalRallyPoint = X: 60.0  Y:  0.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior            = SpawnBehavior ModuleTag_FreeWorker
    SpawnNumber       = 4
    SpawnReplaceDelay = 9999
    SpawnTemplateName = MordorWorker
    OneShot           = Yes
    CanReclaimOrphans = No
    RespectCommandLimit = Yes
  End

  Behavior = SupplyCenterDockUpdate ModuleTag_SupplyCenter
	AllowsPassthrough = No 
    NumberApproachPositions = -1 ; No bones, just touch
    BonusScience = SCIENCE_FueltheFires
    BonusScienceMultiplier = 200%
;   ValueMultiplier = 2.0 ; this value will be used to multiply the value set in gamedata.ini to get the final amount
  End
  
   	Behavior = SubObjectsUpgrade ModuleTag_HideAll
		TriggeredBy		= Upgrade_StructureLevel1
		HideSubObjects	= V2 DrawFloor_V1
	End
	
  	Behavior = SubObjectsUpgrade ModuleTag_ShowWalls 
		TriggeredBy		= Upgrade_StructureLevel2
		ShowSubObjects	= DrawFloor_V1
		HideSubObjects	= V2 DrawFloor_Bib
	End
	
	Behavior = SubObjectsUpgrade ModuleTag_ShowFlagsAndTower 
		TriggeredBy		= Upgrade_StructureLevel3
		ShowSubObjects	= DrawFloor_V1 V2
		HideSubObjects	= DrawFloor_Bib
	End
  	Behavior = WeaponSetUpgrade ModuleTag_ThirdLevelBuildingArrows
		TriggeredBy		= Upgrade_StructureLevel3
		ConflictsWith	= Upgrade_EasyAIMultiPlayer
	End
 
;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End
 
 
  Behavior                  = StructureCollapseUpdate ModuleTag_08
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
	DestroyObjectWhenDone	= Yes
	CollapseHeight			= 89
  End

    Behavior = CastleMemberBehavior ModuleTag_CMB
		; Special Eva events when attacked
		UnderAttackEvaEventIfKeep = EconPlotUnderAttack
		UnderAttackAllyEvaEventIfKeep = None

		; Special Eva events if an econ plot is taken down
		CampDestroyedOwnerEvaEvent = EconPlotDestroyed
		CampDestroyedAllyEvaEvent = AllyEconPlotDestroyed
		CampDestroyedAttackerEvaEvent = EnemyEconPlotDestroyed
    End 

	Behavior = GeometryUpgrade Geom_ModuleTag_HideAll
		TriggeredBy		= Upgrade_StructureLevel1
		ShowGeometry	= Geom_Orig
		HideGeometry	= Geom_V2
	End
	Behavior = GeometryUpgrade Geom_ModuleTag_ShowWalls 
		TriggeredBy		= Upgrade_StructureLevel2
		ShowGeometry	= Geom_Orig
		HideGeometry	= Geom_V2 
	End
	Behavior = GeometryUpgrade Geom_ModuleTag_ShowFlagsAndTower 
		TriggeredBy		= Upgrade_StructureLevel3
		ShowGeometry	= Geom_Orig Geom_V2
	End

  AdditionalGeometry    = CYLINDER
  GeometryName			= Geom_Orig
  GeometryMajorRadius   = 55.0
  GeometryMinorRadius   = 55.0
  GeometryHeight        = 40.0
  GeometryOffset		= X:-8 Y:3.5 Z:0
    
  AdditionalGeometry    = CYLINDER
  GeometryName			= Geom_V2
  GeometryMajorRadius   = 16
  GeometryMinorRadius   = 16
  GeometryHeight        = 76.0
  GeometryOffset		= X:-40 Y:-33 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
  
  GeometryContactPoint	= X:-34.46		Y:58.195	Z:0			Repair
  GeometryContactPoint	= X:32.816		Y:-12.328	Z:0			Repair
  GeometryContactPoint	= X:37.903		Y:52.182	Z:0
  GeometryContactPoint	= X:-61.108		Y:-23.796	Z:0
  GeometryContactPoint	= X:-38.697		Y:-10.41	Z:45.943	Swoop
End

;------------------------------------------------------------------------------
;Slaughter House
Object SlaughterHouse

SelectPortrait = BPCSlaughterHouse

  Draw = W3DScriptedModelDraw ModuleTag_Draw
 	ExtraPublicBone = Arrow_01
 	ExtraPublicBone = Arrow_02
 	ExtraPublicBone = Arrow_03
 	ExtraPublicBone = Arrow_04
 	ExtraPublicBone = Arrow_05
 	ExtraPublicBone = Arrow_06
 	ExtraPublicBone = Arrow_07
 	ExtraPublicBone = Arrow_08
 	ExtraPublicBone = Arrow_09
 	ExtraPublicBone = Arrow_10
 	ExtraPublicBone = Arrow_11
 	ExtraPublicBone = Arrow_12
 	
   OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD  
    DefaultModelConditionState
		Model = MBSltrHs_SKN
		WeaponLaunchBone = PRIMARY Arrow_
    End
    
    IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleA
			AnimationName			=	MBSltrHs_SKL.MBSltrHs_LOOP		
			AnimationMode		=	ONCE 
			AnimationBlendTime = 0
		End

		Flags               = RESTART_ANIM_WHEN_COMPLETE 

		;BeginScript
		;	Prev = CurDrawablePrevAnimationState()
		;	if Prev == "BeingConstructed" then 
		;	    ; Don't play completed sound when canceling build-in-progress or when
		;	    ; destroyed halfway
		;		if not CurDrawableModelcondition( "DYING" ) then 
		;			CurDrawablePlaySound("CampOrcCompleteGeneric")
		;		end
		;	end
		;EndScript
	End
	
	

    ;------------ Build Up States 
    ModelConditionState   = AWAITING_CONSTRUCTION 
      Model               = MBSltrHs_A
;		ParticleSysBone	  = NONE BuildingDoughnutCloud
    End;
    AnimationState        = AWAITING_CONSTRUCTION
      Animation           =  MBSltrHs_A
        AnimationName     =  MBSltrHs_ASKL.MBSltrHs_ABLD
        AnimationMode     = MANUAL
        AnimationBlendTime = 0
      End
	Flags				  = START_FRAME_FIRST
    End

    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
      Model               = MBSltrHs_A
		ParticleSysBone   = CONSTDUSTBONE01 BuildingContructDust FollowBone:Yes
    End
    AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
		Animation           = MBSltrHs_A
			AnimationName     = MBSltrHs_ASKL.MBSltrHs_ABLD
			AnimationMode     = MANUAL
			AnimationBlendTime = 0
		End
		Flags				  = START_FRAME_FIRST
		StateName			  = BeingConstructed
	BeginScript
		CurDrawablePlaySound("GondorBarracksBeginConstruction")
	EndScript
    End
    
    
        ;--damaged building
      ModelConditionState  = DESTROYED_FRONT
      Model         = MBSltrHs_D2  
      	ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 
    End
    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("D2A")
      EndScript
    End
    
        ModelConditionState  = DESTROYED_RIGHT
      Model         = MBSltrHs_D2  
      	ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("D2B")
      EndScript
    End
    

    ModelConditionState  = DESTROYED_BACK
      Model         = MBSltrHs_D2  
      	ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("D2C")
      EndScript
    End

	ModelConditionState  = DESTROYED_LEFT
      Model         = MBSltrHs_D2  
      	ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("D2D")
      EndScript
    End
    
    
    ModelConditionState  = DAMAGED
      Model         = MBSltrHs_D1
      	ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingMedium
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 FireBuildingMedium 
	
    End
    AnimationState = DAMAGED
     EnteringStateFX	= FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBSltrHs_D2  
      	ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 
		
    End
    AnimationState = REALLYDAMAGED
     	EnteringStateFX	= FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = MBSltrHs_D2  
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = RUBBLE
      BeginScript
        CurDrawableHideSubObject("D2A")
        CurDrawableHideSubObject("D2B")
        CurDrawableHideSubObject("D2C")
        CurDrawableHideSubObject("D2D")
      EndScript
    End

    ModelConditionState  = POST_RUBBLE
		Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
		 Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    
	;------------- With industry effect
;    AnimationState = UPGRADE_ECONOMY_BONUS
;		StateName	=	STATE_Idle
;		Animation = IdleA
;			AnimationName		=	MBSltrHs_SKL.MBSltrHs_LOOP
;			AnimationMode		=	LOOP 
;			AnimationBlendTime	=	0
;		End
;		ParticleSysBone		= None Industry
;	End    
  End

  Draw = W3DFloorDraw DrawFloor_Bib    
		StaticModelLODMode = Yes		; THIS NEEDS TO BE COMMENTED OUT WHEN ENGINEERING ENABLES LOD'S IN THE FLOOR DRAW - Sean O.
     ModelName = MBSltrHs_Bib
  End
 
  Draw = W3DFloorDraw DrawFloor_V1    
     ModelName = MBSltrHs_V1
	 StartHidden = Yes
  End
  
	Draw = W3DScriptedModelDraw Draw_BonusEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    AnimationState = ACTIVELY_BEING_CONSTRUCTED
	    End
		AnimationState = UPGRADE_ECONOMY_BONUS
			ParticleSysBone = None Industry
		End
	End
  
; Not working correctly, so taken out.  
  Draw = W3DScriptedModelDraw ModuleTag_Draw_HCBanner
    OkToChangeModelColor  = Yes
	DefaultModelConditionState
		Model = MBHCSltrHs
    End
    MultiPlayerOnly = Yes 
  End
  
  
	WeaponSet
		Conditions			= None
	End
	WeaponSet
		Conditions			= PLAYER_UPGRADE
		Weapon				= PRIMARY KeepBow
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
  
  
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorSlaughterHouse
  Description         = OBJECT:SlaughterHouseDescription
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
  
  CommandSet = SellableCommandSet
  
  PlacementViewAngle  = 0  ; 45

	 
  BuildCost           = MORDOR_SLAUGHTERHOUSE_BUILDCOST 
  BuildTime           = MORDOR_SLAUGHTERHOUSE_BUILDTIME
  VisionRange         = MORDOR_SLAUGHTERHOUSE_VISION_RANGE
  ShroudClearingRange = MORDOR_SLAUGHTERHOUSE_SHROUD_CLEAR
  BountyValue         = MORDOR_SLAUGHTERHOUSE_BOUNTY_VALUE

	ArmorSet
		Conditions        = None
		Armor             = StructureArmor
		;DamageFX          = StructureDamageFXNoShake
	End


; *** AUDIO Parameters ***

	VoiceSelect				= MordorSlaughterHouseSelect

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone
	SoundAmbientDamaged		= GenericFireMediumLoop
	SoundAmbientReallyDamaged	= GenericFireLargeLoop
 
	VoiceSelectUnderConstruction	= BuildingEvilVoiceSelectUnderConstruction

	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:MordorSlaughterhouseBuildUp1 	Animation:MBSltrHs_ASKL.MBSltrHs_ABLD	Frames:0 
		AnimationSound = Sound:MordorSlaughterhouseBuildUp2 	Animation:MBSltrHs_ASDL.MBSltrHs_ABLD	Frames:460
 
		AnimationSound = Sound:MordorSlaughterhouseOrcYell 	Animation:MBSltrHs_SKL.MBSltrHs_LOOP	Frames:72
		AnimationSound = Sound:MordorSlaughterhouseWhistle 	Animation:MBSltrHs_SKL.MBSltrHs_LOOP	Frames:49
		AnimationSound = Sound:MordorSlaughterhouseHooves 	Animation:MBSltrHs_SKL.MBSltrHs_LOOP	Frames:111 122 138 154 158 160 173 188 204 217 232 244 264 272 
		AnimationSound = Sound:MordorSlaughterhouseSnicker 	Animation:MBSltrHs_SKL.MBSltrHs_LOOP	Frames:294 
		AnimationSound = Sound:MordorSlaughterhouseCowDie 	Animation:MBSltrHs_SKL.MBSltrHs_LOOP	Frames:378 
		AnimationSound = Sound:MordorSlaughterhouseDieFall 	Animation:MBSltrHs_SKL.MBSltrHs_LOOP	Frames:377
		AnimationSound = Sound:MordorSlaughterhouseHookMeat 	Animation:MBSltrHs_SKL.MBSltrHs_LOOP	Frames:830
	End


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP GARRISONABLE_UNTIL_DESTROYED FS_CASH_PRODUCER CAN_ATTACK GARRISON INDUSTRY_AFFECTED ;for the slaughterhordecontain
									;MP_COUNT_FOR_VICTORY;removed so econ plots will not keep zombie games going
  Behavior = TooltipUpgrade ModuleTag_TooltipUpgrade
	TriggeredBy				= Upgrade_IsengardFaction
	DisplayName				= OBJECT:IsengardSlaughterHouse
	Description				= OBJECT:IsengardSlaughterHouseDescription
  End

  Behavior = ProductionUpdate ProductionUpdateModuleTag
    ; nothing, but is required if we have any Object-level Upgrades!
  End
 
  Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
    WorkerName		  = MordorWorkerNoSelect
  End

    Behavior = CastleMemberBehavior ModuleTag_CMB
		; Special Eva events when attacked
		UnderAttackEvaEventIfKeep = EconPlotUnderAttack
		UnderAttackAllyEvaEventIfKeep = None

		; Special Eva events if an econ plot is taken down
		CampDestroyedOwnerEvaEvent = EconPlotDestroyed
		CampDestroyedAllyEvaEvent = AllyEconPlotDestroyed
		CampDestroyedAttackerEvaEvent = EnemyEconPlotDestroyed
    End 

	Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon
 		AutoAcquireEnemiesWhenIdle	= Yes
 		MoodAttackCheckRate			= 250
 	End

  Body						        = ActiveBody ModuleTag_05
    MaxHealth				      = MORDOR_SLAUGHTERHOUSE_HEALTH
    MaxHealthDamaged	  	= MORDOR_SLAUGHTERHOUSE_HEALTH_DAMAGED
	MaxHealthReallyDamaged	= MORDOR_SLAUGHTERHOUSE_HEALTH_REALLY_DAMAGED
    DamageCreationList		= OCL_BuildingDamageList01 CATAPULT_ROCK
  
    DamageCreationList		= OCL_MBSlaughterHouse_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList		= OCL_MBSlaughterHouse_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList		= OCL_MBSlaughterHouse_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList		= OCL_MBSlaughterHouse_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
    
  End
 
   Behavior                  = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate 
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
	DestroyObjectWhenDone	= Yes
	CollapseHeight			= 89
  End

	Behavior = AutoDepositUpdate AutoDepositModuleTag
		DepositTiming       = MORDOR_SLAUGHTERHOUSE_MONEY_TIME 
		DepositAmount       = MORDOR_SLAUGHTERHOUSE_MONEY_AMOUNT
		InitialCaptureBonus = 0  ; no initial bonus
	End
  
	Behavior = CostModifierUpgrade ModuleTag_CostModifier
		LabelForPalantirString = GUI:FOOD_DISCOUNT
		StartsActive = Yes ; Run on build complete, not upgrade
		ObjectFilter		= ANY +CAVALRY +MordorMountainTroll +MordorDrummerTroll +MordorMumakil
		Percentage		= 0%
		Percentage		= -10%
		Percentage		= -15%
		Percentage		= -20%
		Percentage		= -25%
		Percentage		= -30%
	End

   	Behavior = SubObjectsUpgrade ModuleTag_HideAll
		TriggeredBy		= Upgrade_StructureLevel1
		HideSubObjects	= V2 DrawFloor_V1
	End
	Behavior = GeometryUpgrade Geom_ModuleTag_HideAll
		TriggeredBy		= Upgrade_StructureLevel1
		ShowGeometry	= Geom_Orig
		HideGeometry	= Geom_V2
	End
	
	
  	Behavior = SubObjectsUpgrade ModuleTag_ShowWalls 
		TriggeredBy		= Upgrade_StructureLevel2
		ShowSubObjects	= DrawFloor_V1
		HideSubObjects	= V2 DrawFloor_Bib
	End
	
;	Behavior = GeometryUpgrade Geom_ModuleTag_ShowWalls 
;		TriggeredBy		= Upgrade_StructureLevel2
;		HideGeometry	= Geom_V2
;	End
	
	
	Behavior = SubObjectsUpgrade ModuleTag_ShowFlagsAndTower 
		TriggeredBy		= Upgrade_StructureLevel3
		ShowSubObjects	= V2 DrawFloor_V1
		HideSubObjects	= DrawFloor_Bib
	End  
	Behavior = GeometryUpgrade Geom_ModuleTag_ShowFlagsAndTower 
		TriggeredBy		= Upgrade_StructureLevel3
		ShowGeometry	= Geom_Orig Geom_V2
	End  
  	Behavior = WeaponSetUpgrade ModuleTag_ThirdLevelBuildingArrows
		TriggeredBy		= Upgrade_StructureLevel3
		ConflictsWith	= Upgrade_EasyAIMultiPlayer
	End
  
	Behavior = SlaughterHordeContain ModuleTag_SlaughterMe
		PassengerFilter			= ANY +ORC +URUK +BANNER -CAVALRY -HERO
		ObjectStatusOfContained	= UNSELECTABLE BLOODTHIRSTY
		CashBackPercent			= 100%		
		ContainMax              = 99; give it a huge capacity, just in case player sends his whole army in at once
		MaxHordeCapacity        = 99; give it a huge capacity, just in case player sends his whole army in at once
		AllowEnemiesInside      = No
		AllowNeutralInside      = No
		EnterSound			= MordorSlaughterhouseEnterSound
	End

	Geometry              = BOX
	GeometryName		  = Geom_Orig
	GeometryMajorRadius   = 16.0
	GeometryMinorRadius   = 32.0
	GeometryHeight        = 34.0
	GeometryOffset		  = X:-28 Y:-40 Z:0

	AdditionalGeometry    = BOX
	GeometryName		  = Geom_Orig
	GeometryMajorRadius   = 42.5
	GeometryMinorRadius   = 30.0
	GeometryHeight        = 60.0
	GeometryOffset		  = X:-5 Y:14 Z:0
	
	AdditionalGeometry    = BOX
	GeometryName		  = Geom_V2
	GeometryMajorRadius   = 16.0
	GeometryMinorRadius   = 16.0
	GeometryHeight        = 85.0
	GeometryOffset		  = X:-28 Y:-56 Z:0	
;	GeometryActive		  = no
		
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
  
	GeometryContactPoint	= X:-31.995		Y:52.998	Z:0			Repair
	GeometryContactPoint	= X:-19.467		Y:-73.703	Z:0			Repair
	GeometryContactPoint	= X:52.078		Y:32.503	Z:0
	GeometryContactPoint	= X:-47.27		Y:-20.312	Z:0
	GeometryContactPoint	= X:-30.442		Y:0.326		Z:64.914	Swoop

End

;ChildObject IsengardSlaughterHouse	SlaughterHouse
;
;	DisplayName				= OBJECT:IsengardSlaughterHouse
;	Description				= OBJECT:IsengardSlaughterHouseDescription
;	Side					= Isengard
;	EditorSorting			= STRUCTURE
;
;End

;------------------------------------------------------------------------------
;Furnace
Object Furnace

	SelectPortrait = BPCFurnace
 
  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_Draw
	ExtraPublicBone = Arrow_01
	ExtraPublicBone = Arrow_02
	ExtraPublicBone = Arrow_03
	ExtraPublicBone = Arrow_04
	ExtraPublicBone = Arrow_05

    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD  
    DefaultModelConditionState
		Model = MBFurnace_SKN
		ParticleSysBone = Bone_Smoke04 furnaceFireGlow
		ParticleSysBone = Bone_Smoke04 furnaceSparks
		ParticleSysBone = Bone_Smoke04 furnaceSmoke
		ParticleSysBone = Bone_Fire01 furnaceFire
		ParticleSysBone = glowBone1 furnaceFireGlow1
		ParticleSysBone = glowBone2 furnaceFireGlow1
		ParticleSysBone = steamBone2 furnaceSteam2 FollowBone:Yes
		WeaponLaunchBone = PRIMARY Arrow_
    End 
 
    IdleAnimationState
		StateName					=   STATE_Idle
		Animation = IdleA
			AnimationName			=	MBFurnace_SKL.MBFurnace_IDLA
			AnimationMode		=	ONCE 
			AnimationBlendTime = 0
		End
		Flags               = RESTART_ANIM_WHEN_COMPLETE 
		FXEvent = Frame:30  Name:FX_FurnaceSteamPool
	End
	
    ;------------ New Build Up States coming soon. 
    ModelConditionState   = AWAITING_CONSTRUCTION 
      Model               = MBFurnace_A
;		ParticleSysBone	  = NONE BuildingDoughnutCloud
    End;
    AnimationState        = AWAITING_CONSTRUCTION
      Animation           =  MBFurnace_A
        AnimationName     =  MBFurnace_ASKL.MBFurnace_ABLD
        AnimationMode     = MANUAL
        AnimationBlendTime = 0
      End
	Flags				  = START_FRAME_FIRST
    End

    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
      Model               = MBFurnace_A
		ParticleSysBone   = CONSTDUSTBONE01 BuildingContructDust FollowBone:Yes
    End;
    
    AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
		Animation           = MBFurnace_A
			AnimationName     = MBFurnace_ASKL.MBFurnace_ABLD
			AnimationMode     = MANUAL
			AnimationBlendTime = 0
		End
		Flags				  = START_FRAME_FIRST
		StateName			  = BeingConstructed
	BeginScript
		CurDrawablePlaySound("GondorBarracksBeginConstruction")
	EndScript
    End
    
    
        ;--damaged building
      ModelConditionState  = DESTROYED_FRONT
      Model         = MBFurnace_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 	
    End
    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("MBfurnaceDP_1")
      EndScript
    End
    
        ModelConditionState  = DESTROYED_RIGHT
      Model         = MBFurnace_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 	
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("MBfurnaceDP_2")
      EndScript
    End
    

    ModelConditionState  = DESTROYED_BACK
      Model         = MBFurnace_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 	
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("MBfurnaceDP_3")
      EndScript
    End

	ModelConditionState  = DESTROYED_LEFT
      Model         = MBFurnace_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 	
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("MBfurnaceDP_4")
      EndScript
    End
    
    
    ModelConditionState  = DAMAGED
      Model         = MBFurnace_D1  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingMedium
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 FireBuildingMedium 	
    End
    AnimationState = DAMAGED
     EnteringStateFX	= FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBFurnace_D2  
        ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 SmokeBuildingLarge
		ParticleSysBone FireSmall04 FireBuildingLarge
		ParticleSysBone FireSmall05 FireBuildingMedium 	
	
    End
    AnimationState = REALLYDAMAGED
     	EnteringStateFX	= FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = MBFurnace_D2  
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = RUBBLE
      BeginScript
        CurDrawableHideSubObject("MBfurnaceDP_1")
        CurDrawableHideSubObject("MBfurnaceDP_2")
        CurDrawableHideSubObject("MBfurnaceDP_3")
        CurDrawableHideSubObject("MBfurnaceDP_4")
      EndScript
    End

    ModelConditionState  = POST_RUBBLE
		Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
		 Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    
	;------------- With industry effect
;    AnimationState = UPGRADE_ECONOMY_BONUS
;		StateName	=	STATE_Idle
;		Animation = IdleA
;			AnimationName		=	MBFurnace_SKL.MBFurnace_IDLA
;			AnimationMode		=	LOOP 
;			AnimationBlendTime	=	0
;		End
;		ParticleSysBone		= None Industry
;	End
  End

  Draw = W3DFloorDraw DrawFloor_Bib    
	 StaticModelLODMode = Yes		; THIS NEEDS TO BE COMMENTED OUT WHEN ENGINEERING ENABLES LOD'S IN THE FLOOR DRAW - Sean O.
     ModelName = MBFurnace_Bib
  End
  
  Draw = W3DFloorDraw DrawFloor_V1    
     ModelName = MBFurnace_V1
	  StartHidden = Yes
  End

	Draw = W3DScriptedModelDraw Draw_BonusEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    AnimationState = ACTIVELY_BEING_CONSTRUCTED
	    End
		AnimationState = UPGRADE_ECONOMY_BONUS
			ParticleSysBone = None Industry
		End
	End
    
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Furnace
  Description         = OBJECT:FurnaceDescription
  Side                = Civilian
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = MORDOR_FURNACE_BUILDCOST
  BuildTime           = MORDOR_FURNACE_BUILDTIME
  VisionRange         = MORDOR_FURNACE_VISION_RANGE
  ShroudClearingRange = MORDOR_FURNACE_SHROUD_CLEAR
  BountyValue         = MORDOR_FURNACE_BOUNTY_VALUE

	ArmorSet
		Conditions        = None
		Armor             = StructureArmor
		;DamageFX          = StructureDamageFXNoShake
	End

	WeaponSet
		Conditions			= None
	End
	WeaponSet
		Conditions			= PLAYER_UPGRADE
		Weapon				= PRIMARY KeepBow
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	CommandSet = FurnaceCommandSet


; *** AUDIO Parameters ***

	VoiceSelect = MordorFurnaceSelect

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	VoiceSelectUnderConstruction	= BuildingEvilVoiceSelectUnderConstruction

	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: MordorFurnaceLava		Animation:MBFurnace_SKL.MBFurnace_IDLA Frames: 32
		AnimationSound = Sound: MordorFurnaceBricksDrop		Animation:MBFurnace_SKL.MBFurnace_IDLA Frames: 185
	End

 
	; *** ENGINEERING Parameters ***
	RadarPriority       = STRUCTURE
	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_CASH_PRODUCER INDUSTRY_AFFECTED

	Behavior = AIUpdateInterface ModuleTag_SoWeCanUseWeapon
 		AutoAcquireEnemiesWhenIdle	= Yes
 		MoodAttackCheckRate			= 250
 	End

	Behavior = ProductionUpdate ProductionUpdateModuleTag
		; nothing, but is required if we have any Object-level Upgrades!
	End
 
	Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
		WorkerName		  = MordorWorkerNoSelect
	End

	Behavior = CastleMemberBehavior ModuleTag_CMB
	End 

	Body                = StructureBody ModuleTag_05
		MaxHealth               = MORDOR_FURNACE_HEALTH
		MaxHealthDamaged        = MORDOR_FURNACE_HEALTH_DAMAGED
		MaxHealthReallyDamaged  = MORDOR_FURNACE_HEALTH_REALLY_DAMAGED
   
		DamageCreationList		= OCL_BuildingDamageList01 CATAPULT_ROCK
  
	    DamageCreationList		= OCL_Furnace_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
		DamageCreationList		= OCL_Furnace_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
		DamageCreationList		= OCL_Furnace_Chunk3 CATAPULT_ROCK BACK_DESTROYED
		DamageCreationList		= OCL_Furnace_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
    
	End
 
	Behavior                  = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate 
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 89
	End

  
	Behavior = AutoDepositUpdate AutoDepositModuleTag
		DepositTiming       = MORDOR_FURNACE_MONEY_TIME 
		DepositAmount       = MORDOR_FURNACE_MONEY_AMOUNT
		InitialCaptureBonus = 0  ; no initial bonus
	End

;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End

	Behavior = CostModifierUpgrade ModuleTag_CostModifierUpgrades
		LabelForPalantirString = GUI:STEEL_DISCOUNT
		StartsActive = Yes ; Run on build complete, not upgrade
		UpgradeDiscount	= Yes
		Percentage		= 0%
		Percentage		= -10%
		Percentage		= -15%
		Percentage		= -20%
		Percentage		= -30%
		Percentage		= -40%
	End

	Behavior = CostModifierUpgrade ModuleTag_CostModifierMachines
		LabelForPalantirString = GUI:STEEL_DISCOUNT
		StartsActive = Yes ; Run on build complete, not upgrade
		ObjectFilter	= ANY +MACHINE
		Percentage		= 0%
		Percentage		= -10%
		Percentage		= -15%
		Percentage		= -20%
		Percentage		= -30%
		Percentage		= -40%
	End

  	Behavior = SubObjectsUpgrade ModuleTag_HideAll
		TriggeredBy		= Upgrade_StructureLevel1
		HideSubObjects	= V2 DrawFloor_V1
	End
	Behavior = GeometryUpgrade Geom_ModuleTag_HideAll
		TriggeredBy		= Upgrade_StructureLevel1
		HideGeometry	= Geom_V2 Geom_Base2
	End
	
	
  	Behavior = SubObjectsUpgrade ModuleTag_ShowWalls 
		TriggeredBy		= Upgrade_StructureLevel2
		ShowSubObjects	= DrawFloor_V1
		HideSubObjects	= V2 DrawFloor_Bib
	End
	Behavior = GeometryUpgrade Geom_ModuleTag_ShowWalls 
		TriggeredBy		= Upgrade_StructureLevel2
		ShowGeometry	= Geom_V1
		HideGeometry	= Geom_V2 Geom_Base
	End
	
	
	Behavior = SubObjectsUpgrade ModuleTag_ShowFlagsAndTower 
		TriggeredBy		= Upgrade_StructureLevel3
		ShowSubObjects	= V2 DrawFloor_V1
		HideSubObjects	= DrawFloor_Bib
	End
	Behavior = GeometryUpgrade Geom_ModuleTag_ShowFlagsAndTower 
		TriggeredBy		= Upgrade_StructureLevel3
		ShowGeometry	= Geom_V2 Geom_Orig Geom_V1
		HideGeometry	= Geom_Base
	End
  	Behavior = WeaponSetUpgrade ModuleTag_ThirdLevelBuildingArrows
		TriggeredBy		= Upgrade_StructureLevel3
		ConflictsWith	= Upgrade_EasyAIMultiPlayer
	End
	 
	Behavior = QueueProductionExitUpdate ModuleTag_11
		UnitCreatePoint   = X:0.0 Y:5.0 Z:0.0
		NaturalRallyPoint = X:50.0 Y:5.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
		ExitDelay = 300 ; Mainly for the multiple produced Red Guard.  Make them come out one at a time.
	End  

;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
	Behavior = TransitionDamageFX ModuleTag_15
		;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
		DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
		;---------------------------------------------------------------------------------------
		ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
		ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
		ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
	End
 
;	Behavior             = FXListDie ModuleTag_16
;		DeathFX       = FX_BuildingDie
;	End
 
	Geometry              = CYLINDER
	GeometryName		  = Geom_Orig
	GeometryMajorRadius   = 28.6
	GeometryHeight        = 80.8
	GeometryOffset		  = X:5 Y:-5 Z:0

    AdditionalGeometry    = BOX
    GeometryName		  = Geom_Base
    GeometryMajorRadius   = 45.0
    GeometryMinorRadius   = 35.0
    GeometryHeight        = 25.0	
    GeometryOffset		  = X:20 Y:-10 Z:0
    
    AdditionalGeometry    = CYLINDER
    GeometryName		  = Geom_V1
    GeometryMajorRadius   = 66.0
    GeometryMinorRadius   = 66.0
    GeometryHeight        = 20.0	
    GeometryOffset		  = X:8 Y:-8 Z:0	
;    GeometryActive		  = no

	AdditionalGeometry    = CYLINDER
	GeometryName		  = Geom_V2
    GeometryMajorRadius   = 25.0
    GeometryMinorRadius   = 25.0
    GeometryHeight        = 80.0	
    GeometryOffset		  = X:-10 Y:-20 Z:0
;	GeometryActive		  = no
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
	BuildCompletion     = PLACED_BY_PLAYER
	
	GeometryContactPoint	= X:-18.325		Y:20.726	Z:0			Repair
	GeometryContactPoint	= X:69.049		Y:-12.807	Z:0			Repair
	GeometryContactPoint	= X:49.467		Y:31.862	Z:0
	GeometryContactPoint	= X:-18.325		Y:-53.891	Z:0
	GeometryContactPoint	= X:3.534		Y:0.006		Z:97.644	Swoop

End

;------------------------------------------------------------------------------

Object PreBuiltCampFlag_01

SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End

	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End
	
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 99999.0
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSW 
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSW   
  	CastleToUnpackForFaction  = Isengard  Camp_Isengard 
  	CastleToUnpackForFaction  = Rohan  Camp_Rohan  

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		CinMrdBnr01		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0

	PreBuiltList = GondorBarracks 1	
	PreBuiltList = GondorFarm 2	
	PreBuiltPlyr = PlyrGondor
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds	
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------

Object PreBuiltCampFlag_02

SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End
	
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 99999.0
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSW  
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSW  
  	CastleToUnpackForFaction  = Isengard  Camp_Isengard 
  	CastleToUnpackForFaction  = Rohan  Camp_Rohan  

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		CinMrdBnr01		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0

	PreBuiltList = GondorBarracks 1	
	PreBuiltList = GondorFarm 2	
	PreBuiltPlyr = PlyrGondor
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds	
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME
  
End

;------------------------------------------------------------------------------

Object PreBuiltCampFlag_03

SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag    
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody  ModuleTag_02
    MaxHealth       = 99999.0
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSW  
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSW  
  	CastleToUnpackForFaction  = Isengard  Camp_Isengard 
  	CastleToUnpackForFaction  = Rohan  Camp_Rohan  

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		CinMrdBnr01		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0

	PreBuiltList = GondorBarracks 1	
	PreBuiltList = GondorFarm 2	
	PreBuiltPlyr = PlyrGondor
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds	
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------

Object PreBuiltCampFlag_04

SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End

  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 99999.0
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSW  
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSW  
  	CastleToUnpackForFaction  = Isengard  Camp_Isengard 
  	CastleToUnpackForFaction  = Rohan  Camp_Rohan  

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		CinMrdBnr01		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0

     PreBuiltList = GondorBarracks 0
     PreBuiltList = GondorArcherRange 1
     PreBuiltList = GondorFarm 2
	 PreBuiltList = GondorFarm 3
	 PreBuiltList = GondorMarketPlace 4
	 PreBuiltList = GondorFarm 5
     PreBuiltPlyr = PlyrGondor
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds	
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------

Object PreBuiltCampFlag_05

SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 99999.0
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSW 
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSW  
  	CastleToUnpackForFaction  = Isengard  Camp_Isengard 
  	CastleToUnpackForFaction  = Rohan  Camp_Rohan  

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		CinMrdBnr01		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0

	PreBuiltList = GondorBarracks 1	
	PreBuiltList = GondorFarm 2	
	PreBuiltPlyr = PlyrGondor
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds	
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------

Object PreBuiltCampFlag_06

SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 99999.0
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSW 
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSW  
  	CastleToUnpackForFaction  = Isengard  Camp_Isengard 
  	CastleToUnpackForFaction  = Rohan  Camp_Rohan  

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		CinMrdBnr01		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0

	PreBuiltList = GondorBarracks 1	
	PreBuiltList = GondorFarm 2	
	PreBuiltPlyr = PlyrGondor

	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds	
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------

Object PreBuiltCampFlag_07

SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 99999.0
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSW 
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSW  
  	CastleToUnpackForFaction  = Isengard  Camp_Isengard 
  	CastleToUnpackForFaction  = Rohan  Camp_Rohan  

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		CinMrdBnr01		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0

	PreBuiltList = GondorBarracks 1	
	PreBuiltList = GondorFarm 2	
	PreBuiltPlyr = PlyrGondor
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds	
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------

Object PreBuiltCampFlag_08

SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 99999.0
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSW 
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSW  
  	CastleToUnpackForFaction  = Isengard  Camp_Isengard 
  	CastleToUnpackForFaction  = Rohan  Camp_Rohan  

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		CinMrdBnr01		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0

	PreBuiltList = GondorBarracks 1	
	PreBuiltList = GondorFarm 2	
	PreBuiltPlyr = PlyrGondor
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds	
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End




;-----------------------------------------------------------------------------

Object CampFlagNE

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
		;BeginScript
		;	CurDrawablePlaySound("GondorBarracksBeginConstruction")
		;EndScript
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End

	;------------- AUDIO ----------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet
  
  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE 
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorNE GONDOR_FLAG_CAMP_UNPACK_COST
  	CastleToUnpackForFaction  = Mordor  Camp_MordorNE MORDOR_FLAG_CAMP_UNPACK_COST 
  	CastleToUnpackForFaction  = Isengard  Camp_IsengardNE ISENGARD_FLAG_CAMP_UNPACK_COST
  	CastleToUnpackForFaction  = Rohan  Camp_RohanNE  ROHAN_FLAG_CAMP_UNPACK_COST

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		IBCampFloor		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;-----------------------------------------------------------------------------

Object CampFlagNW

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End


	;------------- AUDIO ----------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE 
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorNW GONDOR_FLAG_CAMP_UNPACK_COST
  	CastleToUnpackForFaction  = Mordor  Camp_MordorNW MORDOR_FLAG_CAMP_UNPACK_COST 
  	CastleToUnpackForFaction  = Isengard  Camp_IsengardNW ISENGARD_FLAG_CAMP_UNPACK_COST
  	CastleToUnpackForFaction  = Rohan  Camp_RohanNW ROHAN_FLAG_CAMP_UNPACK_COST 

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		IBCampFloor		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End


;-----------------------------------------------------------------------------

Object CampFlagSE

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End

  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End

	;------------- AUDIO ----------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE 
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSE GONDOR_FLAG_CAMP_UNPACK_COST
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSE MORDOR_FLAG_CAMP_UNPACK_COST 
  	CastleToUnpackForFaction  = Isengard  Camp_IsengardSE ISENGARD_FLAG_CAMP_UNPACK_COST
  	CastleToUnpackForFaction  = Rohan  Camp_RohanSE ROHAN_FLAG_CAMP_UNPACK_COST 

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		IBCampFloor		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End


;-----------------------------------------------------------------------------

Object CampFlagSW

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NCampsite_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
		;BeginScript
		;	CurDrawablePlaySound("GondorBarracksBeginConstruction")
		;EndScript
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NCampsite_Bib
	End


	;------------- AUDIO ----------------

	VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE 
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Camp_GondorSW GONDOR_FLAG_CAMP_UNPACK_COST
  	CastleToUnpackForFaction  = Mordor  Camp_MordorSW MORDOR_FLAG_CAMP_UNPACK_COST 
  	CastleToUnpackForFaction  = Isengard  Camp_IsengardSW ISENGARD_FLAG_CAMP_UNPACK_COST
  	CastleToUnpackForFaction  = Rohan  Camp_RohanSW ROHAN_FLAG_CAMP_UNPACK_COST 

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.

	;FactionDecal = Gondor		GBCampFloor		675.0
	;FactionDecal = Rohan		IBCampFloor		650.0
	;FactionDecal = Mordor		MBCampFloor		650.0
	;FactionDecal = Isengard		IBCampFloor		650.0
	
	MaxCastleRadius = 280.0
	FadeTime = 2.0 ; 2 seconds
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 24.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End



;------------------------------------------------------------
Object StructureRubblePileLarge
	Draw = W3DScriptedModelDraw ModuleTag_01
		DefaultModelConditionState
			Model = GBGenRubble_A
		End
		

		AnimationState = JUST_BUILT
			StateName = JustBuilt
			Animation = GBGenRubble_A
				AnimationName = GBGenRubble_A.GBGenRubble_A
				AnimationMode = MANUAL
			End
		End    


		IdleAnimationState  
			Animation = GBGenRubble2_A
				AnimationName = GBGenRubble2_A.GBGenRubble2_A
				AnimationMode = MANUAL
			End
			Flags = START_FRAME_LAST
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "JustBuilt"	then CurDrawableSetTransitionAnimState("TRANS_Rise") return end
				;CurDrawableSetTransitionAnimState("TRANS_Rise") return 
			EndScript
		End    
		TransitionState = TRANS_Rise 
			Animation = GBGenRubble2_A
				AnimationName = GBGenRubble2_A.GBGenRubble2_A
				AnimationMode = ONCE
				AnimationSpeedFactorRange = 2.5 2.5
			End
		End    
	End
	
	KindOf = INERT
	
		
End
;------------------------------------------------------------
Object StructureRubblePileSmall
	Draw = W3DScriptedModelDraw ModuleTag_01
		DefaultModelConditionState
			Model = GBGenRubble_A
		End
		
		AnimationState = JUST_BUILT
			StateName = JustBuilt
			Animation = GBGenRubble
				AnimationName = GBGenRubble.GBGenRubble
				AnimationMode = MANUAL
			End
		End    


		IdleAnimationState  
			Animation = GBGenRubble2_A
				AnimationName = GBGenRubble_A.GBGenRubble_A
				AnimationMode = MANUAL
			End
			Flags = START_FRAME_LAST
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "JustBuilt"	then CurDrawableSetTransitionAnimState("TRANS_Rise") return end
				;CurDrawableSetTransitionAnimState("TRANS_Rise") return 
			EndScript
		End    
		TransitionState = TRANS_Rise 
			Animation = GBGenRubble_A
				AnimationName = GBGenRubble_A.GBGenRubble_A
				AnimationMode = ONCE
				AnimationSpeedFactorRange = 2.5 2.5
			End
		End    
	End
	
	KindOf = INERT
		
End



;------------------------------------------------------------
Object StructureRubblePileSinkAway
	Draw = W3DScriptedModelDraw ModuleTag_01
		DefaultModelConditionState
			Model = GBGenRubble2_A
		End

		AnimationState = None 
			Animation = GBGenRubble2_A
				AnimationName = GBGenRubble2_A.GBGenRubble2_A
				AnimationMode = ONCE
				AnimationSpeedFactorRange = 2.0 2.0
			End
		End    
	End
	
	Behavior = SlowDeathBehavior ModuleTagSinkAway
		DeathTypes = ALL 
		SinkDelay = 0
		SinkRate = 2.0     ; in Dist/Sec
		DestructionDelay = 12000
	End
	; To force to immediately go to DYING state 
	Behavior = LifetimeUpdate ModuleTag_06
		MinLifetime = 1000   ; min lifetime in msec
		MaxLifetime = 1000   ; max lifetime in msec
	End

	Body                  = ActiveBody ModuleTag_02
		MaxHealth       = 1.0
	End

	KindOf = INERT
End

;------------------------------------------------------------
Object Helm'sDeep_MainWall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = NBHDMainWall
    End
        
  End
  

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:NBHDMainWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 24.8
  GeometryMinorRadius   = 80.2
  GeometryHeight        = 100.4
  GeometryOffset		= X:-22.8 Y:0 Z:0
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 22.0
  GeometryMinorRadius   = 7.2
  GeometryHeight        = 110.4
  GeometryOffset		= X:13.8 Y:0 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 22.8
  GeometryMinorRadius   = 56.2
  GeometryHeight        = 100.4
  GeometryOffset		= X:-12.8 Y:0 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End
;------------------------------------------------------------

Object Helm'sDeep_Ramp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = NBHDRamp
    End
        
  End
  

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:NBHDRamp
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 4.8
  GeometryMinorRadius   = 7.2
  GeometryHeight        = 26.4
  GeometryActive		= no
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 33.0
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 107.4
  GeometryOffset		= X:8.8 Y:-65.2 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 36.0
  GeometryMinorRadius   = 33.0
  GeometryHeight        = 107.4
  GeometryOffset		= X:5.8 Y:83.2 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 18.8
  GeometryMinorRadius   = 45.2
  GeometryHeight        = 38.4
  GeometryOffset		= X:0 Y:10 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 18.8
  GeometryMinorRadius   = 41.2
  GeometryHeight        = 38.4
  GeometryOffset		= X:37.6 Y:10 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 30.8
  GeometryMinorRadius   = 41.2
  GeometryHeight        = 22.4
  GeometryOffset		= X:85.4 Y:10 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 60.8
  GeometryMinorRadius   = 41.2
  GeometryHeight        = 11.4
  GeometryOffset		= X:177.0+ Y:10 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End
;------------------------------------------------------------

Object Helm'sDeep_KeepWall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = NBHDKeepWall
    End
        
  End
  

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:NBHDKeepWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 22.8
  GeometryMinorRadius   = 38.2
  GeometryHeight        = 138.4
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 26.8
  GeometryMinorRadius   = 20.2
  GeometryHeight        = 138.4
  GeometryOffset		= X:-13.4 Y:58 Z:0
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 26.8
  GeometryMinorRadius   = 20.2
  GeometryHeight        = 138.4
  GeometryOffset		= X:-13.4 Y:-58 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End
;------------------------------------------------------------

Object Helm'sDeep_DeepingWall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = NBHDDeepingW
    End
        
  End
  

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:NBHDDeepingW
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE DEFENSIVE_WALL NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 31.0
  GeometryMinorRadius   = 87.2
  GeometryHeight        = 62.4
  GeometryOffset		= X:-8.8 Y:0 Z:0
  
  AdditionalGeometry	= CYLINDER
  GeometryMajorRadius   = 21.0
  GeometryMinorRadius   = 0
  GeometryHeight        = 71.4
  GeometryOffset		= X:20.8 Y:0 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End
;------------------------------------------------------------


Object Helm'sDeep_DeepingWallDrain

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = NBHDDeepingWDrn
    End
        
  End
  

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Bridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE DEFENSIVE_WALL NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 30.8
  GeometryMinorRadius   = 87.2
  GeometryHeight        = 59.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End
;------------------------------------------------------------


;------------------------------------------------------------------------------------------
;Gondorian (civilian) Standalone battle tower
Object GondorBattleTower_S ; civilian, really
  
  SelectPortrait = BPGBattleTower
   
    ; *** ART Parameters ***
    ButtonImage = BRBattleTower
    
    Draw = W3DScriptedModelDraw ModuleTag_Draw
      OkToChangeModelColor  = Yes
      UseStandardModelNames = Yes
      ExtraPublicBone = ARROW_ ; Firing points
  
      DefaultModelConditionState
        ;Model = GBKeep
        Model = GBBtlTwrs
      End
      
      IdleAnimationState
  		Animation = IDLE
  			AnimationName		=	GBBtlTwrS.GBBtlTwrS
  			AnimationMode			=	ONCE	
  		End		
  
  		BeginScript
  			CurDrawableHideSubObject("GARRISON_01")
  			CurDrawableHideSubObject("GARRISON_02")
  			CurDrawableHideSubObject("GARRISON_03")
  		EndScript
  			
  	End	
      
      
      ;---------------damage states-- garrisoned---------------
  	    
          ;--damaged building
      ModelConditionState  = GARRISONED DESTROYED_FRONT
        Model         = GBBtlTwrS_D2  
  		ParticleSysBone FireSmall01 FireBuildingSmall
  		ParticleSysBone FireSmall02 FireBuildingSmall
  		ParticleSysBone FireSmall03 FireBuildingSmall
  		ParticleSysBone FireSmall04 FireBuildingSmall
  		ParticleSysBone FireMedium01 FireBuildingMedium
  		ParticleSysBone FireMedium02 FireBuildingMedium
       	ParticleSysBone FireLarge01 FireBuildingLarge
       	ParticleSysBone SmokeLarge01 SmokeBuildingLarge
      End
      AnimationState = GARRISONED DESTROYED_FRONT
  		Animation	= GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationName		=	GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationMode		=	LOOP	
  		End
        BeginScript
          CurDrawableHideSubObject("D2A")
  		CurDrawableShowSubObject("GARRISON_01")
  		CurDrawableShowSubObject("GARRISON_02")
  		CurDrawableShowSubObject("GARRISON_03")
        EndScript
      End
      
      ModelConditionState  = GARRISONED DESTROYED_RIGHT
        Model         = GBBtlTwrS_D2  
  		ParticleSysBone FireSmall01 FireBuildingSmall
  		ParticleSysBone FireSmall02 FireBuildingSmall
  		ParticleSysBone FireSmall03 FireBuildingSmall
  		ParticleSysBone FireSmall04 FireBuildingSmall
  		ParticleSysBone FireMedium01 FireBuildingMedium
  		ParticleSysBone FireMedium02 FireBuildingMedium
  		ParticleSysBone FireLarge01 FireBuildingLarge
  		ParticleSysBone SmokeLarge01 SmokeBuildingLarge
      End
      AnimationState = GARRISONED DESTROYED_RIGHT
  		Animation	= GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationName		=	GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationMode		=	LOOP	
  		End	
        BeginScript
          CurDrawableHideSubObject("D2B")
  		CurDrawableShowSubObject("GARRISON_01")
  		CurDrawableShowSubObject("GARRISON_02")
  		CurDrawableShowSubObject("GARRISON_03")
        EndScript
      End
      
  
      ModelConditionState  = GARRISONED DESTROYED_BACK
        Model         = GBBtlTwrS_D2  
  		ParticleSysBone FireSmall01 FireBuildingSmall
  		ParticleSysBone FireSmall02 FireBuildingSmall
  		ParticleSysBone FireSmall03 FireBuildingSmall
  		ParticleSysBone FireSmall04 FireBuildingSmall
  		ParticleSysBone FireMedium01 FireBuildingMedium
  		ParticleSysBone FireMedium02 FireBuildingMedium
  		ParticleSysBone FireLarge01 FireBuildingLarge
  		ParticleSysBone SmokeLarge01 SmokeBuildingLarge
      End
      AnimationState = GARRISONED DESTROYED_BACK
  		Animation	= GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationName		=	GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationMode		=	LOOP	
  		End
        BeginScript
          CurDrawableHideSubObject("D2C")
  		CurDrawableShowSubObject("GARRISON_01")
  		CurDrawableShowSubObject("GARRISON_02")
  		CurDrawableShowSubObject("GARRISON_03")
        EndScript
      End
  
  	ModelConditionState  = GARRISONED DESTROYED_LEFT
        Model         = GBBtlTwrS_D2  
  		ParticleSysBone FireSmall01 FireBuildingSmall
  		ParticleSysBone FireSmall02 FireBuildingSmall
  		ParticleSysBone FireSmall03 FireBuildingSmall
  		ParticleSysBone FireSmall04 FireBuildingSmall
  		ParticleSysBone FireMedium01 FireBuildingMedium
  		ParticleSysBone FireMedium02 FireBuildingMedium
  		ParticleSysBone FireLarge01 FireBuildingLarge
  		ParticleSysBone SmokeLarge01 SmokeBuildingLarge
      End
      AnimationState = GARRISONED DESTROYED_LEFT
  		Animation	= GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationName		=	GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationMode		=	LOOP	
  		End	
        BeginScript
          CurDrawableHideSubObject("D2D")
  		CurDrawableShowSubObject("GARRISON_01")
  		CurDrawableShowSubObject("GARRISON_02")
  		CurDrawableShowSubObject("GARRISON_03")
        EndScript
      End
  
      AnimationState = GARRISONED DAMAGED
        Animation           = GBBtlTwrs
          AnimationName     = GBBtlTwrs_D1.GBBtlTwrs_D1
          AnimationMode     = LOOP
        End
  	  BeginScript
  		CurDrawableShowSubObject("GARRISON_01")
  		CurDrawableShowSubObject("GARRISON_02")
  		CurDrawableShowSubObject("GARRISON_03")
  	  EndScript
      End
  
      AnimationState = GARRISONED REALLYDAMAGED
  		Animation	= GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationName		=	GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationMode		=	LOOP	
  		End
  	  BeginScript
  		CurDrawableShowSubObject("GARRISON_01")
  		CurDrawableShowSubObject("GARRISON_02")
  		CurDrawableShowSubObject("GARRISON_03")
  	  EndScript
      End
      
      AnimationState = GARRISONED RUBBLE
  		Animation	= GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationName		=	GBBtlTwrS_D2.GBBtlTwrS_D2
  			AnimationMode		=	LOOP	
  		End	
        BeginScript
          CurDrawableHideSubObject("D2A")
          CurDrawableHideSubObject("D2B")
          CurDrawableHideSubObject("D2C")
          CurDrawableHideSubObject("D2D")
  		CurDrawableShowSubObject("GARRISON_01")
  		CurDrawableShowSubObject("GARRISON_02")
  		CurDrawableShowSubObject("GARRISON_03")
        EndScript
      End
  
      AnimationState = GARRISONED CONSTRUCTION_COMPLETE
        Animation           = GBBtlTwrs
          AnimationName     = GBBtlTwrs.GBBtlTwrs
          AnimationMode     = LOOP
        End
  	  BeginScript
  		CurDrawableShowSubObject("GARRISON_01")
  		CurDrawableShowSubObject("GARRISON_02")
  		CurDrawableShowSubObject("GARRISON_03")
  	  EndScript
      End
  
      AnimationState = GARRISONED
        Animation           = GBBtlTwrs
          AnimationName     = GBBtlTwrs.GBBtlTwrs
          AnimationMode     = LOOP
        End
  	  BeginScript
  		CurDrawableShowSubObject("GARRISON_01")
  		CurDrawableShowSubObject("GARRISON_02")
  		CurDrawableShowSubObject("GARRISON_03")
  	  EndScript
      End
  
  	
  	;---------------damage states- non-garrisoned----------------
  	    
          ;--damaged building
      ModelConditionState  = DESTROYED_FRONT
        Model         = GBBtlTwrS_D2  
  		ParticleSysBone FireSmall01 FireBuildingSmall
  		ParticleSysBone FireSmall02 FireBuildingSmall
  		ParticleSysBone FireSmall03 FireBuildingSmall
  		ParticleSysBone FireSmall04 FireBuildingSmall
  		ParticleSysBone FireMedium01 FireBuildingMedium
  		ParticleSysBone FireMedium02 FireBuildingMedium
       	ParticleSysBone FireLarge01 FireBuildingLarge
       	ParticleSysBone SmokeLarge01 SmokeBuildingLarge
      End
      AnimationState = DESTROYED_FRONT
        BeginScript
          CurDrawableHideSubObject("D2A")
          CurDrawableHideSubObject("GARRISON_01")
  		CurDrawableHideSubObject("GARRISON_02")
  		CurDrawableHideSubObject("GARRISON_03")
        EndScript
      End
      
      ModelConditionState  = DESTROYED_RIGHT
        Model         = GBBtlTwrS_D2  
  		ParticleSysBone FireSmall01 FireBuildingSmall
  		ParticleSysBone FireSmall02 FireBuildingSmall
  		ParticleSysBone FireSmall03 FireBuildingSmall
  		ParticleSysBone FireSmall04 FireBuildingSmall
  		ParticleSysBone FireMedium01 FireBuildingMedium
  		ParticleSysBone FireMedium02 FireBuildingMedium
  		ParticleSysBone FireLarge01 FireBuildingLarge
  		ParticleSysBone SmokeLarge01 SmokeBuildingLarge
      End
      
      AnimationState = DESTROYED_RIGHT
        BeginScript
          CurDrawableHideSubObject("D2B")
          CurDrawableHideSubObject("GARRISON_01")
  		CurDrawableHideSubObject("GARRISON_02")
  		CurDrawableHideSubObject("GARRISON_03")
        EndScript
      End
      
  
      ModelConditionState  = DESTROYED_BACK
        Model         = GBBtlTwrS_D2  
  		ParticleSysBone FireSmall01 FireBuildingSmall
  		ParticleSysBone FireSmall02 FireBuildingSmall
  		ParticleSysBone FireSmall03 FireBuildingSmall
  		ParticleSysBone FireSmall04 FireBuildingSmall
  		ParticleSysBone FireMedium01 FireBuildingMedium
  		ParticleSysBone FireMedium02 FireBuildingMedium
  		ParticleSysBone FireLarge01 FireBuildingLarge
  		ParticleSysBone SmokeLarge01 SmokeBuildingLarge
      End
      AnimationState = DESTROYED_BACK
        BeginScript
          CurDrawableHideSubObject("D2C")
          CurDrawableHideSubObject("GARRISON_01")
  		CurDrawableHideSubObject("GARRISON_02")
  		CurDrawableHideSubObject("GARRISON_03")
        EndScript
      End
  
  	ModelConditionState  = DESTROYED_LEFT
        Model         = GBBtlTwrS_D2  
  		ParticleSysBone FireSmall01 FireBuildingSmall
  		ParticleSysBone FireSmall02 FireBuildingSmall
  		ParticleSysBone FireSmall03 FireBuildingSmall
  		ParticleSysBone FireSmall04 FireBuildingSmall
  		ParticleSysBone FireMedium01 FireBuildingMedium
  		ParticleSysBone FireMedium02 FireBuildingMedium
  		ParticleSysBone FireLarge01 FireBuildingLarge
  		ParticleSysBone SmokeLarge01 SmokeBuildingLarge
      End
      AnimationState = DESTROYED_LEFT
        BeginScript
          CurDrawableHideSubObject("D2D")
          CurDrawableHideSubObject("GARRISON_01")
  		CurDrawableHideSubObject("GARRISON_02")
  		CurDrawableHideSubObject("GARRISON_03")
        EndScript
      End
      
      
      ModelConditionState  = DAMAGED 
        Model         = GBBtlTwrs_D1
	
      End 
          AnimationState = DAMAGED
     		EnteringStateFX	= FX_BuildingDamaged
  	  BeginScript
          CurDrawableHideSubObject("GARRISON_01")
  		CurDrawableHideSubObject("GARRISON_02")
  		CurDrawableHideSubObject("GARRISON_03")
  	  EndScript
      End
  
      AnimationState = REALLYDAMAGED
  	  BeginScript
          CurDrawableHideSubObject("GARRISON_01")
  		CurDrawableHideSubObject("GARRISON_02")
  		CurDrawableHideSubObject("GARRISON_03")
  	  EndScript
     	EnteringStateFX	= FX_BuildingReallyDamaged
      End
  
     
  
      ModelConditionState  = REALLYDAMAGED 
        Model         = GBBtlTwrs_D2
	
      End    
      
  
      ModelConditionState  = RUBBLE
        Model         = GBBtlTwrS_D2  
        ParticleSysBone SmokeLarge01 SmokeBuildingLarge
      End
      
  
      AnimationState = RUBBLE
        BeginScript
          CurDrawableHideSubObject("D2A")
          CurDrawableHideSubObject("D2B")
          CurDrawableHideSubObject("D2C")
          CurDrawableHideSubObject("D2D")
          CurDrawableHideSubObject("GARRISON_01")
  		CurDrawableHideSubObject("GARRISON_02")
  		CurDrawableHideSubObject("GARRISON_03")
        EndScript
      End
  
      ModelConditionState  = POST_RUBBLE
        Model         = None
  		ParticleSysBone NONE SmokeBuildingMediumRubble
      End
      
      AnimationState = POST_RUBBLE
      End
  
      ModelConditionState  = POST_COLLAPSE
        Model         = None
  		ParticleSysBone NONE SmokeBuildingMediumRubble
      End
      AnimationState = POST_COLLAPSE
      End
      
      
     AnimationState = CONSTRUCTION_COMPLETE
  	  BeginScript
          CurDrawableHideSubObject("GARRISON_01")
  		CurDrawableHideSubObject("GARRISON_02")
  		CurDrawableHideSubObject("GARRISON_03")
  	  EndScript
  	End
  End

  Draw = W3DFloorDraw ModuleTag_DrawFloor    
     ModelName = GBBtlTwrS_Bib
  End
    
   
    ; ***DESIGN parameters ***
    DisplayName         = OBJECT:CivilianBattleTower
    Side                = Civilian
    EditorSorting       = STRUCTURE
    ThreatLevel = 1.0
   
    BuildCost           = 1000
    BuildTime           = 30.0           ; in seconds
    VisionRange         = 160.0          ; Shroud clearing distance
    ShroudClearingRange = 160
  
  
    ; *** AUDIO Parameters ***

	VoiceSelect			= Gui_PlotSelect

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone
  
  
    ; *** ENGINEERING Parameters ***
    RadarPriority       = STRUCTURE
    KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK	; GARRISONABLE_UNTIL_DESTROYED GARRISON
 	CommandSet			= NeutralBattleTowerCommandSet
  
    Behavior            = GettingBuiltBehavior ModuleTag_04
		SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
		SelfRepairFromRubbleLoop  = BuildingConstructionLoop
    End
  
  
    Body                = StructureBody ModuleTag_05
      MaxHealth         = 1500.0
  	MaxHealthDamaged  = 750.0
  	MaxHealthReallyDamaged = 325.0
  	DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
      
      DamageCreationList = OCL_GBBtlTwrSD2_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
      DamageCreationList = OCL_GBBtlTwrSD2_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
      DamageCreationList = OCL_GBBtlTwrSD2_Chunk3 CATAPULT_ROCK BACK_DESTROYED
      DamageCreationList = OCL_GBBtlTwrSD2_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
    End
  
    Behavior                  = BuildingBehavior BuildingModuleTag
      NightWindowName         = WINDOW_N01
      ;FireWindowName          = WINDOW_F01
      ;GlowWindowName	    = WINDOW_G01
    End
   
    Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
        DestructionDelay  = 5000
    End
    
    Behavior                  = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate
      MinCollapseDelay        = 000
      MaxCollapseDelay        = 000
      CollapseDamping         = .5
      MaxShudder              = 0.6
      MinBurstDelay           = 250
      MaxBurstDelay           = 800
      BigBurstFrequency       = 4
      FXList                  = INITIAL   FX_StructureMediumCollapse
      OCL						= INITIAL   OCL_StructureRubblePileLarge
  
    End
  
    
  
  	Behavior       = EvacuateDamage ModuleTag_evacuateDamage
  		WeaponThatCausesEvacuation  = MordorCatapultHumanHeads
  	End
  
;    Behavior            = HordeGarrisonContain ModuleTag_hordeGarrison
;		ObjectStatusOfContained			= UNSELECTABLE CAN_ATTACK
;		ContainMax						= 4
;		MaxHordeCapacity				= 4
;		;PassengersTestCollisionHeight	= 80
;		;Slots							= 1
;	;   EnterSound						= GarrisonEnter
;	;   ExitSound						= GarrisonExit
;		DamagePercentToUnits			= 0%
;		PassengerFilter					= ANY +INFANTRY +HORDE
;		AllowEnemiesInside				= No
;		AllowNeutralInside				= Yes
;		;ExitDelay						= 250
;		NumberOfExitPaths				= 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
;	;   GoAggressiveOnExit				= Yes ; AI Will tell people to set their mood to Aggressive on exiting
;		;ForceOrientationContainer		= No  ; otherwise contained units can't orient themselves towards their targets...
;		PassengerBonePrefix				= PassengerBone:ARROW_0 KindOf:INFANTRY
;   End;
  
    Geometry              = CYLINDER
    GeometryMajorRadius   = 26.4
    GeometryMinorRadius   = 26.4
    GeometryHeight        = 112.0
    
    GeometryIsSmall       = No
    Shadow                = SHADOW_VOLUME
    BuildCompletion     = PLACED_BY_PLAYER
    
    GeometryContactPoint				= X:-12.566		Y:20.258	Z:0			Repair
    GeometryContactPoint				= X:6.209		Y:-21.579	Z:0			Repair
    GeometryContactPoint				= X:-21.83		Y:-10.356	Z:0
    GeometryContactPoint				= X:18.362		Y:16.444	Z:0
    GeometryContactPoint				= X:-0.459		Y:-0.275	Z:116.828	Swoop

  End
  
  ;------------------------------------------------------------------------------------------

Object GondorBuildingSizeTemplate

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GBSizeTemplate
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:GBSizeTemplate
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***
  KindOf =  IMMOBILE UNATTACKABLE
  Shadow = SHADOW_VOLUME
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End

;------------------------------------------------------------------------------
Object RohanBuildingSizeTemplate

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = RBSizeTemplate
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:RBSizeTemplate
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***
  KindOf =  IMMOBILE UNATTACKABLE
  Shadow = SHADOW_VOLUME
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End

;------------------------------------------------------------------------------
Object MordorBuildingSizeTemplate

    ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MBSizeTemplate
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:MBSizeTemplate
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***
  KindOf =  IMMOBILE UNATTACKABLE
  Shadow = SHADOW_VOLUME
  Body = ActiveBody ModuleTag_03
    MaxHealth = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 72.0
  GeometryIsSmall = No
End

;------------------------------------------------------------------------------

Object ExpansionFlag

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NMiniCamp_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = ExpnCampFlag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NMiniCamp_SKL.NMiniCamp_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NMiniCamp_SKL.NMiniCamp_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NMiniCamp_SKL.NMiniCamp_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NMiniCamp_SKL.NMiniCamp_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NMiniCamp_Bib
	End


;--------------------- AUDIO ------------------------

	VoiceSelect			= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:OutpostFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = OutpostFlagCommandSet ;CastleFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
	MaxCastleRadius = 180.0
	FadeTime = 1.0 ; 2 seconds
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 12.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

ChildObject OutpostFlag ExpansionFlag
	CommandSet = OutpostFlagCommandSet
End

ChildObject PrebuiltOutpost01 ExpansionFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
	  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 180
		FadeTime = 1.0 ; 2 seconds
	
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End

ChildObject PrebuiltOutpost02 ExpansionFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
	  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 180
		FadeTime = 1.0 ; 2 seconds
	
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End

ChildObject PrebuiltOutpost03 ExpansionFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
	  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 180
		FadeTime = 1.0 ; 2 seconds
	
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End

ChildObject PrebuiltOutpost04 ExpansionFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
	  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 180
		FadeTime = 1.0 ; 2 seconds
	
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End


ChildObject PrebuiltOutpost05 ExpansionFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
	  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 180
		FadeTime = 1.0 ; 2 seconds
	
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End


ChildObject PrebuiltOutpost06 ExpansionFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
	  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 180
		FadeTime = 1.0 ; 2 seconds
	
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End


ChildObject PrebuiltOutpost07 ExpansionFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
	  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 180
		FadeTime = 1.0 ; 2 seconds
	
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End

ChildObject PrebuiltOutpost08 ExpansionFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
	  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
	  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
	  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
	  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		MaxCastleRadius = 180
		FadeTime = 1.0 ; 2 seconds
	
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End

;------------------------------------------------------------------------------

Object AIFlag

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = AICamp_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NMiniCamp_SKL.NMiniCamp_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NMiniCamp_SKL.NMiniCamp_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NMiniCamp_SKL.NMiniCamp_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NMiniCamp_SKL.NMiniCamp_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NMiniCamp_Bib
	End


;--------------------- AUDIO ------------------------

	VoiceSelect			= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CampFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = CampFlagCommandSet ;CastleFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor  Expansion_Gondor GONDOR_FLAG_OUTPOST_UNPACK_COST
  	CastleToUnpackForFaction  = Mordor  Expansion_Mordor MORDOR_FLAG_OUTPOST_UNPACK_COST 
  	CastleToUnpackForFaction  = Isengard  Expansion_Isengard ISENGARD_FLAG_OUTPOST_UNPACK_COST
  	CastleToUnpackForFaction  = Rohan  Expansion_Rohan ROHAN_FLAG_OUTPOST_UNPACK_COST 

		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
	MaxCastleRadius = 180.0
	FadeTime = 1.0 ; 2 seconds
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 12.0
  GeometryIsSmall     = No
  Shadow				= SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenW5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenW5
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenW5
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  

  ; *** AUDIO Parameters ***

  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 5.5
  GeometryMinorRadius   = 47.0
  GeometryHeight        = 45.0
  GeometryOffset		= X:20 Y:0 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 15.0
  GeometryMinorRadius   = 5.5
  GeometryHeight        = 20.0	
  GeometryOffset		= X:-5.5 Y:20 Z:0  
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenW4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenW4
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenW4
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 6.2
  GeometryMinorRadius   = 100.0
  GeometryHeight        = 45.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End


;------------------------------------------------------------------------------
Object GondorAmonHenW3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenW3
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenW3
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 5.4
  GeometryMinorRadius   = 55.0
  GeometryHeight        = 44.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenW2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenW2
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenW2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 5.0
  GeometryMinorRadius   = 28.0
  GeometryHeight        = 44.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenW1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenW1
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenW1
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 5.2
  GeometryMinorRadius   = 80.0
  GeometryHeight        = 42.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenSP

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenSP
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenSP
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Canoe

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 52.0
  GeometryMinorRadius   = 7.0
  GeometryHeight        = 11.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenS5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenS5
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenS5
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 7.1
  GeometryMinorRadius   = 7.0
  GeometryHeight        = 39.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenS4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenS4
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenS4
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 5.0
  GeometryMinorRadius   = 4.5
  GeometryHeight        = 41.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME_NEW

End

;------------------------------------------------------------------------------
Object GondorAmonHenS3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenS3
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenS3
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 5.1
  GeometryMinorRadius   = 4.7
  GeometryHeight        = 45.7
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenS2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenS2
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenS2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = CYLINDER
  GeometryMajorRadius   = 22.0
  GeometryMinorRadius   = 22.0
  GeometryHeight        = 24.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenS1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenS1
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenS1
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 10.0
  GeometryHeight        = 28.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenR3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GBAmonHenR3
    End
  End
  
  ; *** AUDIO Parameters ***
;  SoundAmbientDamaged = GenericFireMediumLoop
;  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Rocks

  EditorSorting   = STRUCTURE
 
  TransportSlotCount  = 1
   
  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 11.5
  GeometryHeight        = 13.0
  GeometryOffset		= X:-8 Y:0 Z:0  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME_NEW

End

;------------------------------------------------------------------------------
Object GondorAmonHenR2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GBAmonHenR2
    End
  End
  
  ; *** AUDIO Parameters ***
;  SoundAmbientDamaged = GenericFireMediumLoop
;  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Rocks

  EditorSorting   = STRUCTURE
  TransportSlotCount  = 1  

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End
 
  Geometry              = CYLINDER
  GeometryMajorRadius   = 21.0
  GeometryMinorRadius   = 21.0
  GeometryHeight        = 9.7
  GeometryOffset		= X:0 Y:7.7 Z:0  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME_NEW

End

;------------------------------------------------------------------------------
Object GondorAmonHenR1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = GBAmonHenR1
    End
  End
  
  ; *** AUDIO Parameters ***
;  SoundAmbientDamaged = GenericFireMediumLoop
;  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Rocks

  EditorSorting   = STRUCTURE

  TransportSlotCount  = 1  
	
  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 18.0
  GeometryMinorRadius   = 18.0
  GeometryHeight        = 16.5
  GeometryIsSmall       = No
  Shadow              = SHADOW_VOLUME_NEW

End

;------------------------------------------------------------------------------
Object GondorAmonHenC5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenC5
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenC5
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 7.3
  GeometryMinorRadius   = 7.3
  GeometryHeight        = 33.7
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenC4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenC4
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenC4
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 11.1
  GeometryMinorRadius   = 10.0
  GeometryHeight        = 55.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenC3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenC3
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenC3
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = CYLINDER
  GeometryMajorRadius   = 33.0
  GeometryMinorRadius   = 33.0
  GeometryHeight        = 61.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenC2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenC2
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenC2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 8.1
  GeometryMinorRadius   = 10.4
  GeometryHeight        = 44.3
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenC1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenC1
    End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenC1
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 6.3
  GeometryMinorRadius   = 6.6
  GeometryHeight        = 40.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenBg

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenBg
    End
    
    WallBoundsMesh = P2
	RampMesh1 = P1
	RampMesh2 = P3

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenBg
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Bridge

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 45.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 20.0
  GeometryOffset		= X:0 Y:72 Z:0 
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 45.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 20.0
  GeometryOffset		= X:0 Y:-72 Z:0 
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenB2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenB2
    End
    
    WallBoundsMesh = P2
	RampMesh1 = P1

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenB2
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 60.0
  GeometryMinorRadius   = 33.0
  GeometryHeight        = 49.0
  
;  AdditionalGeometry    = BOX
;  GeometryMajorRadius   = 12.5
;  GeometryMinorRadius   = 12.5
;  GeometryHeight        = 55.0
;  GeometryOffset		= X:32 Y:0 Z:48 
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenB1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenB1
	End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenB1
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 65.4
  GeometryMinorRadius   = 98.8
  GeometryHeight        = 134.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenB3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenB3
	End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenB3
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
 

;-----------------------------------------------------------------
; By removing this the building is no longer damagable
;-----------------------------------------------------------------
;  KindOf                = STRUCTURE SELECTABLE IMMOBILE NOT_AUTOACQUIRABLE CHUNK_VENDOR
;  RadarPriority = STRUCTURE
;
;  Body                  = ActiveBody ModuleTag_02
;    MaxHealth       = 2000.0
;    
;	GrabObject = EntThrownBuildingRock
;	GrabFX = FX_WallGrab
;	GrabOffset = X:16 Y:0  		    
;  End
;-----------------------------------------------------------------

 
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End


  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 33.0
  GeometryMinorRadius   = 37.5
  GeometryHeight        = 100.0
  GeometryOffset		= X:-72 Y:45 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 72.5
  GeometryMinorRadius   = 45.0
  GeometryHeight        = 145.0
  GeometryOffset		= X:0 Y:-5 Z:0
    
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 30.0
  GeometryMinorRadius   = 20.0
  GeometryHeight        = 130
  GeometryOffset		= X:70 Y:45 Z:0

  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME



End

;------------------------------------------------------------------------------
Object GondorAmonHenB4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenB4
	End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenB4
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
 
;-----------------------------------------------------------------
; By removing this the building is no longer damagable
;-----------------------------------------------------------------
;
;  KindOf                = STRUCTURE SELECTABLE IMMOBILE NOT_AUTOACQUIRABLE CHUNK_VENDOR
;  RadarPriority = STRUCTURE
;
;  Body                  = ActiveBody ModuleTag_02
;    MaxHealth       = 2000.0
;   
;	GrabObject = EntThrownBuildingRock
;	GrabFX = FX_WallGrab
;	GrabOffset = X:16 Y:0  		    
;  End
;-----------------------------------------------------------------

 
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End



  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End


  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 55.0
  GeometryHeight        = 130.0
  GeometryOffset		= X:50 Y:-16 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 32.5
  GeometryMinorRadius   = 90.0
  GeometryHeight        = 140.0
  GeometryOffset		= X:-3 Y:-5 Z:0
    
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 30.0
  GeometryMinorRadius   = 45.0
  GeometryHeight        = 75.0
  GeometryOffset		= X:-62 Y:-48 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 15.0
  GeometryMinorRadius   = 15.0
  GeometryHeight        = 50.0
  GeometryOffset		= X:-72 Y:45 Z:0
    
    
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GondorAmonHenB5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBAmonHenB5
	End

    ModelConditionState  = RUBBLE
      Model         = GBAmonHenB5
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    ModelConditionState  = POST_RUBBLE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundAmbientDamaged = GenericFireMediumLoop
  SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ruins

  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  

;-----------------------------------------------------------------
; By removing this the building is no longer damagable
;-----------------------------------------------------------------
;  
;  KindOf                = STRUCTURE SELECTABLE IMMOBILE NOT_AUTOACQUIRABLE CHUNK_VENDOR
;  RadarPriority = STRUCTURE
;
;  Body                  = ActiveBody ModuleTag_02
;    MaxHealth       = 2000.0
;    
;	GrabObject = EntThrownBuildingRock
;	GrabFX = FX_WallGrab
;	GrabOffset = X:16 Y:0  		    
;  End
;-----------------------------------------------------------------

 
  KindOf                = STRUCTURE IMMOBILE IGNORED_IN_GUI
  RadarPriority = STRUCTURE

  Body                  = InactiveBody ModuleTag_02
  End


  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End
  
  Behavior                  = StructureCollapseUpdate ModuleTag_03
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
  End

  Geometry              = BOX
  GeometryMajorRadius   = 25.0
  GeometryMinorRadius   = 95.0
  GeometryHeight        = 130.0
  GeometryOffset		= X:3 Y:0 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 70.0
  GeometryMinorRadius   = 20.0
  GeometryHeight        = 130.0
  GeometryOffset		= X:28 Y:-23 Z:0
    
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 45.0
  GeometryHeight        = 75.0
  GeometryOffset		= X:-55 Y:-48 Z:0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------
Object ElvenBridge

	; *** ART Parameters ***
		Draw = W3DScriptedModelDraw ModuleTag_01
			OkToChangeModelColor = Yes
			
			StaticModelLODMode = yes
			
			DefaultModelConditionState
				Model = LBBridge
			End
		
		    WallBoundsMesh	= P2
		    RampMesh1		= P1
		    RampMesh2		= P3		    
		End

	; *** AUDIO Parameters ***

	; ***DESIGN parameters ***
		DisplayName      = OBJECT:ElvenBridge
		EditorSorting   = STRUCTURE

		ArmorSet
			Conditions        = None
			Armor             = NoArmor
			DamageFX          = None
		End

	; *** ENGINEERING Parameters ***  
		KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE NONOCCLUDING
		RadarPriority		= STRUCTURE
		Body                  = InactiveBody ModuleTag_03
		End

		; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
		; never truly destroyed, even when reduced to zero health. Also note that garrisonable
		; buildings automatically stick around because GarrisonContain has it's own DieModule
		Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 4000
		End
		  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

		Geometry              = BOX
		GeometryMajorRadius   = 120.0
		GeometryMinorRadius   = 60.0
		GeometryHeight        = 32.6
		GeometryIsSmall       = No
		Shadow                = SHADOW_VOLUME
		
		GeometryContactPoint			= X:80		Y: -48		Z:7 Grab
		GeometryContactPoint			= X:80		Y: 48		Z:7 Grab
		
		GeometryContactPoint			= X:0		Y: 48		Z:12 Grab
		
		GeometryContactPoint			= X:-80		Y: 48		Z:7 Grab
		GeometryContactPoint			= X:-80		Y: -48		Z:7 Grab
		
		GeometryContactPoint			= X:0		Y: -48		Z:12 Grab
		
		GeometryContactPoint			= X:80		Y: -48		Z:7 
		
		
End


;------------------------------------------------------------
Object LavaBridge

	; *** ART Parameters ***
		Draw = W3DScriptedModelDraw ModuleTag_01
			OkToChangeModelColor = Yes
			DefaultModelConditionState
				Model = PMLavaBridge01
			End
		
		    WallBoundsMesh	= P2
		    RampMesh1		= P1
		    RampMesh2		= P3		    
		End

	; *** AUDIO Parameters ***

	; ***DESIGN parameters ***
		DisplayName      = OBJECT:LavaBridge
		EditorSorting   = STRUCTURE

		ArmorSet
			Conditions        = None
			Armor             = NoArmor
			DamageFX          = None
		End

	; *** ENGINEERING Parameters ***  
		KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE
		RadarPriority		= STRUCTURE
		Body                  = InactiveBody ModuleTag_03
		End

		; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
		; never truly destroyed, even when reduced to zero health. Also note that garrisonable
		; buildings automatically stick around because GarrisonContain has it's own DieModule
		Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 4000
		End
		  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

		Geometry              = BOX
		GeometryMajorRadius   = 68.0
		GeometryMinorRadius   = 100.0
		GeometryHeight        = 65.6
		GeometryIsSmall       = No
		Shadow                = SHADOW_VOLUME
		
		GeometryContactPoint			= X:40		Y: -60		Z:20 Grab
		GeometryContactPoint			= X:40		Y: 0		Z:45 Grab
		GeometryContactPoint			= X:40		Y: 60		Z:20 Grab 
		GeometryContactPoint			= X:-40		Y: 60		Z:20 Grab
		GeometryContactPoint			= X:-38		Y: 0		Z:45 Grab
		GeometryContactPoint			= X:-38		Y: -60		Z:20 Grab
		GeometryContactPoint			= X:40		Y: -60		Z:20
		
End



;------------------------------------------------------------------------------

Object SinglePlotCampFlag

	SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
      OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = NMiniCamp_SKN
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = ExpnCampFlag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NMiniCamp_SKL.NMiniCamp_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NMiniCamp_SKL.NMiniCamp_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NMiniCamp_SKL.NMiniCamp_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NMiniCamp_SKL.NMiniCamp_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
  ;-------------Floor bib
  
	Draw = W3DFloorDraw DrawFloorBib    
		ModelName = NMiniCamp_Bib
	End

;--------------------- AUDIO ------------------------

	VoiceSelect			= Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:OutpostFlag  
  EditorSorting   = STRUCTURE
  Side            = Civilian
  ArmorSet
    Conditions      = None
    Armor           = InvulnerableArmor
    DamageFX        = EmptyDamageFX   ; just to avoid an assert
  End

  CommandSet = OutpostFlagCommandSet

  ; *** ENGINEERING Parameters ***  
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY BASE_SITE
  Body                = ImmortalBody ModuleTag_02
    MaxHealth       = 1
  End  
  
  Behavior = CastleBehavior ModuleTag_castle
	SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
	SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
	UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.

  	UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
  	CastleToUnpackForFaction  = Gondor		Single_Gondor	500
  	CastleToUnpackForFaction  = Mordor		Single_Mordor	500 
  	CastleToUnpackForFaction  = Isengard		Single_Isengard 500
  	CastleToUnpackForFaction  = Rohan		Single_Rohan	500 

	FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
	
	MaxCastleRadius = 180
	FadeTime = 1.0 ; 2 seconds
  End  
  
  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 12.0
  GeometryIsSmall     = No
  Shadow                = SHADOW_VOLUME

End


;--------------------------------------------------------------

ChildObject SinglePlotPrebuilt01 SinglePlotCampFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
		
		UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
		CastleToUnpackForFaction  = Gondor		Single_Gondor	2000
		CastleToUnpackForFaction  = Mordor		Single_Mordor	2000 
		CastleToUnpackForFaction  = Isengard	Single_Isengard 2000
		CastleToUnpackForFaction  = Rohan		Single_Rohan	2000 
		
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		
		FadeTime = 1.0 ; 2 seconds
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End

;-----------------------------------------------------------------

ChildObject SinglePlotPrebuilt02 SinglePlotCampFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
		
		UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
		CastleToUnpackForFaction  = Gondor		Single_Gondor	2000
		CastleToUnpackForFaction  = Mordor		Single_Mordor	2000 
		CastleToUnpackForFaction  = Isengard	Single_Isengard 2000
		CastleToUnpackForFaction  = Rohan		Single_Rohan	2000 
		
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		
		FadeTime = 1.0 ; 2 seconds
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End

;-----------------------------------------------------------------

ChildObject SinglePlotPrebuilt03 SinglePlotCampFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
		
		UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
		CastleToUnpackForFaction  = Gondor		Single_Gondor	2000
		CastleToUnpackForFaction  = Mordor		Single_Mordor	2000 
		CastleToUnpackForFaction  = Isengard	Single_Isengard 2000
		CastleToUnpackForFaction  = Rohan		Single_Rohan	2000 
		
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		
		FadeTime = 1.0 ; 2 seconds
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End

;-----------------------------------------------------------------

ChildObject SinglePlotPrebuilt04 SinglePlotCampFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
		
		UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
		CastleToUnpackForFaction  = Gondor		Single_Gondor	2000
		CastleToUnpackForFaction  = Mordor		Single_Mordor	2000 
		CastleToUnpackForFaction  = Isengard	Single_Isengard 2000
		CastleToUnpackForFaction  = Rohan		Single_Rohan	2000 
		
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		
		FadeTime = 1.0 ; 2 seconds
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End

;-----------------------------------------------------------------

ChildObject SinglePlotPrebuilt05 SinglePlotCampFlag
	Behavior = CastleBehavior ModuleTag_castle
		SidesAllowed = Gondor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Isengard FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Mordor FROM_PLAYER FROM_AI FROM_SCRIPT
		SidesAllowed = Rohan FROM_PLAYER FROM_AI FROM_SCRIPT
		UseSecondaryBuildList = No  ; NOTE: Castles and lumber mills use Secondary Build lists. Only Camps use Primary Build lists.
		
		UseTheNewCastleSystemInsteadOfTheClunkyBuildList = Yes
		CastleToUnpackForFaction  = Gondor		Single_Gondor	2000
		CastleToUnpackForFaction  = Mordor		Single_Mordor	2000 
		CastleToUnpackForFaction  = Isengard	Single_Isengard 2000
		CastleToUnpackForFaction  = Rohan		Single_Rohan	2000 
		
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		;Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		
		FadeTime = 1.0 ; 2 seconds
	  	PreBuiltList = GondorFarm 1	
	  	PreBuiltPlyr = PlyrGondor 	
	End  
End



;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Cirith Ungol
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolBridgeA
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBCUBridgeA
    End
        RaisedWallMesh = P2
        RampMesh1 = P1
        RampMesh2 = P3
  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** AUDIO Parameters ***
 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE WALK_ON_TOP_OF_WALL
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 120.0
    GeometryOffset		= X:0 Y:130 Z:0
    
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 120.0
    GeometryOffset		= X:0 Y:-130 Z:0
    
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 100.0
  GeometryHeight        = 0.0
  GeometryOffset		= X:0 Y:0 Z:90
      
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolBridgeB
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBCUBridgeB
    End
        RaisedWallMesh = P2
        RampMesh1 = P1
        RampMesh2 = P3
  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol_B
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE WALK_ON_TOP_OF_WALL
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 120.0
    GeometryOffset		= X:0 Y:130 Z:0
    
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 120.0
    GeometryOffset		= X:0 Y:-130 Z:0
    
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 100.0
  GeometryHeight        = 0.0
  GeometryOffset		= X:0 Y:0 Z:90
      
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolBridgeC
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBCUBridgeC
    End
    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3
  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Bridge
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** AUDIO Parameters ***
 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE STRUCTURE WALK_ON_TOP_OF_WALL UNATTACKABLE
  Shadow          = SHADOW_VOLUME
  Body            = ImmortalBody ModuleTag_03
	MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 120.0
    GeometryOffset		= X:0 Y:130 Z:0
    
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 120.0
    GeometryOffset		= X:0 Y:-130 Z:0
    
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 100.0
  GeometryHeight        = 0.0
  GeometryOffset		= X:0 Y:0 Z:90
      
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------------------
Object MordorCirithUngolGateDoor

  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState  
      Model = MBCUGateDr
    End
        
	AnimationState = DOOR_1_OPENING
		StateName = STATE_Open   
		Animation = Open 
			AnimationName	=	MBCUGateDr.MBCUGateDr
			AnimationMode	=	ONCE 
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Closed" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
		EndScript
    End
    TransitionState = TRANS_Closed_To_Open
		Animation = Open 
			AnimationName	=	MBCUGateDr.MBCUGateDr
			AnimationMode	=	ONCE 
		End
    End
        
	AnimationState = DOOR_1_CLOSING 
		StateName = STATE_Closed 
		Animation = Close 
			AnimationName	=	MBCUGateDr.MBCUGateDr
			AnimationMode	=	ONCE_BACKWARDS 
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_FIRST
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
		EndScript
    End
    TransitionState = TRANS_Open_To_Closed
		Animation = Open 
			AnimationName	=	MBCUGateDr.MBCUGateDr
			AnimationMode	=	ONCE_BACKWARDS 
		End
		Flags = START_FRAME_LAST
    End

  End


  ; *** AUDIO Parameters ***

	VoiceSelect		= GateSelect


  ; ***DESIGN parameters ***

  DisplayName      = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

  VisionRange         = 1600.0          ; Shroud clearing distance

  ArmorSet
    Conditions        = None
    Armor             = HelmsDeepGates
    DamageFX          = None
  End

	CommandSet = CastleGateCommandSet


	; *** ENGINEERING Parameters ***  
	KindOf                = STRUCTURE IMMOBILE SELECTABLE BLOCKING_GATE 
	RadarPriority = STRUCTURE
	Body                  = ActiveBody ModuleTag_02
		MaxHealth       = 2000.0
	End

  	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  	; buildings automatically stick around because GarrisonContain has it's own DieModule
  	Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
  		DestructionDelay  = 2100
  	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
;		AnimationSound = Sound: MinisTirithGateDie Animation:GBMgatedoorSKL.GBMgatedoorA3 Frames: 1 
	End

	Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
		ResetTimeInMilliseconds = 12200 ; important! this must be longer than the gates animation, ir it will twitch
		OpenByDefault = Yes
		PercentOpenForPathing = 50
		SoundOpeningGateLoop = GateOpenStart
		SoundClosingGateLoop = GateCloseStart
		SoundFinishedOpeningGate = GateOpenEnd
		SoundFinishedClosingGate = GateCloseEnd
		TimeBeforePlayingOpenSound = 9500
		TimeBeforePlayingClosedSound = 9500
	End

	Geometry              = BOX
	GeometryMajorRadius   = 14.0
	GeometryMinorRadius   = 57.0
	GeometryHeight        = 74.0
	GeometryName          = Closed
	GeometryIsSmall       = No


	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 14.0
	GeometryMinorRadius   = 1.0
	GeometryHeight        = 62.0	
	GeometryOffset		  = X:8 Y:29 Z:0
	GeometryName          = OpenLeft
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 14.0
	GeometryMinorRadius   = 1.0
	GeometryHeight        = 62.0	
	GeometryOffset		  = X:8 Y:-29 Z:0
	GeometryName          = OpenRight
	
	GeometryContactPoint = X:15 Y:-29 Z:0 Ram 
    GeometryContactPoint = X:7 Y:-29 Z:60
	GeometryContactPoint = X:0  Y:-29 Z:0
	GeometryContactPoint = X:0  Y:-14 Z:60
	GeometryContactPoint = X:0  Y:  0 Z:1 Ram
	GeometryContactPoint = X:0  Y: 14 Z:60
	GeometryContactPoint = X:0  Y: 29 Z:0
	GeometryContactPoint = X:7 Y: 29 Z:60
	GeometryContactPoint = X:15 Y: 29 Z:0 Ram  

	Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolStairA
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

        WallBoundsMesh = P1
        RampMesh1 = P2

    DefaultModelConditionState
      Model = MBCUStairA
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE 
  ThreatLevel = 1.0

  
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE WALK_ON_TOP_OF_WALL
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 32.5
  GeometryMinorRadius   = 60.0
  GeometryHeight        = 170.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolStairB
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P2
        RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUStairB
    End
  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

  
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE WALK_ON_TOP_OF_WALL
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 78.5
  GeometryHeight        = 191.0
  GeometryOffset		= X:0 Y:0 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 41.0
  GeometryHeight        = 212.0
  GeometryOffset		= X:0 Y:37.5 Z:0
      
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolStairC
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P2
        RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUStairC
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 80.5
  GeometryMinorRadius   = 37.5
  GeometryHeight        = 140.0
  GeometryOffset		= X:0 Y:0 Z:0
      
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 80.5
  GeometryHeight        = 160.0
  GeometryOffset		= X:43 Y:0 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolStairD
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P2
        RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUStairD
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

;  Geometry              = BOX
;  GeometryMajorRadius   = 37.5
;  GeometryMinorRadius   = 80.0
;  GeometryHeight        = 190.0

  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 78.5
  GeometryHeight        = 191.0
  GeometryOffset		= X:0 Y:0 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 41.0
  GeometryHeight        = 212.0
  GeometryOffset		= X:0 Y:37.5 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolTowerA
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    ;    WallBoundsMesh = P2w
    ;    RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUTowerA
    End

    ;AlphaCameraFadeOuterRadius = 400
	;AlphaCameraFadeInnerRadius = 300
	;AlphaCameraAtInnerRadius = 15%

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE CASTLE_KEEP ;WALK_ON_TOP_OF_WALL
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

;  Geometry              = BOX
;  GeometryMajorRadius   = 35.0
;  GeometryMinorRadius   = 165.0
;  GeometryHeight        = 190.0

  Geometry              = CYLINDER
  GeometryMajorRadius   = 66.0
  GeometryMinorRadius   = 0
  GeometryHeight        = 466.0
  GeometryOffset		= X:0 Y:0 Z:0
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 114.0
  GeometryMinorRadius   = 0
  GeometryHeight        = 187.0
  GeometryOffset		= X:-18 Y:0 Z:0

  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolTowerB
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P2w
        RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUTowerB
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End


  Geometry              = BOX
  GeometryMajorRadius   = 35.0
  GeometryMinorRadius   = 65.0
  GeometryHeight        = 190.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolTowerC
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
 ;       WallBoundsMesh = P2W
 ;       RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUTowerC
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE  STRUCTURE ;WALK_ON_TOP_OF_WALL
  Body            = ActiveBody ModuleTag_03
	  MaxHealth       = 99999.0
  End


  Geometry              = BOX
  GeometryMajorRadius   = 35.0
  GeometryMinorRadius   = 65.0
  GeometryHeight        = 190.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallA
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ; RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLA
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL  STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 75.0
  GeometryHeight        = 169.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallC
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
         WallBoundsMesh = P1
       ; RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLC
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE 
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Body            = ActiveBody ModuleTag_03
	MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 42.0
  GeometryHeight        = 169.0
  GeometryOffset		= X:-32 Y:0 Z:0

  AdditionalGeometry	= CYLINDER
  GeometryMajorRadius	= 32.0
  GeometryMinorRadius	= 0
  GeometryHeight		= 169.0
  GeometryOffset		= X:0 Y:0 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallD
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
		;WallBoundsMesh = P2
		RampMesh1 = P1
		RampMesh2 = P3
		RaisedWallMesh = P2
    DefaultModelConditionState
      Model = MBCUWALLD
    End

	End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE 
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 60.0
  GeometryMinorRadius   = 40.0
  GeometryHeight        = 180.0
  GeometryOffset		= X:0 Y:-80 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 60.0
  GeometryMinorRadius   = 40.0
  GeometryHeight        = 180.0
  GeometryOffset		= X:0 Y:80 Z:0
    
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallE
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
       WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLE
    End

       
  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE 
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 57.5
  GeometryMinorRadius   = 130.0
  GeometryHeight        = 160.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallG
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
		WallBoundsMesh = P1
    DefaultModelConditionState
      Model = MBCUWALLG
    End
  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 35.0
  GeometryMinorRadius   = 30.0
  GeometryHeight        = 160.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallJ
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
       WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLJ
    End
       
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE 
  ThreatLevel = 1.0

 
  ; *** AUDIO Parameters ***
 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 80.0
  GeometryHeight        = 160.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallK
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLK
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE 
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 80.0
  GeometryHeight        = 160.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallN
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLN
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 80.0
  GeometryHeight        = 160.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallQ
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLQ
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 90.0
  GeometryHeight        = 100.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallR
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLR
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 57.5
  GeometryMinorRadius   = 80.0
  GeometryHeight        = 100.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallS
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLS
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 125.0
  GeometryHeight        = 111.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallT
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLT
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 37.5
  GeometryMinorRadius   = 125.0
  GeometryHeight        = 115.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Mordor Cirith Ungol
Object MordorCirithUngolWallU
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = MBCUWALLU
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CirithUngol
  EditorSorting   = STRUCTURE
  Browser = REGION CIRITH_UNGOL STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 30.0
  GeometryMinorRadius   = 35.0
  GeometryHeight        = 111.0
  GeometryOffset		= X:0 Y:0 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Lothlorien
Object LothlorienBridge
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    
    StaticModelLODMode = yes 
    
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = LBBRIDGE
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:LBBRIDGE
  EditorSorting   = STRUCTURE
  Browser = REGION LOTHLORIEN STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

	Geometry              = BOX
	GeometryMajorRadius   = 120.0
	GeometryMinorRadius   = 60.0
	GeometryHeight        = 32.6
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Lothlorien
Object LothlorienTreeHouse1
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    
    StaticModelLODMode = yes 
    
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = LBTREEHOUSE1
    End
    
	AlphaCameraFadeOuterRadius = 300
	AlphaCameraFadeInnerRadius = 150
	AlphaCameraAtInnerRadius = 10%    

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:LBTREEHOUSE
  EditorSorting   = STRUCTURE
  Browser = REGION LOTHLORIEN STRUCTURE
  ThreatLevel = 1.0

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 47.8
  GeometryMinorRadius   = 46.8
  GeometryHeight        = 141.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
;Lothlorien
Object LothlorienTreeHouse2
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    
    StaticModelLODMode = yes 
    
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = LBTREEHOUSE2
    End
    
	AlphaCameraFadeOuterRadius = 300
	AlphaCameraFadeInnerRadius = 150
	AlphaCameraAtInnerRadius = 10%    

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:LBTREEHOUSE
  EditorSorting   = STRUCTURE
  Browser = REGION LOTHLORIEN STRUCTURE
  ThreatLevel = 1.0
  CommandSet			= GenericKeepCommandSet

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  
  ; *** ENGINEERING Parameters ***  
; KindOf          = SELECTABLE IMMOBILE STRUCTURE CASTLE_KEEP
  KindOf          = STRUCTURE SELECTABLE IMMOBILE CASTLE_KEEP FS_FACTORY AUTO_RALLYPOINT 
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
	SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
	SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  	;-----------------------------------------------
	;Used for hero revival and initial construction     
	Behavior = ProductionUpdate ProductionUpdateModuleTag
		; nothing, but is required if we have any Object-level Upgrades!
	End
	Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
		UnitCreatePoint   = X:0.0 Y:-20.0 Z:0.0
		NaturalRallyPoint = X:28.8 Y:-80.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
		ExitDelay = 300 ;Handles delays between units if multiple produced at a time. (like Generals Redguard coming out 2 at a time)
	End  
	;-----------------------------------------------

;  Geometry              = BOX
;  GeometryMajorRadius   = 30.0
;  GeometryMinorRadius   = 35.0
;  GeometryHeight        = 55.0
;  GeometryOffset		= X:0 Y:0 Z:0
;  GeometryActive		= no
  
  Geometry    = BOX
  GeometryMajorRadius   = 110.0
  GeometryMinorRadius   = 70.0
  GeometryHeight        = 145.0
  GeometryOffset		= X:46 Y:35 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 70.0
  GeometryMinorRadius   = 75.0
  GeometryHeight        = 299.0
  GeometryOffset		= X:0 Y:35 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 40.0
  GeometryMinorRadius   = 25.0
  GeometryHeight        = 155.0
  GeometryOffset		= X:-47 Y:-110 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------
Object GenericRockBridge

	; *** ART Parameters ***
		Draw = W3DScriptedModelDraw ModuleTag_01
			OkToChangeModelColor = Yes
			DefaultModelConditionState
				Model = NBRockBrdge
			End
		
		    WallBoundsMesh	= P2
		    RampMesh1		= P1
		    RampMesh2		= P3		    
		End

	; *** AUDIO Parameters ***

	; ***DESIGN parameters ***
		DisplayName      = OBJECT:Bridge
		EditorSorting   = STRUCTURE

		ArmorSet
			Conditions        = None
			Armor             = NoArmor
			DamageFX          = None
		End

	; *** ENGINEERING Parameters ***  
		KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE
		RadarPriority		= STRUCTURE
		Body                  = InactiveBody ModuleTag_03
		End

		; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
		; never truly destroyed, even when reduced to zero health. Also note that garrisonable
		; buildings automatically stick around because GarrisonContain has it's own DieModule
		Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 4000
		End
		  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

		Geometry              = BOX
		GeometryMajorRadius   = 76.0
		GeometryMinorRadius   = 150.0
		GeometryHeight        = 65.6
		GeometryIsSmall       = No
		;GeometryRotationAnchorOffset = X:1037.871 Y:0
		
		GeometryContactPoint			= X:40		Y: -120		Z:60 Grab
		GeometryContactPoint			= X:40		Y: 0		Z:70 Grab
		GeometryContactPoint			= X:40		Y: 120		Z:60 Grab 
		GeometryContactPoint			= X:-40		Y: 120		Z:60 Grab
		GeometryContactPoint			= X:-40		Y: 0		Z:70 Grab
		GeometryContactPoint			= X:-40		Y: -120		Z:60 Grab
		
		
		Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------
Object GenericTreeBridge

	; *** ART Parameters ***
		Draw = W3DScriptedModelDraw ModuleTag_01
			OkToChangeModelColor = Yes
			DefaultModelConditionState
				Model = NBTreeBrdge
			End
		
		    WallBoundsMesh	= P2
		    RampMesh1		= P1
		    RampMesh2		= P3		    
		End

	; *** AUDIO Parameters ***

	; ***DESIGN parameters ***
		DisplayName      = OBJECT:Bridge
		EditorSorting   = STRUCTURE

		ArmorSet
			Conditions        = None
			Armor             = NoArmor
			DamageFX          = None
		End

	; *** ENGINEERING Parameters ***  
		KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE
		RadarPriority		= STRUCTURE
		Body                  = InactiveBody ModuleTag_03
		End

		; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
		; never truly destroyed, even when reduced to zero health. Also note that garrisonable
		; buildings automatically stick around because GarrisonContain has it's own DieModule
		Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 4000
		End
		  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= WallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

		Geometry              = BOX
		GeometryMajorRadius   = 76.0
		GeometryMinorRadius   = 150.0
		GeometryHeight        = 65.6
		GeometryIsSmall       = No
		;GeometryRotationAnchorOffset = X:1037.871 Y:0
		Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------
;Gondor
Object GondorWoodDock
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = GBWoodDock
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Dock
  EditorSorting   = STRUCTURE

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
  MaxHealth       = 99999.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.9
  GeometryMinorRadius   = 60.4
  GeometryHeight        = 25.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------
;Gondor
Object GondorStoneDock
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        WallBoundsMesh = P1
       ;RampMesh1 = P1
    DefaultModelConditionState
      Model = GBStoneDock
    End

  End

  ; *** AUDIO Parameters *** 
 
  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Dock
  EditorSorting   = STRUCTURE

 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  
  ; *** ENGINEERING Parameters ***  
  KindOf          = IMMOBILE STRUCTURE UNATTACKABLE
  Shadow          = SHADOW_VOLUME
  Body            = InactiveBody ModuleTag_03
  End

  Geometry              = BOX
  GeometryMajorRadius   = 31.8
  GeometryMinorRadius   = 120.8
  GeometryHeight        = 57.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;-------------------------------------------------------------------------------

ChildObject CampNoFlag_NE CampFlagNE

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = AICamp_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
End

;-------------------------------------------------------------------------------

ChildObject CampNoFlag_NW CampFlagNW

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = AICamp_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
End

;-------------------------------------------------------------------------------

ChildObject CampNoFlag_SE CampFlagSE

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = AICamp_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
End

;-------------------------------------------------------------------------------

ChildObject CampNoFlag_SW CampFlagSW

;SelectPortrait = BPCCamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    	    OkToChangeModelColor  = Yes
   	DefaultModelConditionState
   		Model = AICamp_SKN
;                    ParticleSysBone   = glowbone01 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone02 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone03 TorchGlow FollowBone:Yes
;                    ParticleSysBone   = glowbone04 TorchGlow FollowBone:Yes
   	End
	ModelConditionState = WORLD_BUILDER
		Model = Camp_Flag
	End
    IdleAnimationState
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
    End    
	AnimationState = JUST_BUILT ; for instant-build
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
	End	    
	AnimationState = UNPACKING
		Animation
			AnimationName = NCampsite_SKL.NCampsite_A
			AnimationMode = ONCE
			AnimationBlendTime = 90
		End
		Flags = START_FRAME_LAST
	End
	AnimationState = PACKING
		Animation = flag
			AnimationName = NCampsite_SKL.NCampsite_IDLA
			AnimationMode = LOOP
			AnimationBlendTime = 90
		End
	End	    
  End
End


;------------------------------------------------------------------------------

ChildObject PreBuiltCampNoFlag_01 PreBuiltCampFlag_01

	; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
    			OkToChangeModelColor  = Yes
   		DefaultModelConditionState
   			Model = AICamp_SKN
   		End
		ModelConditionState = WORLD_BUILDER
			Model = Camp_Flag
		End
		IdleAnimationState
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
		End    
		AnimationState = JUST_BUILT ; for instant-build
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_A
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_LAST
		End	    
		AnimationState = UNPACKING
			Animation
				AnimationName = NCampsite_SKL.NCampsite_A
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
			Flags = START_FRAME_LAST
		End
		AnimationState = PACKING
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_IDLA
				AnimationMode = LOOP
				AnimationBlendTime = 90
			End
		End	    
	End
End	

;------------------------------------------------------------------------------

ChildObject PreBuiltCampNoFlag_02 PreBuiltCampFlag_02

	; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
    			OkToChangeModelColor  = Yes
   		DefaultModelConditionState
   			Model = AICamp_SKN
   		End
		ModelConditionState = WORLD_BUILDER
			Model = Camp_Flag
		End
		IdleAnimationState
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
		End    
		AnimationState = JUST_BUILT ; for instant-build
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_A
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_LAST
		End	    
		AnimationState = UNPACKING
			Animation
				AnimationName = NCampsite_SKL.NCampsite_A
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
			Flags = START_FRAME_LAST
		End
		AnimationState = PACKING
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_IDLA
				AnimationMode = LOOP
				AnimationBlendTime = 90
			End
		End	    
	End
End	

;------------------------------------------------------------------------------

ChildObject PreBuiltCampNoFlag_03 PreBuiltCampFlag_03

	; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
    			OkToChangeModelColor  = Yes
   		DefaultModelConditionState
   			Model = AICamp_SKN
   		End
		ModelConditionState = WORLD_BUILDER
			Model = Camp_Flag
		End
		IdleAnimationState
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
		End    
		AnimationState = JUST_BUILT ; for instant-build
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_A
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_LAST
		End	    
		AnimationState = UNPACKING
			Animation
				AnimationName = NCampsite_SKL.NCampsite_A
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
			Flags = START_FRAME_LAST
		End
		AnimationState = PACKING
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_IDLA
				AnimationMode = LOOP
				AnimationBlendTime = 90
			End
		End	    
	End
End	

;------------------------------------------------------------------------------

ChildObject PreBuiltCampNoFlag_04 PreBuiltCampFlag_04

	; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
    			OkToChangeModelColor  = Yes
   		DefaultModelConditionState
   			Model = AICamp_SKN
   		End
		ModelConditionState = WORLD_BUILDER
			Model = Camp_Flag
		End
		IdleAnimationState
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
		End    
		AnimationState = JUST_BUILT ; for instant-build
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_A
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_LAST
		End	    
		AnimationState = UNPACKING
			Animation
				AnimationName = NCampsite_SKL.NCampsite_A
				AnimationMode = ONCE
				AnimationBlendTime = 90
			End
			Flags = START_FRAME_LAST
		End
		AnimationState = PACKING
			Animation = flag
				AnimationName = NCampsite_SKL.NCampsite_IDLA
				AnimationMode = LOOP
				AnimationBlendTime = 90
			End
		End	    
	End
End	


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; NEW MINIS TIRITH ASSETS ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Object MinisRefMountain

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMrefMountain
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Mountain
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 99999.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 441.6
  GeometryMinorRadius   = 964.0
  GeometryHeight        = 260.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MinisGround1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMGround1
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ground
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = IMMOBILE CLICK_THROUGH
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 99999.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MinisGround2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMGround2
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ground
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 99999.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MinisGround3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMGround3
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Ground
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 99999.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object MinisWallATrebuchet

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultModelConditionState
      Model = GBMwallAUGTT
    End
;    WallBoundsMesh = GBCastleWallT2
  End

  Draw = W3DLightDraw ModuleTag_02
    Ambient = R:0 G:0 B:0
    Diffuse = R:240 G:240 B:100
    Radius = 40
    Intensity = 1.2
    FlickerAmplitude = 0.5
    FlickerFrequency = 10
    AttachToBoneInAnotherModule = E_Fire_SM
  End  


  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MinasTirithTrebuchetOutcropping
  Side = Gondor
  EditorSorting = STRUCTURE
; Browser = CINEMATICS UNIT

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 5000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 44.0
  GeometryMinorRadius   = 88.0
  GeometryHeight        = 40.0
  GeometryIsSmall       = No
  ;GeometryRotationAnchorOffset = X:1037.871 Y:0
  Shadow                = SHADOW_VOLUME
End

;---------------------------------------------------------------------------------------
Object MinisWallA

  ; *** ART Parameters ***
    
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    WallBoundsMesh = P1

    DefaultModelConditionState
      Model = GBMinwallA
    End
    
;--damaged building
  
    ModelConditionState  = DAMAGED
      Model         = GBMinWallA_D1  
    End
    
    AnimationState = DAMAGED
      EnteringStateFX = FX_MinWallATransitionDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBMinWallA_D2
    End
	AnimationState = REALLYDAMAGED
       	Animation				=	ReallyDamagedanimation
			AnimationName		=	 GBMinWallA_D2.GBMinWallA_D2
			AnimationMode		=	ONCE
            AnimationSpeedFactorRange = 0.5 0.5
   		End
        EnteringStateFX = FX_MinWallATransitionReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = GBMinWallA_D3A
    End
    
    AnimationState = RUBBLE
		Animation				=	Death
			AnimationName		=	GBMinWallA_D3A.GBMinWallA_D3A
			AnimationMode		=	ONCE
            AnimationSpeedFactorRange = 0.5 0.5
		End
        EnteringStateFX = FX_MinWallATransitionRubble
    End      

    ModelConditionState  = POST_RUBBLE
		Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
		 Model         = None
    End

  End

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTWall
  EditorSorting   = STRUCTURE
  
  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = MinasWallADamageFX
  End

	; *** ENGINEERING Parameters ***  
	KindOf					= STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
	RadarPriority			= STRUCTURE
	
	Body					= ActiveBody ModuleTag_03
			MaxHealth				= 110000.0
			MaxHealthDamaged		= 60000.0
			MaxHealthReallyDamaged  = 25000.0
		GrabObject = EntThrownBuildingRock
		GrabFX = FX_WallGrab
		GrabDamage = 490
		GrabOffset = X:16 Y:0
	End


	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End
   
	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End
   
   Behavior = CastleMemberBehavior ModuleTag_CMB
	    CountsForEvaCastleBreached = Yes
   End 

	Behavior                = TransitionDamageFX ModuleTag_TransDamageFX
		RubbleNeighbor NeighborOffset: X:0 Y:-200 Z:0 SubObject:BookendLeft SubObject:BookendLeftA OCL:OCL_MinWallA_BOOKEND_Right 
		RubbleNeighbor NeighborOffset: X:0 Y: 200 Z:0 SubObject:BookendRight SubObject:BookendRightA OCL:OCL_MinWallA_BOOKEND_Left 

;		DamagedFXList1 = loc: X:0 Y:0 Z:0 fxlist:FX_MinWallATransitionDamaged
	End
 
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 40.0
  GeometryMinorRadius   = 114.4
  GeometryHeight        = 54.0
  GeometryIsSmall       = No
  GeometryOffset		= X:-24 Y:0 Z:0
  GeometryRotationAnchorOffset = X:1076.832 Y:0.0
  GeometryContactPoint	= X: 30 Y: 40 Z:0 Grab
  GeometryContactPoint	= X:-65 Y: 40 Z:0 Grab
  GeometryContactPoint	= X: 30 Y:-40 Z:0 Grab
  GeometryContactPoint	= X:-65 Y:-40 Z:0 Grab
  GeometryContactPoint	= X: 10 Y:  0 Z:60
  
  Shadow                = SHADOW_VOLUME
End

;-------------------------------------------------------


ChildObject MinisWallAUpgrade GondorCastleUpgrade

	Draw = W3DScriptedModelDraw Draw_Trebuchet
		OkToChangeModelColor = Yes

		ExtraPublicBone = Treb01
		ExtraPublicBone = Treb02

		; Don't want to change the hidden state of this when the postern gate is stealthed.
		AffectedByStealth = No

		DefaultModelConditionState
			Model = GBMwallAUGTT
		End

		ModelConditionState = WORLD_BUILDER
  			Model = GBCASTTREBW
  		End

		IdleAnimationState
			StateName = Complete
			BeginScript
				CurDrawableHideModule("Draw_Trebuchet")
			EndScript
		End


		AnimationState = SOLD
			Animation
				AnimationName = GBMwallAUGTT.GBMwallAUGTT
				AnimationMode = ONCE_BACKWARDS
				;AnimationSpeedFactorRange = 0.2 0.2
			End
			EnteringStateFX = FX_BuildingContructDustCastles
		End



		ModelConditionState  = UPGRADE_TREBUCHET DAMAGED
			Model         = GBMwallAUGTT_D1  
		End
	    
		AnimationState = UPGRADE_TREBUCHET DAMAGED
	;      EnteringStateFX = FX_MinWallATransitionDamaged
		End

		ModelConditionState  = UPGRADE_TREBUCHET REALLYDAMAGED
			Model         = GBMwallAUGTT_D2
		End
		
		AnimationState = UPGRADE_TREBUCHET REALLYDAMAGED
       		Animation				=	ReallyDamagedanimation
				AnimationName		=	 GBMwallAUGTT_D2.GBMwallAUGTT_D2
				AnimationMode		=	ONCE
   			End
	;        EnteringStateFX = FX_MinWallATransitionReallyDamaged
		End

		ModelConditionState  = UPGRADE_TREBUCHET RUBBLE
		Model         = GBMwallAUGTT_D3
		End
	    
		AnimationState = UPGRADE_TREBUCHET RUBBLE
			Animation				=	Death
				AnimationName		=	GBMwallAUGTT_D3.GBMwallAUGTT_D3
				AnimationMode		=	ONCE
			End
			EnteringStateFX = FX_WallDie
	;        EnteringStateFX = FX_MinWallATransitionRubble
		End      

		ModelConditionState  = UPGRADE_TREBUCHET POST_RUBBLE
			Model         = None
		End

		ModelConditionState  = UPGRADE_TREBUCHET POST_COLLAPSE
			Model         = None
		End		

		TransitionState = TRANS_IdleToBuild
			Animation
				AnimationName	=	GBMwallAUGTT.GBMwallAUGTT
				AnimationMode	=	ONCE
			End
			EnteringStateFX = FX_BuildingContructDustCastles
		End

		AnimationState = UPGRADE_TREBUCHET
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Complete" then CurDrawableSetTransitionAnimState("TRANS_IdleToBuild") end
			EndScript
			Flags = START_FRAME_LAST
			Animation
				AnimationName = GBMwallAUGTT.GBMwallAUGTT
				AnimationMode = ONCE
			End
		End
	
	End
	
;------------- Override Model for MT thicker wall --------------
	Draw = W3DScriptedModelDraw Draw_PosternGate

		ExtraPublicBone = Post01
		ExtraPublicBone = Post02
		ExtraPublicBone = Post03
		ExtraPublicBone = Post04

		DefaultModelConditionState
			Model			= GBMWALLAUGPG
		End

		IdleAnimationState
			BeginScript
				CurDrawableHideModule("Draw_PosternGate")
			EndScript
		End


		AnimationState = SOLD
			Animation
				AnimationName = GBMWALLAUGPG.GBMWALLAUGPG
				AnimationMode = ONCE_BACKWARDS
				;AnimationSpeedFactorRange = 0.2 0.2
			End
			EnteringStateFX = FX_BuildingContructDustCastles
		End


		ModelConditionState  = UPGRADE_POSTERN_GATE DAMAGED
			Model         = GBMWALLAUGPG_D1  
		End
	    
		AnimationState = UPGRADE_POSTERN_GATE DAMAGED
	;      EnteringStateFX = FX_MinWallATransitionDamaged
		End

		ModelConditionState  = UPGRADE_POSTERN_GATE REALLYDAMAGED
		Model         = GBMWALLAUGPG_D2
		End
		AnimationState = UPGRADE_POSTERN_GATE REALLYDAMAGED
      		Animation				=	ReallyDamagedanimation
				AnimationName		=	 GBMWALLAUGPG_D2.GBMWALLAUGPG_D2
				AnimationMode		=	ONCE
   			End
	;        EnteringStateFX = FX_MinWallATransitionReallyDamaged
		End

		ModelConditionState  = UPGRADE_POSTERN_GATE RUBBLE
		Model         = GBMWALLAUGPG_D3
		End
	    
		AnimationState = UPGRADE_POSTERN_GATE RUBBLE
			Animation				=	Death
				AnimationName		=	GBMWALLAUGPG_D3.GBMWALLAUGPG_D3
				AnimationMode		=	ONCE
			End
			EnteringStateFX = FX_WallDie
	;        EnteringStateFX = FX_MinWallATransitionRubble
		End      

		ModelConditionState  = UPGRADE_POSTERN_GATE POST_RUBBLE
			Model         = None
		End

		ModelConditionState  = UPGRADE_POSTERN_GATE POST_COLLAPSE
			Model         = None
		End		
		

		AnimationState = UPGRADE_POSTERN_GATE
			Animation
				AnimationName = GBMWALLAUGPG.GBMWALLAUGPG
				AnimationMode = ONCE
			End
			EnteringStateFX = FX_BuildingContructDustCastles
		End
	
	End
;----------------------------------------------------------------------------------------------
	Draw = W3DScriptedModelDraw Draw_Picker

		; Don't want to change the hidden state of this when the postern gate is stealthed.
		AffectedByStealth = No
	
		DefaultModelConditionState
			Model = GBCASTWallOB
			OverrideTooltip			= ReferenceDisplayName
		End
		
		ModelConditionState			= UPGRADE_TREBUCHET
			OverrideTooltip			= OBJECT:MinasTirithTrebuchetOutcropping
		End
		
		ModelConditionState			= UPGRADE_POSTERN_GATE
			OverrideTooltip			= OBJECT:MinasTirithPosternGate
		End
		
		ModelConditionState			= UPGRADE_GARRISON
			OverrideTooltip			= OBJECT:MinasTirithBattleTower
		End
		
	End

;------------- Override Tower Model for MT thicker wall --------------

	Draw = W3DScriptedModelDraw Draw_Tower

		ExtraPublicBone = Arrow_01
		ExtraPublicBone = Arrow_02
		ExtraPublicBone = Arrow_03
		ExtraPublicBone = Arrow_04
		ExtraPublicBone = Arrow_05
		ExtraPublicBone = Arrow_06
		ExtraPublicBone = Arrow_07
		ExtraPublicBone = Arrow_08
		ExtraPublicBone = Arrow_09
		ExtraPublicBone = Arrow_10
		ExtraPublicBone = Arrow_11
		ExtraPublicBone = Arrow_12

		; Don't want to change the hidden state of this when the postern gate is stealthed.
		AffectedByStealth = No

		DefaultModelConditionState
			Model				= GBMWALLAUGBT
			WeaponLaunchBone    = PRIMARY ARROW_
		End
		
		; This idle state is required simply to make sure the tower visual
		; mesh is invisible so we can't pick it when it's underground.
		; The actual state is not needed.
		IdleAnimationState
			StateName = Complete
			BeginScript
				CurDrawableHideModule("Draw_Tower")
			EndScript
		End
		
		AnimationState = SOLD
			Animation
				AnimationName = GBMWALLAUGBT.GBMWALLAUGBT
				AnimationMode = ONCE_BACKWARDS
				AnimationSpeedFactorRange = 0.2 0.2
			End
			EnteringStateFX = FX_BuildingContructDustCastles
		End
		
		
		
		
		ModelConditionState  = UPGRADE_GARRISON DAMAGED
			Model         = GBMWALLAUGBT_D1
		End
	    
		AnimationState = UPGRADE_GARRISON DAMAGED
	;      EnteringStateFX = FX_MinWallATransitionDamaged
		End

		ModelConditionState  = UPGRADE_GARRISON REALLYDAMAGED
			Model         = GBMWALLAUGBT_D2
		End
		
		AnimationState = UPGRADE_GARRISON REALLYDAMAGED
       		Animation				=	ReallyDamagedanimation
				AnimationName		=	 GBMWALLAUGBT_D2.GBMWALLAUGBT_D2
				AnimationMode		=	ONCE
  			End
	;        EnteringStateFX = FX_MinWallATransitionReallyDamaged
		End

		ModelConditionState  = UPGRADE_GARRISON RUBBLE
			Model         = GBMWALLAUGBT_D3
		End
	    
		AnimationState = UPGRADE_GARRISON RUBBLE
			StateName = Complete
			Animation				=	Death
				AnimationName		=	GBMWALLAUGBT_D3.GBMWALLAUGBT_D3
				AnimationMode		=	ONCE
			End
			EnteringStateFX = FX_WallDie
		End      

		ModelConditionState  = UPGRADE_GARRISON POST_RUBBLE
			Model         = None
		End

		ModelConditionState  = UPGRADE_GARRISON POST_COLLAPSE
			Model         = None
		End		

		TransitionState				=	TRANS_IdleToBuild
			Animation
				AnimationName		=	GBMWALLAUGBT.GBMWALLAUGBT
				AnimationMode		=	ONCE
			End
			EnteringStateFX = FX_BuildingContructDustCastles
		End

		; Just play the last frame, so we don't get the build anim again.
		AnimationState = UPGRADE_GARRISON
			
			; If we're complete then transition via showing and build anim.
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Complete" then CurDrawableSetTransitionAnimState("TRANS_IdleToBuild") end
			EndScript
		
			Flags = START_FRAME_LAST
			Animation
				AnimationName = GBMWALLAUGBT.GBMWALLAUGBT
				AnimationMode = ONCE
			End
		End

	End	


;  GeometryRotationAnchorOffset	= X:1070.0 Y:0.0
  GeometryRotationAnchorOffset	= X:1076.832 Y:0.0
  DisplayName					= OBJECT:MTWall
  EditorSorting					= STRUCTURE

End

;-------------------------------------------------------
ChildObject MinisWallAUpgradeNoGate MinisWallAUpgrade

	DisplayName      = OBJECT:MTWall
	CommandSet	= MinasCastleWallNoGateCommandSet

End

;-------------------------------------------------------
; This is the MinisWallAUG is the MinisWallAT Upgrade
;Object MinisWallAUG
;
; ; *** ART Parameters ***
;  Draw = W3DScriptedModelDraw Draw_Trebuchet
;		OkToChangeModelColor = Yes
;
;		ExtraPublicBone = Treb01
;		ExtraPublicBone = Treb02
;
;	
;		DefaultModelConditionState
;			Model = GBMwallAUGTT
;           ParticleSysBone	  = NONE BuildingDoughnutCloud
;          ParticleSysBone   = NONE BuildingContructDustCastles
;		End
;	
;		ModelConditionState = WORLD_BUILDER
;			Model = GBMWallAT
;		End	
;			
;;		ModelConditionState = WORLD_BUILDER
;;			Model = GBMinwallAUG
;;		End
;
;		IdleAnimationState
;			BeginScript
;				CurDrawableHideModule("Draw_Trebuchet")
;			EndScript
;		End
;		
;    ModelConditionState  = UPGRADE_TREBUCHET DAMAGED
;	  Model         = GBMinWallAT_D1  
;    End
;    
;    AnimationState = UPGRADE_TREBUCHET DAMAGED
;      EnteringStateFX = FX_MinWallATTransitionDamaged
;    End    
;    
;    ModelConditionState  = UPGRADE_TREBUCHET REALLYDAMAGED
;      Model         = GBMinWallAT_D2  
;    End
;	AnimationState = UPGRADE_TREBUCHET REALLYDAMAGED
;		Animation				=	Death
;			AnimationName		=	 GBMinWallAT_D2.GBMinWallAT_D2 
;			AnimationMode		=	ONCE
;			AnimationBlendTime = 0
;		End
;		EnteringStateFX = FX_MinWallATTransitionReallyDamaged
;   End
;
;    ModelConditionState  = UPGRADE_TREBUCHET RUBBLE
;      Model         = GBMinWallAT_D3  
;    End
;    
;    AnimationState = UPGRADE_TREBUCHET RUBBLE
;		Animation				=	Death
;			AnimationName		=	 GBMinWallAT_D3.GBMinWallAT_D3 
;			AnimationMode		=	ONCE
;			AnimationBlendTime = 0
;		End
;		EnteringStateFX = FX_MinWallATTransitionRubble
;    End 
;    
;    ModelConditionState  =  UPGRADE_TREBUCHET POST_RUBBLE
;		Model         = None
;    End
;
;    ModelConditionState  = UPGRADE_TREBUCHET POST_COLLAPSE
;		 Model         = None
;    End
    
;	AnimationState = UPGRADE_TREBUCHET
;		BeginScript
;			CurDrawableShowModule("Draw_Trebuchet")
;		EndScript
;		Animation
;			AnimationName = GBMwallAUGTT.GBMwallAUGTT
;			AnimationMode = ONCE
;		End
;	End    
;	
;  End
;  
;	;----------------------------------------------------------------------------------------------
;	Draw = W3DScriptedModelDraw Draw_Wall
;		OkToChangeModelColor = Yes
;
;	    WallBoundsMesh = P1
;
;		DefaultModelConditionState
;			Model = GBMwallAUG
;                        ParticleSysBone	  = NONE BuildingDoughnutCloud
;                        ParticleSysBone   = NONE BuildingContructDustCastles
;		End
;
;;		AnimationState = JUST_BUILT
;;			Animation
;;				AnimationName = GBMwallAUG.GBMwallAUG
;;				AnimationMode = ONCE
;                                AnimationSpeedFactorRange = 2.0 2.5 ; keep range wide to avoid lockstep anims
;			End
;		End    

;;		IdleAnimationState
;;			BeginScript
;;				CurDrawableAllowToContinue()
;;			EndScript
;;		
;;			; Don't want the entire anim to play.
;;			Flags = START_FRAME_LAST
;;			Animation
;;				AnimationName = GBMwallAUG.GBMwallAUG
;;				AnimationMode = ONCE
;;			End
;;		End
;
;	End
	
	;----------------------------------------------------------------------------------------------
;	Draw = W3DScriptedModelDraw Draw_Tower
;
;		ExtraPublicBone = Arrow_01
;		ExtraPublicBone = Arrow_02
;		ExtraPublicBone = Arrow_03
;		ExtraPublicBone = Arrow_04
;		ExtraPublicBone = Arrow_05
;		ExtraPublicBone = Arrow_06
;		ExtraPublicBone = Arrow_07
;		ExtraPublicBone = Arrow_08
;		ExtraPublicBone = Arrow_09
;		ExtraPublicBone = Arrow_10
;		ExtraPublicBone = Arrow_11
;		ExtraPublicBone = Arrow_12

;		DefaultModelConditionState
;			Model = GBMwallAUGBT
;                        ParticleSysBone	  = NONE BuildingDoughnutCloud
;                        ParticleSysBone   = NONE BuildingContructDustCastles
;		End
;
;		IdleAnimationState
;			BeginScript
;				CurDrawableHideModule("Draw_Tower")
;			EndScript
;		End
;
;
;		
;	ModelConditionState  = UPGRADE_GARRISON DAMAGED
;	  Model         = GBMwallAUGBT_D1 
;    End
;    
;    AnimationState = UPGRADE_GARRISON DAMAGED
;      EnteringStateFX = FX_MinWallATTransitionDamaged
;    End    
;    
;    ModelConditionState  = UPGRADE_GARRISON REALLYDAMAGED
;      Model         = GBMwallAUGBT_D2  
;    End
;	AnimationState = UPGRADE_GARRISON REALLYDAMAGED
;		Animation				=	Death
;			AnimationName		=	 GBMwallAUGBT_D2.GBMwallAUGBT_D2 
;			AnimationMode		=	ONCE
;			AnimationBlendTime = 0
;		End
;		EnteringStateFX = FX_MinWallATTransitionReallyDamaged
;    End
;
;    ModelConditionState  = UPGRADE_GARRISON RUBBLE
;      Model         = GBMwallAUGBT_D3  
;    End
;    
;    AnimationState = UPGRADE_GARRISON RUBBLE
;		Animation				=	Death
;			AnimationName		=	 GBMwallAUGBT_D3.GBMwallAUGBT_D3 
;			AnimationMode		=	ONCE
;			AnimationBlendTime = 0
;		End
;		EnteringStateFX = FX_MinWallATTransitionRubble
;    End 
;    
;    ModelConditionState  =  UPGRADE_GARRISON POST_RUBBLE
;		Model         = None
;    End
;
;    ModelConditionState  = UPGRADE_GARRISON POST_COLLAPSE
;		 Model         = None
;    End
;
;	AnimationState = UPGRADE_GARRISON
;		BeginScript
;			CurDrawableShowModule("Draw_Tower")
;		EndScript
;		Animation
;			AnimationName = GBMwallAUGBT.GBMwallAUGBT
;			AnimationMode = ONCE
;		End
;	End
;
;	End
;	
;	
;	;----------------------------------------------------------------------------------------------
;	Draw = W3DScriptedModelDraw Draw_PosternGate

;		ExtraPublicBone = Post01
;		ExtraPublicBone = Post02
;		ExtraPublicBone = Post03
;		ExtraPublicBone = Post04
;
;		DefaultModelConditionState
;			Model = GBMwallAUGPG
;                        ParticleSysBone	  = NONE BuildingDoughnutCloud
;                        ParticleSysBone   = NONE BuildingContructDustCastles
;		End
;
;		IdleAnimationState
;			BeginScript
;				CurDrawableHideModule("Draw_PosternGate")
;			EndScript
;		End
;
;
;	ModelConditionState  = UPGRADE_POSTERN_GATE DAMAGED
;	  Model         = GBMwallAUGPG_D1 
;    End
;    
;    AnimationState = UPGRADE_POSTERN_GATE DAMAGED
;      EnteringStateFX = FX_MinWallATTransitionDamaged
;    End    
;    
;    ModelConditionState  = UPGRADE_POSTERN_GATE REALLYDAMAGED
;      Model         = GBMwallAUGPG_D2  
;    End
;	AnimationState = UPGRADE_POSTERN_GATE REALLYDAMAGED
;		Animation				=	Death
;			AnimationName		=	 GBMwallAUGPG_D2.GBMwallAUGPG_D2 
;			AnimationMode		=	ONCE
;			AnimationBlendTime = 0
;		End
;		EnteringStateFX = FX_MinWallATTransitionReallyDamaged
;    End
;
;    ModelConditionState  = UPGRADE_POSTERN_GATE RUBBLE
;      Model         = GBMwallAUGPG_D3  
;    End
;    
;    AnimationState = UPGRADE_POSTERN_GATE RUBBLE
;		Animation				=	Death
;			AnimationName		=	 GBMwallAUGPG_D3.GBMwallAUGPG_D3 
;			AnimationMode		=	ONCE
;			AnimationBlendTime = 0
;		End
;		EnteringStateFX = FX_MinWallATTransitionRubble
;    End 
;    
;    ModelConditionState  =  UPGRADE_POSTERN_GATE POST_RUBBLE
;		Model         = None
;    End
;
;    ModelConditionState  = UPGRADE_POSTERN_GATE POST_COLLAPSE
;		 Model         = None
;    End
;
;
;		AnimationState = UPGRADE_POSTERN_GATE
;			BeginScript
;				CurDrawableShowModule("Draw_PosternGate")
;			EndScript
;			Animation
;				AnimationName = GBMwallAUGPG.GBMwallAUGPG
;				AnimationMode = ONCE
;			End
;		End
;	
;	End	
;  
;  
;  Draw = W3DScriptedModelDraw ModuleTag_01
;    OkToChangeModelColor = Yes
; ;   UseStandardModelNames = Yes    
;    WallBoundsMesh = P1
;    RampMesh1 = P2    
;    
;    DefaultModelConditionState
;;      Model = GBMWallAT
;      Model = GBMWallAUG
;    End
;        
;    ModelConditionState  = DAMAGED
;	  Model         = GBMinWallAT_D1  
;    End
;    AnimationState = DAMAGED
;      EnteringStateFX = FX_MinWallATTransitionDamaged
;    End    

;;    ModelConditionState  = REALLYDAMAGED
;;      Model         = GBMinWallAT_D2  
;;    End
;;	AnimationState = REALLYDAMAGED
;;		Animation				=	Death
;;			AnimationName		=	 GBMinWallAT_D2.GBMinWallAT_D2 
;;			AnimationMode		=	ONCE
;;			AnimationBlendTime = 0
;;		End
;;		EnteringStateFX = FX_MinWallATTransitionReallyDamaged
;;   End
;
;;    ModelConditionState  = RUBBLE
;;      Model         = GBMinWallAT_D3  
;    End
    
;;    AnimationState = RUBBLE
;;		Animation				=	Death
;;			AnimationName		=	 GBMinWallAT_D3.GBMinWallAT_D3 
;;			AnimationMode		=	ONCE
;;			AnimationBlendTime = 0
;;		End
;;		EnteringStateFX = FX_MinWallATTransitionRubble
;;    End 
;    
;;    ModelConditionState  = POST_RUBBLE
;;		Model         = None
;;    End
;
;;    ModelConditionState  = POST_COLLAPSE
;		 Model         = None
;    End
    
;  End
;
;  ; *** AUDIO Parameters ***
;
;  ; ***DESIGN parameters ***
;  DisplayName      = OBJECT:MTWall
;  EditorSorting   = STRUCTURE
;
;  ArmorSet
;    Conditions        = None
;    Armor             = MinasTirithWall
;    DamageFX          = None
;  End
;
;  ; *** ENGINEERING Parameters ***  
;  KindOf				= STRUCTURE SELECTABLE IMMOBILE GARRISON WALK_ON_TOP_OF_WALL CHUNK_VENDOR ;NOT_AUTOACQUIRABLE ;;;should this get autoacquired, or not?
;;  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE; SELECTABLE
;  RadarPriority = STRUCTURE
;  CommandSet			= GondorCastleWallCommandSet
;
;  
;  Body                  = ActiveBody ModuleTag_03
;    MaxHealth       = 50000.0
;    MaxHealthDamaged = 30000
;    MaxHealthReallyDamaged = 10000
;    
;    GrabObject = EntThrownBuildingRock
;	GrabFX = FX_WallGrab
;	GrabDamage = 490
;	GrabOffset = X:16 Y:0
;    
;;DISABLED        
;;    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
;;    
;;    DamageCreationList = OCL_GBMinWallATD2_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
;;    DamageCreationList = OCL_GBMinWallATD2_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
;;    DamageCreationList = OCL_GBMinWallATD2_Chunk3 CATAPULT_ROCK BACK_DESTROYED
;;    DamageCreationList = OCL_GBMinWallATD2_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
;  End
;
;  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
;  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
;  ; buildings automatically stick around because GarrisonContain has it's own DieModule
;  Behavior = KeepObjectDie ModuleTag_IWantRubble
;  End
;
;
;
;    Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
;    End
;  
;  	Behavior = HordeGarrisonContain GarrisonContainModuleTag
;		ContainMax              = 2
;		PassengerFilter			= ANY +INFANTRY +HORDE
;		AllowAlliesInside       = Yes
;		AllowEnemiesInside      = No
;	    ObjectStatusOfContained = UNSELECTABLE CAN_ATTACK
;		MaxHordeCapacity		= 2
;		EntryOffset				= X:0.0 Y:0.0 Z:50.0	; make sure we're aiming at the top of the wall
;		Enabled					= No
;		PassengerBonePrefix		= PassengerBone:Arrow_ KindOf:INFANTRY HORDE
;	End
;
;	
;	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
;	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
;	; buildings automatically stick around because GarrisonContain has it's own DieModule
;	Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
;		DestructionDelay  = 3000
;	End

;	Behavior = ProductionUpdate ProductionUpdateModuleTag
;		; nothing, but is required if we have any Object-level Upgrades!
;	End
;	
;	Behavior = GarrisonUpgrade TheGarrisonUpgrade
;		TriggeredBy				= Upgrade_OpenGarrison
;		ConflictsWith			= Upgrade_PosternGate Upgrade_TrebuchetTurret
;	End
;	
;	Behavior = DynamicPortalBehaviour PosternGatePortal
;		TriggeredBy				= Upgrade_PosternGate
;		ConflictsWith			= Upgrade_OpenGarrison Upgrade_TrebuchetTurret
;		CustomAnimAndDuration	= AnimState:UPGRADE_POSTERN_GATE AnimTime:0
;		
;		AllowKindOf		= INFANTRY
;		BonePrefix		= Post
;		NumberOfBones	= 4
;		WayPoint		= Index:0	Type:Walk	; 0
;		WayPoint		= Index:1	Type:Walk	; 1
;		WayPoint		= Index:2	Type:Walk	; 2
;		WayPoint		= Index:3	Type:Walk	; 3
;		WayPoint		= Index:2	Type:Walk	; 4
;		WayPoint		= Index:1	Type:Walk	; 5
;		Link			= From:0 To:3
;		Link			= From:3 To:0
;	End
;	
;	Behavior = DynamicPortalBehaviour TrebuchetPortal
;		TriggeredBy				= Upgrade_TrebuchetTurret
;		ConflictsWith			= Upgrade_OpenGarrison Upgrade_PosternGate
;		CustomAnimAndDuration	= AnimState:UPGRADE_TREBUCHET AnimTime:0
;		WallBoundsMesh			= P2
;		
;		AllowKindOf		= MACHINE
;		BonePrefix		= Treb
;		NumberOfBones	= 2
;		WayPoint		= Index:0	Type:Walk	; 0
;		WayPoint		= Index:1	Type:Walk	; 1
;		Link			= From:0 To:1
;		Link			= From:1 To:0
;	End
;	
;	Behavior = ObjectCreationUpgrade MakeTheFreeTreb
;		TriggeredBy		= Upgrade_TrebuchetTurret
;		ConflictsWith	= Upgrade_OpenGarrison Upgrade_PosternGate
;		UpgradeObject	= OCL_TrebuchetUpgrade
;	End
;
;  
;  
;  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
;		StartsActive	= Yes ;If no, requires upgrade to turn on.
;		BonusName		= WallBonus
;		RefreshDelay	= 2000
;		;Range			= 120		; Range is overridden to affect people on us since we are a wall
;		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
;	End	
;
;  Geometry              = BOX
;  GeometryMajorRadius   = 35.2
;  GeometryMinorRadius   = 31.2
;  GeometryHeight        = 80.8
;  GeometryIsSmall       = No
;  
;  GeometryOffset		= X:-24 Y:0 Z:0
;  GeometryRotationAnchorOffset = X:1076.832 Y:0.0
;  
;;  GeometryRotationAnchorOffset = X:1117.2368 Y:0.0
;  Shadow                = SHADOW_VOLUME
;End

;-------------------------------------------------------
Object MinisWallAT

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
 ;   UseStandardModelNames = Yes    
    WallBoundsMesh = P1
    RampMesh1 = P2    
    
    DefaultModelConditionState
      Model = GBMWallAT
    End
    

		        
    ModelConditionState  = DAMAGED
	  Model         = GBMinWallAT_D1  
    End
    AnimationState = DAMAGED
      EnteringStateFX = FX_MinWallATTransitionDamaged
    End    

    ModelConditionState  = REALLYDAMAGED
      Model         = GBMinWallAT_D2  
    End
	AnimationState = REALLYDAMAGED
		Animation				=	Death
			AnimationName		=	 GBMinWallAT_D2.GBMinWallAT_D2 
			AnimationMode		=	ONCE
			AnimationBlendTime = 0
		End
		EnteringStateFX = FX_MinWallATTransitionReallyDamaged
   End

    ModelConditionState  = RUBBLE
      Model         = GBMinWallAT_D3  
    End
    
    AnimationState = RUBBLE
		Animation				=	Death
			AnimationName		=	 GBMinWallAT_D3.GBMinWallAT_D3 
			AnimationMode		=	ONCE
			AnimationBlendTime = 0
		End
		EnteringStateFX = FX_MinWallATTransitionRubble
    End 
    
    ModelConditionState  = POST_RUBBLE
		Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
		 Model         = None
    End
    
  End

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
;  KindOf				= STRUCTURE SELECTABLE IMMOBILE GARRISON WALK_ON_TOP_OF_WALL CHUNK_VENDOR ;NOT_AUTOACQUIRABLE ;;;should this get autoacquired, or not?
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
  RadarPriority = STRUCTURE
;  CommandSet			= GondorCastleWallCommandSet

  
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 50000.0
    MaxHealthDamaged = 30000
    MaxHealthReallyDamaged = 10000
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
    
;DISABLED        
;    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
;    
;    DamageCreationList = OCL_GBMinWallATD2_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
;    DamageCreationList = OCL_GBMinWallATD2_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
;    DamageCreationList = OCL_GBMinWallATD2_Chunk3 CATAPULT_ROCK BACK_DESTROYED
;    DamageCreationList = OCL_GBMinWallATD2_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 35.2
  GeometryMinorRadius   = 31.2
  GeometryHeight        = 80.8
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:1117.2368 Y:0.0
  
  GeometryContactPoint			= X:20		Y: -50		Z:0 Grab
  GeometryContactPoint			= X:20		Y: -30		Z:0 
  GeometryContactPoint			= X:30		Y: 0		Z:45 
  GeometryContactPoint			= X:30		Y: 0		Z:0 
  GeometryContactPoint			= X:50		Y: 0		Z:0 Grab
  GeometryContactPoint			= X:20		Y: 50		Z:0 Grab 
  GeometryContactPoint			= X:20		Y: 30		Z:0  
  GeometryContactPoint			= X:-20		Y: 30		Z:0 
  GeometryContactPoint			= X:-20		Y: 50		Z:0 Grab
  GeometryContactPoint			= X:-20		Y: -50		Z:0 Grab
  GeometryContactPoint			= X:-20		Y: -30		Z:0 
  
  
  Shadow                = SHADOW_VOLUME
End

Object MinisWallAR

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    UseStandardModelNames = Yes
    WallBoundsMesh = P3
    RampMesh1 = P2
    RampMesh2 = P1 
    DefaultModelConditionState
      Model = GBMWallAR
    End
		
		ModelConditionState = DAMAGED
			Model = GBMWallAR_D1
		End
		AnimationState = DAMAGED
			EnteringStateFX = FX_MinWallATTransitionDamaged
		End  
		ModelConditionState = REALLYDAMAGED
			Model = GBMWallAR_D2
		End
		AnimationState = REALLYDAMAGED
			Animation = GBMWallAR_D2
				AnimationName = GBMWallAR_D2.GBMWallAR_D2
				AnimationMode = ONCE
			End
			EnteringStateFX = FX_MinWallATTransitionReallyDamaged
		End	    

		ModelConditionState = RUBBLE
			Model = GBMWallAR_D3
		End
		AnimationState = RUBBLE
			Animation = GBMWallAR_D3
				AnimationName = GBMWallAR_D3.GBMWallAR_D3
				AnimationMode = ONCE
			End
			EnteringStateFX = FX_MinWallATTransitionRubble
		End	    

		ModelConditionState  = POST_RUBBLE
			Model         = None
		End

		ModelConditionState  = POST_COLLAPSE
			Model         = None
		End

  End

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
;  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
;      DestructionDelay  = 3000
;  End
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
   
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 34.4
  GeometryMinorRadius   = 94.4
  GeometryHeight        = 28.0
  GeometryIsSmall       = No
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 23.5
  GeometryMinorRadius = 21
  GeometryHeight      = 8
  
  GeometryRotationAnchorOffset = X:1003.9576 Y:0.0
  
  GeometryContactPoint			= X:-30		Y: -95		Z:0 Grab
  GeometryContactPoint			= X:15		Y: -95		Z:0 Grab
  GeometryContactPoint			= X:25		Y: 0		Z:28 
  GeometryContactPoint			= X:28		Y: 0		Z:0 Grab
  GeometryContactPoint			= X:15		Y: 95		Z:0 Grab 
  GeometryContactPoint			= X:-30		Y: 95		Z:0 Grab 
  
  Shadow                = SHADOW_VOLUME
End

Object MinisWallB

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    UseStandardModelNames = Yes    
    DefaultModelConditionState
      Model = GBMWallB
    End
    WallBoundsMesh = P1
  End


  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ImmortalBody ModuleTag_ImmortalBody
		MaxHealth       = 1.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubbleRubbleRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 37.6
  GeometryMinorRadius   = 74.4
  GeometryHeight        = 132
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:675.0552 Y:0.0
  
  GeometryContactPoint			= X:37		Y: -70		Z:66   
  GeometryContactPoint			= X:37		Y: -50		Z:0 Grab
  GeometryContactPoint			= X:37		Y: -30		Z:66   
  GeometryContactPoint			= X:37		Y: 0		Z:0 Grab
  GeometryContactPoint			= X:37		Y: 30		Z:66   
  GeometryContactPoint			= X:37		Y: 50		Z:0 Grab
  GeometryContactPoint			= X:37		Y: 70		Z:66   
  
  
  
  
  Shadow                = SHADOW_VOLUME
End



Object MinisWallBT
	; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
		OkToChangeModelColor = Yes
		UseStandardModelNames = Yes        
		
		DefaultModelConditionState
			Model = GBMWallBT
		End
		
		ModelConditionState = DAMAGED
			Model = GBMWallBT_D1
		End
		AnimationState = DAMAGED
			EnteringStateFX = FX_MinWallATTransitionDamaged
		End  
		ModelConditionState = REALLYDAMAGED
			Model = GBMWallBT_D2
		End
		AnimationState = REALLYDAMAGED
			Animation = GBMWallBT_D2
				AnimationName = GBMWallBT_D2.GBMWallBT_D2
				AnimationMode = ONCE
			End
			EnteringStateFX = FX_MinWallATTransitionReallyDamaged
		End	    

		ModelConditionState = RUBBLE
			Model = GBMWallBT_D3
		End
		AnimationState = RUBBLE
			Animation = GBMWallBT_D3
				AnimationName = GBMWallBT_D3.GBMWallBT_D3
				AnimationMode = ONCE
			End
			EnteringStateFX = FX_MinWallATTransitionRubble
		End	    

		ModelConditionState  = POST_RUBBLE
			Model         = None
		End

		ModelConditionState  = POST_COLLAPSE
			Model         = None
		End
	    
		WallBoundsMesh = P1
		RampMesh1 = P2
  End

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***   
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 50000.0
    MaxHealthDamaged       = 30000.0
    MaxHealthReallyDamaged       = 10000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 34
  GeometryMinorRadius   = 28.5
  GeometryHeight        = 148
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:727.9768 Y:0.0
  
  GeometryContactPoint			= X:20		Y: -50		Z:0 Grab
  GeometryContactPoint			= X:20		Y: -30		Z:0 
  GeometryContactPoint			= X:30		Y: 0		Z:145 
  GeometryContactPoint			= X:30		Y: 0		Z:0 
  GeometryContactPoint			= X:50		Y: 0		Z:0 Grab
  GeometryContactPoint			= X:20		Y: 50		Z:0 Grab 
  GeometryContactPoint			= X:20		Y: 30		Z:0  
  GeometryContactPoint			= X:-20		Y: 30		Z:0 
  GeometryContactPoint			= X:-20		Y: 50		Z:0 Grab
  GeometryContactPoint			= X:-20		Y: -50		Z:0 Grab
  GeometryContactPoint			= X:-20		Y: -30		Z:0 
  
  Shadow                = SHADOW_VOLUME
End

Object MinisWallBR

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    UseStandardModelNames = Yes        
    DefaultModelConditionState
      Model = GBMWallBR
    End
    RampMesh1 = P1
    RampMesh2 = P2
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 4000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 22.4
  GeometryMinorRadius   = 67.5
  GeometryHeight        = 7.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:625.6 Y:0.0
  

  GeometryContactPoint			= X:-22		Y: -22		Z:0 Grab
  GeometryContactPoint			= X:22		Y: -22		Z:5 Grab
  GeometryContactPoint			= X:22		Y: 22		Z:5 Grab  
  GeometryContactPoint			= X:-22		Y: 22		Z:0 Grab    

  Shadow                = SHADOW_VOLUME
End

Object MinisWallC

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    UseStandardModelNames = Yes        
    DefaultModelConditionState
      Model = GBMWallC
    End
    WallBoundsMesh = P1
    RampMesh1 = P2
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 4000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 36.0
  GeometryMinorRadius   = 89.6
  GeometryHeight        = 115.5
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:401.1320 Y:0.0
  
  GeometryContactPoint			= X:27		Y: -70		Z:66   
  GeometryContactPoint			= X:27		Y: -50		Z:0 Grab
  GeometryContactPoint			= X:27		Y: -30		Z:66   
  GeometryContactPoint			= X:37		Y: 0		Z:0 Grab
  GeometryContactPoint			= X:27		Y: 30		Z:66   
  GeometryContactPoint			= X:27		Y: 50		Z:0 Grab
  GeometryContactPoint			= X:27		Y: 70		Z:66   
  
  
  
  Shadow                = SHADOW_VOLUME
End

Object MinisWallCR

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultModelConditionState
      Model = GBMWallCR
    End
;    WallBoundsMesh = GBMWALLCRPTOP
    RampMesh1 = GBMWALLCRPTOP
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3500
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 21
  GeometryMinorRadius   = 65
  GeometryHeight        = 5.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:357.6432 Y:0.0
  
  GeometryContactPoint			= X:-22		Y: -22		Z:0 Grab
  GeometryContactPoint			= X:22		Y: -22		Z:5 Grab
  GeometryContactPoint			= X:22		Y: 22		Z:5 Grab  
  GeometryContactPoint			= X:-22		Y: 22		Z:0 Grab    
  
  Shadow                = SHADOW_VOLUME
End

Object MinisWallD

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    UseStandardModelNames = Yes        
    DefaultModelConditionState
      Model = GBMWallD
    End
    WallBoundsMesh = P1
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTWall
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 4000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 80
  GeometryMinorRadius   = 61
  GeometryHeight        = 131
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:81.4920 Y:0.0
  
  
  GeometryContactPoint			= X:65		Y: -60		Z:66   
  GeometryContactPoint			= X:70		Y: -50		Z:0 Grab
  GeometryContactPoint			= X:70		Y: -30		Z:66   
  GeometryContactPoint			= X:80		Y: 0		Z:0 Grab
  GeometryContactPoint			= X:70		Y: 30		Z:66   
  GeometryContactPoint			= X:70		Y: 50		Z:0 Grab
  GeometryContactPoint			= X:65		Y: 60		Z:66   
  
  
  Shadow                = SHADOW_VOLUME
End

;--------------------------------------GBMinGate1----------------------------
Object MinisGate1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
        
        RampMesh1 = P2
        RampMesh2 = P3
        RaisedWallMesh = P1
    DefaultModelConditionState
		Model = GBMinGate1
    End
   
    ModelConditionState = DAMAGED
		Model           = GBMinGate1_D1				; Don't use D2 or D3 states because this will leave the winch floating in air.
		ParticleSysBone = P1 Explosion5 
    End

    ModelConditionState = REALLYDAMAGED
		Model           = GBMinGate1_D1
		ParticleSysBone = GBMGATE1AD2A Explosion5 FollowBone:Yes
		ParticleSysBone = GBMGATE1AD2B Explosion5 FollowBone:Yes
		ParticleSysBone = GBMGATE1AD2C Explosion5 FollowBone:Yes
		ParticleSysBone = GBMGATE1AD2D Explosion5 FollowBone:Yes
    End
	AnimationState = REALLYDAMAGED
		Animation  = d2
			AnimationName = GBMinGate1_D1.GBMinGate1_D1
			AnimationMode = ONCE 
			AnimationBlendTime = 0
		End
    End
    ModelConditionState = RUBBLE
		Model           = GBMinGate1_D1  
    End
    
  End

  
  ; *** AUDIO Parameters ***

	SoundOnDamaged		= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***

  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth				= 50000.0
    MaxHealthDamaged		= 30000.0
    MaxHealthReallyDamaged  = 10000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

	Geometry              = BOX
	GeometryMajorRadius   = 30.0
	GeometryMinorRadius   = 90.0
	GeometryHeight        = 15.0
	GeometryOffset		= X:0 Y:0 Z:65

    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 30.0
    GeometryMinorRadius   = 20.0
    GeometryHeight        = 85.0	
    GeometryOffset		= X:0 Y:-70 Z:0


    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 30.0
    GeometryMinorRadius   = 23.0
    GeometryHeight        = 85.0	
    GeometryOffset		= X:0 Y:67 Z:0

	GeometryRotationAnchorOffset = X:989.7640 Y:0.0
 	GeometryIsSmall       = No
 	
 	GeometryContactPoint = X:-40	Y: 90		Z:0 Grab
 	GeometryContactPoint = X:40		Y: 90		Z:0 Grab
	GeometryContactPoint = X:0		Y: 74		Z:0
	GeometryContactPoint = X:0		Y: 74		Z:72
	GeometryContactPoint = X:0		Y:-74		Z:72
	GeometryContactPoint = X:0		Y:-74		Z:0
	GeometryContactPoint = X:40		Y: -90		Z:0 Grab
	GeometryContactPoint = X:-40	Y: -90		Z:0 Grab
 
	Shadow                = SHADOW_VOLUME
End


;------------------------Minis Gate2--------------------
Object MinisGate2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
  DefaultModelConditionState
      Model = GBMinGate2
    End
    
    WallBoundsMesh = P2  ; top mesh
    RampMesh1 = P1		; little ramp
;    RampMesh2 = P3		; Bigger ramp
    
	   ;--damaged building
   
    
    
    ModelConditionState  = DAMAGED
      Model         = GBMinGate2_D1  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = P2 TrebuchetImpactSplinters FollowBone:Yes
		ParticleSysBone = P2 Explosion5 FollowBone:Yes
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBMinGate2_D2  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = P2 TrebuchetImpactSplinters FollowBone:Yes
		ParticleSysBone = P2 Explosion5 FollowBone:Yes
    End
	AnimationState = REALLYDAMAGED
		Animation  = d2
			AnimationName = GBMinGate2_D2.GBMinGate2_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
    End

     ModelConditionState  = RUBBLE
      Model         = GBMinGate2_D2  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = P2 TrebuchetImpactSplinters FollowBone:Yes
		ParticleSysBone = P2 Explosion5 FollowBone:Yes
    End
	AnimationState = RUBBLE
		Animation  = d2
			AnimationName = GBMinGate2_D2.GBMinGate2_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
    End
    
        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE ;WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 50000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 45
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 80.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:990.0264 Y:0.0
  
  AdditionalGeometry				= BOX
  GeometryMajorRadius				= 44
  GeometryMinorRadius				= 49
  GeometryHeight					= 70
  GeometryName						= Bookend
  

 
  GeometryContactPoint = X: 0		Y: -62			Z: 0 Grab
  GeometryContactPoint = X: 0		Y: -42			Z: 0 
  GeometryContactPoint = X: -35		Y: -35			Z: 75
  GeometryContactPoint = X: -35		Y: -5			Z: 0 
  GeometryContactPoint = X: -55		Y: -5			Z: 0 Grab
  GeometryContactPoint = X: -35		Y: 30			Z: 75
  GeometryContactPoint = X: 3		Y: 38			Z: 0 
  GeometryContactPoint = X: 3		Y: 55			Z: 0 Grab
  GeometryContactPoint = X: 35		Y: 33			Z: 75
  GeometryContactPoint = X: 37		Y: -5			Z: 0 
  GeometryContactPoint = X: 57		Y: -5			Z: 0 Grab
  GeometryContactPoint = X: 37		Y: -33			Z: 75
  GeometryContactPoint = X: 0		Y: -42			Z: 0 
 
  Shadow                = SHADOW_VOLUME
End

;------------------------Minis Gate3--------------------
Object MinisGate3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
  DefaultModelConditionState
      Model = GBMinGate3
    End
    
    WallBoundsMesh = P2  ; top mesh
    RampMesh1 = P1		; little ramp
;    RampMesh2 = P3		; Bigger ramp
    
	   ;--damaged building
   
    
    
    ModelConditionState  = DAMAGED
      Model         = GBMinGate3_D1  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = P2 TrebuchetImpactSplinters FollowBone:Yes
		ParticleSysBone = P2 Explosion5 FollowBone:Yes
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBMinGate3_D2  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = P2 TrebuchetImpactSplinters FollowBone:Yes
		ParticleSysBone = P2 Explosion5 FollowBone:Yes
    End
	AnimationState = REALLYDAMAGED
		Animation  = d2
			AnimationName = GBMinGate3_D2.GBMinGate3_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
    End

     ModelConditionState  = RUBBLE
      Model         = GBMinGate3_D2  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = P2 TrebuchetImpactSplinters FollowBone:Yes
		ParticleSysBone = P2 Explosion5 FollowBone:Yes
    End
	AnimationState = RUBBLE
		Animation  = d2
			AnimationName = GBMinGate3_D2.GBMinGate3_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
    End
    
        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE  ;WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 45
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 80.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:990.0424 Y:0.0
  
  AdditionalGeometry				= BOX
  GeometryMajorRadius				= 44
  GeometryMinorRadius				= 49
  GeometryHeight					= 70
  GeometryName						= Bookend

 
  GeometryContactPoint = X: 0		Y: 62			Z: 0 Grab
  GeometryContactPoint = X: 0		Y: 42			Z: 0 
  GeometryContactPoint = X: 35		Y: 35			Z: 75
  GeometryContactPoint = X: 35		Y: 5			Z: 0 
  GeometryContactPoint = X: 55		Y: 5			Z: 0 Grab
  GeometryContactPoint = X: 35		Y: -30			Z: 75
  GeometryContactPoint = X: -3		Y: -38			Z: 0 
  GeometryContactPoint = X: -3		Y: -55			Z: 0 Grab
  GeometryContactPoint = X: -35		Y: -33			Z: 75
  GeometryContactPoint = X: -37		Y: 5			Z: 0 
  GeometryContactPoint = X: -57		Y: 5			Z: 0 Grab
  GeometryContactPoint = X: -37		Y: 33			Z: 75
  GeometryContactPoint = X: 0		Y: 42			Z: 0 
  
 
  Shadow                = SHADOW_VOLUME
End

;------------------------GBMinGate4----------------------
Object MinisGate4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
        
    DefaultModelConditionState
		Model = GBMinGate4
    End
  
    ModelConditionState = DAMAGED
		Model           = GBMinGate4_D1  
		ParticleSysBone = GBMGATE4D1C DebrisHitSmall  
		ParticleSysBone = GBMGATE4D1A FellBeastWingBeat  
    End

    ModelConditionState = REALLYDAMAGED
		Model           = GBMinGate4_D2  
		ParticleSysBone = GBMGATE4D2C DebrisHitSmall  
		ParticleSysBone = GBMGATE4D2A FellBeastWingBeat  
    End

    ModelConditionState = RUBBLE
		Model           = GBMinGate4_D2  
		ParticleSysBone = GBMGATE4D2A DebrisHitSmall FollowBone:Yes
		ParticleSysBone = GBMGATE4D2B FellBeastWingBeat FollowBone:Yes
		ParticleSysBone = GBMGATE4D2C DebrisHitSmall FollowBone:Yes
		ParticleSysBone = GBMGATE4D2D FellBeastWingBeat FollowBone:Yes
    End
	AnimationState = RUBBLE
		Animation  = RUBBLE
			AnimationName = GBMinGate4_D2.GBMinGate4_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
    End

        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 40000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
    
    DamageCreationList = OCL_GBMinGate4D2_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_GBMinGate4D2_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_GBMinGate4D2_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_GBMinGate4D2_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 8.8
  GeometryHeight        = 78.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:1091.1416 Y:0.0
  Shadow                = SHADOW_VOLUME
End

;------------------------GBMinGate4R----------------------
Object MinisGate4R

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
		Model = GBMinGate4R
    End
  
    ModelConditionState = DAMAGED
		Model           = GBMinGate4R_D1  
		ParticleSysBone = GBMGATE4D1C01 DebrisHitSmall  
		ParticleSysBone = GBMGATE4D1A01 FellBeastWingBeat  
    End

    ModelConditionState = REALLYDAMAGED
		Model           = GBMinGate4R_D2  
		ParticleSysBone = GBMGATE4D2C01 DebrisHitSmall  
		ParticleSysBone = GBMGATE4D2A01 FellBeastWingBeat  
    End

    ModelConditionState = RUBBLE
		Model           = GBMinGate4R_D2  
		ParticleSysBone = GBMGATE4D2A01 DebrisHitSmall FollowBone:Yes
		ParticleSysBone = GBMGATE4D2B01 FellBeastWingBeat FollowBone:Yes
		ParticleSysBone = GBMGATE4D2C01 DebrisHitSmall FollowBone:Yes
		ParticleSysBone = GBMGATE4D2D01 FellBeastWingBeat FollowBone:Yes
    End
	AnimationState = RUBBLE
		Animation  = RUBBLE
			AnimationName = GBMinGate4R_D2.GBMinGate4R_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
    End

        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 30000.0
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
    
    DamageCreationList = OCL_GBMinGate4RD2_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_GBMinGate4RD2_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_GBMinGate4RD2_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_GBMinGate4RD2_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 8.8
  GeometryHeight        = 78.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:1091.1416 Y:0.0
  Shadow                = SHADOW_VOLUME
End




;---------------------GBMinGate5--------------------------
Object MinisGate5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMingate5
    End
    WallBoundsMesh = P2
    RampMesh1 = P1
    ;RampMesh2 = P3
    
    ;--damaged building
    ModelConditionState  = DAMAGED
      Model         = GBMinGate5_D1  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
    End
    ModelConditionState  = REALLYDAMAGED
      Model         = GBMinGate5_D1
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
    End
    ModelConditionState  = RUBBLE
      Model         = GBMinGate5_D1
		ParticleSysBone = NONE PCTMediumDust FollowBone:Yes  
    End
    
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 55.2
  GeometryMinorRadius   = 55.6
  GeometryHeight        = 54.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:1013.7448 Y:0.0
  
  AdditionalGeometry				= BOX
  GeometryMajorRadius				= 55.2
  GeometryMinorRadius				= 55.6
  GeometryHeight					= 54.2
  GeometryName						= Bookend
  
  GeometryContactPoint = X: 70		Y: 50			Z:0 Grab
  GeometryContactPoint = X: 50		Y: 50			Z:0 
  GeometryContactPoint = X: 50		Y: 0			Z: 45 
  GeometryContactPoint = X: 55		Y: -55			Z:0 
  GeometryContactPoint = X: 75		Y: -55			Z:0 Grab
  GeometryContactPoint = X:-50		Y: -50			Z:0 
  GeometryContactPoint = X:-70		Y: -50			Z:0 Grab
  GeometryContactPoint = X:-50		Y: 0			Z:45 
  GeometryContactPoint = X: -55		Y:40			Z:0 
  GeometryContactPoint = X: -75		Y:40			Z:0 Grab
  
  Shadow                = SHADOW_VOLUME
End


;----------------------------GBMinGate6--------------------
Object MinisGate6

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMingate6
    End
    WallBoundsMesh = P2
    RampMesh1 = P1
    
    ;--damaged building
    ModelConditionState  = DAMAGED
      Model         = GBMinGate6_D1  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
    End
    ModelConditionState  = REALLYDAMAGED
      Model         = GBMinGate6_D1  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
    End
    ModelConditionState  = RUBBLE
      Model         = GBMinGate6_D1
		ParticleSysBone = NONE PCTMediumDust FollowBone:Yes  
    End
        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 55.2
  GeometryMinorRadius   = 55.6
  GeometryHeight        = 54.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:1013.7448 Y:0.0
  
  AdditionalGeometry				= BOX
  GeometryMajorRadius				= 55.2
  GeometryMinorRadius				= 55.6
  GeometryHeight					= 54.2
  GeometryName						= Bookend
  
  GeometryContactPoint = X: 70		Y: -50			Z:0 Grab
  GeometryContactPoint = X: 50		Y: -50			Z:0 
  GeometryContactPoint = X: 50		Y: 0			Z: 45 
  GeometryContactPoint = X: 55		Y: 55			Z:0 
  GeometryContactPoint = X: 75		Y: 55			Z:0 Grab
  GeometryContactPoint = X:-50		Y: 50			Z:0 
  GeometryContactPoint = X:-70		Y: 50			Z:0 Grab
  GeometryContactPoint = X:-50		Y: 0			Z:45 
  GeometryContactPoint = X: -55		Y:-40			Z:0 
  GeometryContactPoint = X: -75		Y:-40			Z:0 Grab
  
  
  Shadow                = SHADOW_VOLUME
End


;----------------------GBMinGate7------------------------
Object MinisGate7

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMinGate7
    End
     WallBoundsMesh = P1
     
         
    
    
    ModelConditionState  = DAMAGED
      Model         = GBMinGate7_D1  
		ParticleSysBone = GBMGATE7 TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = P1 TrebuchetImpactDust FollowBone:Yes
    End
    AnimationState = DAMAGED
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBMinGate7_D2  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = GBMGATE7D2C TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = GBMGATE7D2C TrebuchetImpactDust FollowBone:Yes
		ParticleSysBone = OBJECT02 TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = OBJECT02 TrebuchetImpactDust FollowBone:Yes
    End
	AnimationState = REALLYDAMAGED
		Animation = reallydamaged
			AnimationName = GBMinGate7_D2.GBMinGate7_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
    End

     ModelConditionState  = RUBBLE
      Model         = GBMinGate7_D2  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = GBMGATE7D2C TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = GBMGATE7D2C TrebuchetImpactDust FollowBone:Yes
		ParticleSysBone = OBJECT02 TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = OBJECT02 TrebuchetImpactDust FollowBone:Yes
    End
	AnimationState = RUBBLE
		Animation = rubble
			AnimationName = GBMinGate7_D2.GBMinGate7_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
    End

       
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 104.8
  GeometryMinorRadius   = 28.0
  GeometryHeight        = 54.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:989.7640 Y:0.0
  
  AdditionalGeometry				= BOX
  GeometryMajorRadius				= 100.0
  GeometryMinorRadius				= 25.0
  GeometryHeight					= 50.0
  GeometryName						= Bookend
  
  GeometryContactPoint  = X:0		Y:28		Z:54 
  GeometryContactPoint  = X:50		Y:28		Z:0 
  GeometryContactPoint  = X:50		Y:38		Z:0 Grab
  GeometryContactPoint  = X:75		Y:14		Z:54
  GeometryContactPoint  = X: 104	Y:0			Z:0 
  GeometryContactPoint  = X: 120	Y:0			Z:0 Grab
  GeometryContactPoint  = X:50		Y:-38		Z:0 Grab
  GeometryContactPoint  = X:50		Y:-38		Z:0 
  GeometryContactPoint  = X:0		Y:-28		Z:54 
  GeometryContactPoint  = X:-50		Y:-28		Z:0 
  GeometryContactPoint  = X:-50		Y:-38		Z:0 Grab
  GeometryContactPoint  = X:-100	Y:28		Z:54
  
  Shadow                = SHADOW_VOLUME
End

;------------------------GBMinGate8--------------------------
Object MinisGate8

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMinGate8
    End
    WallBoundsMesh = P1
    
	  ModelConditionState  = DAMAGED
      Model         = GBMinGate8_D1  
		ParticleSysBone = GBMGATE7 TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = P1 TrebuchetImpactDust FollowBone:Yes
    End
    AnimationState = DAMAGED
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = GBMinGate8_D2  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = GBMGATE8D2C TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = GBMGATE8D2C TrebuchetImpactDust FollowBone:Yes
		ParticleSysBone = OBJECT02 TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = OBJECT02 TrebuchetImpactDust FollowBone:Yes
    End
	AnimationState = REALLYDAMAGED
		Animation = reallydamaged
			AnimationName = GBMinGate8_D2.GBMinGate8_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
    End

     ModelConditionState  = RUBBLE
      Model         = GBMinGate8_D2  
		;ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		ParticleSysBone = GBMGATE8D2C TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = GBMGATE8D2C TrebuchetImpactDust FollowBone:Yes
		ParticleSysBone = OBJECT02 TrebuchetImpactDebris FollowBone:Yes
		ParticleSysBone = OBJECT02 TrebuchetImpactDust FollowBone:Yes
    End
	AnimationState = RUBBLE
		Animation = rubble
			AnimationName = GBMinGate8_D2.GBMinGate8_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
    End
        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 40000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
    
    DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
    
    DamageCreationList = OCL_GBMinGate8D2_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList = OCL_GBMinGate8D2_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList = OCL_GBMinGate8D2_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList = OCL_GBMinGate8D2_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 104.8
  GeometryMinorRadius   = 28.0
  GeometryHeight        = 54.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:1057.5080 Y:0.0
  
  AdditionalGeometry				= BOX
  GeometryMajorRadius				= 100.0
  GeometryMinorRadius				= 25.0
  GeometryHeight					= 50.0
  GeometryName						= Bookend
  
  GeometryContactPoint  = X:0		Y:-28		Z:54 
  GeometryContactPoint  = X:50		Y:-28		Z:0 
  GeometryContactPoint  = X:50		Y:-38		Z:0 Grab
  GeometryContactPoint  = X:75		Y:-14		Z:54
  GeometryContactPoint  = X: 104	Y:0			Z:0 
  GeometryContactPoint  = X: 120	Y:0			Z:0 Grab
  GeometryContactPoint  = X:50		Y:38		Z:0 Grab
  GeometryContactPoint  = X:50		Y:38		Z:0 
  GeometryContactPoint  = X:0		Y:28		Z:54 
  GeometryContactPoint  = X:-50		Y:28		Z:0 
  GeometryContactPoint  = X:-50		Y:38		Z:0 Grab
  GeometryContactPoint  = X:-100	Y:-28		Z:54
  
  Shadow                = SHADOW_VOLUME
End

Object MinisGate9

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMGate9
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTGate
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 9000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 104.8
  GeometryMinorRadius   = 28.0
  GeometryHeight        = 54.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:1071.2336 Y:0.0
  Shadow                = SHADOW_VOLUME
End

;-------------------------------------------------------------
Object MinisGateDoor
SelectPortrait = BPGondorCastleGate
  ; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState  
      Model = GBCASTGATE
    End


	ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED 
		Model             = GBCASTGATE_A
		ParticleSysBone   = DUSTBONE BuildingContructDust
	End;
	AnimationState        = ACTIVELY_BEING_CONSTRUCTED 
		StateName				= BeingConstructed
			Animation           = GBCASTGATE_A
				AnimationName   = GBCASTGATE_A.GBCASTGATE_A
				AnimationMode   = MANUAL
			End
		Flags					= START_FRAME_FIRST
    End



    ModelConditionState  = RUBBLE DOOR_1_OPENING USER_1
      Model         = GBCASTGATE_UD4  
    End
	AnimationState = RUBBLE DOOR_1_OPENING USER_1
		Animation = Open 
			AnimationName	=	GBCASTGATE_UD4.GBCASTGATE_UD4
			AnimationMode	=	ONCE 
		End
    End

    ModelConditionState  = RUBBLE DOOR_1_OPENING
      Model         = GBCASTGATE_D4  
    End
	AnimationState = RUBBLE DOOR_1_OPENING
		Animation = Open 
			AnimationName	=	GBCASTGATE_D4.GBCASTGATE_D4
			AnimationMode	=	ONCE 
		End
    End
       
    ModelConditionState  = RUBBLE USER_1
      Model         = GBCASTGATE_UD3 
      ParticleSysBone NONE CatapultDestroyDebris
      ParticleSysBone NONE PCTMediumDust 
    End
 	AnimationState = RUBBLE USER_1
		Animation = Open 
			AnimationName	=	GBCASTGATE_UD3.GBCASTGATE_UD3
			AnimationMode	=	ONCE 
		End
    End
       
    ModelConditionState  = RUBBLE
      Model         = GBCASTGATE_D3 
      ParticleSysBone NONE CatapultDestroyDebris
      ParticleSysBone NONE PCTMediumDust 
    End
 	AnimationState = RUBBLE 
		Animation = Open 
			AnimationName	=	GBCASTGATE_D3.GBCASTGATE_D3
			AnimationMode	=	ONCE 
		End
    End
    
	AnimationState = DOOR_1_OPENING
		StateName = STATE_Open   
		Animation = Open 
			AnimationName	=	GBCASTGATE.GBCASTGATE
			AnimationMode	=	ONCE 
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_LAST
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Closed" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
		EndScript
    End
    TransitionState = TRANS_Closed_To_Open
		Animation = Open 
			AnimationName	=	GBCASTGATE.GBCASTGATE
			AnimationMode	=	ONCE 
		End
    End
        
	AnimationState = DOOR_1_CLOSING 
		StateName = STATE_Closed 
		Animation = Close 
			AnimationName	=	GBCASTGATE.GBCASTGATE
			AnimationMode	=	ONCE_BACKWARDS 
			AnimationBlendTime = 0
		End
		Flags = START_FRAME_FIRST
		BeginScript
			
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
		EndScript
    End
    TransitionState = TRANS_Open_To_Closed
		Animation = Open 
			AnimationName	=	GBCASTGATE.GBCASTGATE
			AnimationMode	=	ONCE_BACKWARDS 
		End
		Flags = START_FRAME_LAST
    End
    
    ModelConditionState = USER_1
		Model = GBCastGate_U
    End

  End

    
  ; *** AUDIO Parameters ***

	VoiceSelect		= GateSelect

	SoundOnDamaged		= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***

  DisplayName      = OBJECT:MTDoor
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithGate
    DamageFX          = None
  End
	CommandSet = CastleGateCommandSet

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE BLOCKING_GATE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth			= 2000.0
    MaxHealthDamaged		= 1000.0
    MaxHealthReallyDamaged	= 500.0
    
  End

  Behavior = AIUpdateInterface ModuleTag_AI
	AILuaEventsList	=	MinisTirithGateFunctions
  End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: MinisTirithGateDie Animation:GBMgatedoorSKL.GBMgatedoorA3 Frames: 1 
	End



	Behavior = TransitionDamageFX ModleTag_hideBustedDoors
		PristineShowSubObject		RBCASTDRR RBCASTDRL
		PristineHideSubObject		RBCASTDRR_D1 RBCASTDRR_D2 RBCASTDRL_D1 RBCASTDRL_D2
		DamagedShowSubObject		RBCASTDRR_D1 RBCASTDRL_D1
		DamagedHideSubObject		RBCASTDRR_D2 RBCASTDRL_D2 RBCASTDRR RBCASTDRL
		ReallyDamagedShowSubObject	RBCASTDRR_D2 RBCASTDRL_D2
		ReallyDamagedHideSubObject  RBCASTDRR_D1  RBCASTDRL_D1 RBCASTDRR RBCASTDRL
		DamagedFXList1 = Loc: X:0 Y:0 Z:0			FXList:FX_BasicSevereScreenShake
 		ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0		FXList:FX_BasicSevereScreenShake
 		RubbleFXList1 = Loc: X:0 Y:0 Z:0			FXList:FX_HelmsDeepGateRubble
	End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  ; Death weapon when door blows open
  Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
    StartsActive = Yes
    DelayTime = 0 
    DeathWeapon = MinisGateDoorExplosion
    WeaponOffset = X:-40 Y:0 Z:0
  End

	Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
		ResetTimeInMilliseconds = 10500;must be longer than animation to avoid ->pop<-
		OpenByDefault = Yes
		PercentOpenForPathing = 50
		SoundOpeningGateLoop = GateOpenStart
		SoundClosingGateLoop = GateCloseStart
		SoundFinishedOpeningGate = GateOpenEnd
		SoundFinishedClosingGate = GateCloseEnd
		TimeBeforePlayingOpenSound = 9500
		TimeBeforePlayingClosedSound = 9500
	End

   Behavior = CastleMemberBehavior ModuleTag_CMB
	    CountsForEvaCastleBreached = Yes
   End 

	;MinasGateDoor
	;Geometry              = BOX
	;GeometryMajorRadius   = 6.0
	;GeometryMinorRadius   = 50.0
	;GeometryHeight        = 56.0
	;GeometryRotationAnchorOffset = X:987.2 Y:0.0
	;GeometryName          = Closed
	;GeometryIsSmall       = No
	
	Geometry              = BOX
	GeometryMajorRadius   = 7.2
	GeometryMinorRadius   = 58.4
	GeometryHeight        = 61.0
	GeometryIsSmall       = No
	GeometryRotationAnchorOffset = X:987.2 Y:0.0
	GeometryName          = Closed

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 25.0
	GeometryMinorRadius   = 3.0
	GeometryHeight        = 61.0	
	GeometryOffset		  = X:12 Y:56 Z:0
	GeometryName          = OpenLeft
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 25.0
	GeometryMinorRadius   = 3.0
	GeometryHeight        = 61.0	
	GeometryOffset		  = X:12 Y:-56 Z:0
	GeometryName          = OpenRight
	
	GeometryContactPoint = X:27 Y:-56 Z:0 Ram 
    GeometryContactPoint = X:14 Y:-56 Z:60
	GeometryContactPoint = X:0  Y:-56 Z:0
	GeometryContactPoint = X:0  Y:-25 Z:60
	GeometryContactPoint = X:3  Y:  0 Z:1 Ram 
	GeometryContactPoint = X:0  Y: 25 Z:60
	GeometryContactPoint = X:0  Y: 56 Z:0
	GeometryContactPoint = X:14 Y: 56 Z:60
	GeometryContactPoint = X:27 Y: 56 Z:0 Ram   

  Shadow                = SHADOW_VOLUME
End

;**************************************************************************************

Object MinisGateDoorLR

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMGateDoorLR
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTDoor
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 50000.0 ;12000
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 3.2
  GeometryMinorRadius   = 28.8
  GeometryHeight        = 32.8
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:989.6 Y:0.0
  Shadow                = SHADOW_VOLUME
End

;***************************************************************************************


Object MinisTopOpt

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD  
    DefaultModelConditionState
      Model = GBMTOpt
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTTopOpt
  EditorSorting   = STRUCTURE

;  ArmorSet
;    Conditions        = None
;    Armor             = MinasTirithWall
;    DamageFX          = None
;  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE ; SELECTABLE
  RadarPriority = STRUCTURE
	Body = ImmortalBody ModuleTag_ImmortalBody
		MaxHealth = 1
	End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule

;  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
;      DestructionDelay  = 3000
;  End
  
  Geometry              = CYLINDER
  GeometryMajorRadius   = 160.0
  GeometryMinorRadius   = 160.0
  GeometryHeight        = 527.0
  GeometryIsSmall       = No
  
  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 59
  GeometryMinorRadius = 59
  GeometryHeight      = 608
  GeometryOffset      = X:-28 Y:76 Z:0

  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 23
  GeometryMinorRadius = 23
  GeometryHeight      = 839
  GeometryOffset      = X:-38 Y:67 Z:0
  
  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 47
  GeometryMinorRadius = 47
  GeometryHeight      = 412
  GeometryOffset      = X:119 Y:-66 Z:0
  
  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 29
  GeometryMinorRadius = 29
  GeometryHeight      = 439
  GeometryOffset      = X:-138 Y:-180 Z:0

  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 47
  GeometryMinorRadius = 47
  GeometryHeight      = 412
  GeometryOffset      = X:66 Y:-120 Z:0

  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 47
  GeometryMinorRadius = 47
  GeometryHeight      = 455
  GeometryOffset      = X:-10 Y:-137 Z:0

  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 47
  GeometryMinorRadius = 47
  GeometryHeight      = 453
  GeometryOffset      = X:108 Y:84 Z:0
  
  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 47
  GeometryMinorRadius = 47
  GeometryHeight      = 445
  GeometryOffset      = X:52 Y:127 Z:0
  
  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 47
  GeometryMinorRadius = 47
  GeometryHeight      = 445
  GeometryOffset      = X:-40 Y:131 Z:0

  AdditionalGeometry = CYLINDER
  GeometryMajorRadius = 47
  GeometryMinorRadius = 47
  GeometryHeight      = 378
  GeometryOffset      = X:124 Y:12 Z:0

  AdditionalGeometry = Box
  GeometryMajorRadius = 111
  GeometryMinorRadius = 24
  GeometryHeight      = 587
  GeometryOffset      = X:-122 Y:-82 Z:0

  AdditionalGeometry = Box
  GeometryMajorRadius = 77
  GeometryMinorRadius = 42
  GeometryHeight      = 634
  GeometryOffset      = X:-122 Y:-82 Z:0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 29
  GeometryMinorRadius = 27
  GeometryHeight      = 582
  GeometryOffset      = X:-17 Y:-124 Z:0

;  GeometryRotationAnchorOffset = X:21.9328 Y:0.0
  Shadow                = SHADOW_VOLUME
End


Object MinisTop1
	; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
		OkToChangeModelColor = Yes
	  
		ExtraPublicBone = Elev01
		ExtraPublicBone = Elev02
		ExtraPublicBone = Elev03
		ExtraPublicBone = Elev04
	  
		DefaultModelConditionState
		Model = GBMTop1
		End
		WallBoundsMesh = P2
		RampMesh1 = P1
	        
		ModelConditionState = DAMAGED
			Model = GBMTOP1_D1
		End 
	       
		ModelConditionState = REALLYDAMAGED
			Model = GBMTOP1_D2
		End    
		
		AlphaCameraFadeOuterRadius = 500
		AlphaCameraFadeInnerRadius = 400
		AlphaCameraAtInnerRadius = 30%    
	       
	End
	  
	; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone


	; ***DESIGN parameters ***
	DisplayName      = OBJECT:MTTop
	EditorSorting   = STRUCTURE

	ArmorSet
		Conditions        = None
		Armor             = MinasTirithWall
		DamageFX          = None
	End

	; *** ENGINEERING Parameters ***  
	KindOf                = STRUCTURE IMMOBILE CHUNK_VENDOR NOT_AUTOACQUIRABLE
	RadarPriority = STRUCTURE
	Body                  = ActiveBody ModuleTag_02
		MaxHealth       = 2000.0
	    
		GrabObject = EntThrownBuildingRock
		GrabFX = FX_WallGrab
		GrabDamage = 490
		GrabOffset = X:16 Y:0
	End

	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
	Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
		DestructionDelay  = 3000
	End
  
	Behavior = DynamicPortalBehaviour Portal
		GenerateNow		= Yes
		AllowKindOf		= INFANTRY
		BonePrefix		= Elev
		NumberOfBones	= 4

		WayPoint		= Index:0	Type:PreClimb	; 0
		WayPoint		= Index:1	Type:Climb		; 1
		WayPoint		= Index:2	Type:Climb		; 2
		WayPoint		= Index:3	Type:Climb		; 3
		
		Link			= From:0 Via:1 Via:2 To:3	; up, to centre
	End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

	Geometry              = BOX 
	GeometryMajorRadius   = 127
	GeometryMinorRadius   = 40
	GeometryHeight        = 296
	GeometryIsSmall       = No
	GeometryOffset		= X:-163 Y:0 Z:231  
	GeometryRotationAnchorOffset = X:219.1656 Y:0.0
	Shadow                = SHADOW_VOLUME
End


Object MinisTopBackNonFading
	; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
		OkToChangeModelColor = Yes
	  
		DefaultModelConditionState
		Model = GBMTop1Back
		End
	        
		ModelConditionState = DAMAGED
			Model = GBMTOP1Back_D1
		End 
	       
		ModelConditionState = REALLYDAMAGED
			Model = GBMTOP1Back_D2
		End    
		AnimationState = REALLYDAMAGED
			Animation = GBMTOP1Back_D2
				AnimationName = GBMTOP1Back_D2.GBMTOP1Back_D2
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
		End
	End
	  
	; *** AUDIO Parameters ***

	; ***DESIGN parameters ***
	DisplayName      = OBJECT:MTTop
	EditorSorting   = STRUCTURE

	ArmorSet
		Conditions        = None
		Armor             = MinasTirithWall
		DamageFX          = None
	End

	; *** ENGINEERING Parameters ***  
	KindOf                = STRUCTURE IMMOBILE CHUNK_VENDOR NOT_AUTOACQUIRABLE
	RadarPriority = STRUCTURE
	Body                  = ActiveBody ModuleTag_02
		MaxHealth       = 2000.0
	End

	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End

	Geometry              = BOX 
	GeometryMajorRadius   = 172
	GeometryMinorRadius   = 44
	GeometryHeight        = 527
	GeometryIsSmall       = No
	GeometryOffset		= X:-444 Y:0 Z:0  
	GeometryRotationAnchorOffset = X:219.1656 Y:0.0
	Shadow                = SHADOW_VOLUME
End

Object MinisTop2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
		Model = GBMTop2
    End
    
	ModelConditionState = DAMAGED
		Model = GBMTop2_D2
	End

	ModelConditionState = REALLYDAMAGED
		Model = GBMTop2_D2
	End
	AnimationState = REALLYDAMAGED
		Animation = REALLYDAMAGED
			AnimationName = GBMTop2_D2.GBMTop2_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
	End 
        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTTop
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 9000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 123.2
  GeometryMinorRadius   = 48.8
  GeometryHeight        = 295.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:-110.136 Y:0.0
  Shadow                = SHADOW_VOLUME
End

Object MinisTop3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTop3
    End
    
    ModelConditionState = DAMAGED
      Model = GBMTop3_D2
    End

    ModelConditionState = REALLYDAMAGED
      Model = GBMTop3_D2
    End
	AnimationState = REALLYDAMAGED
		Animation = REALLYDAMAGED
			AnimationName = GBMTop3_D2.GBMTop3_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
	End 
        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTTop
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 9000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 58.4
  GeometryMinorRadius   = 32.8
  GeometryHeight        = 298.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:-25.7728 Y:0.0
  Shadow                = SHADOW_VOLUME
End

;-------------------------

Object MinisTop4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTop4
    End
	
	;--damaged building
		ModelConditionState  = DAMAGED
			Model         = GBMtop4_D1
		End
		AnimationState = DAMAGED
		End
		
		
		ModelConditionState  = REALLYDAMAGED
			Model         = GBMTop4_D2
			ParticleSysBone gbmtop4d2_01 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_02 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_03 SmokeBuildingLarge FollowBone:Yes
			ParticleSysBone gbmtop4d2_04 FireSmoke FollowBone:Yes
     		ParticleSysBone gbmtop4d2_05 SmokeBuildingLarge FollowBone:Yes
	     	
			ParticleSysBone gbmtop4d2_06 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_07 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_08 SmokeBuildingLarge FollowBone:Yes
			ParticleSysBone gbmtop4d2_09 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_10 SmokeBuildingLarge FollowBone:Yes
			
			ParticleSysBone gbmtop4d2_11 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_12 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_13 SmokeBuildingLarge FollowBone:Yes
			ParticleSysBone gbmtop4d2_14 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_15 SmokeBuildingLarge FollowBone:Yes
		
			ParticleSysBone gbmtop4d2_16 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_17 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_18 SmokeBuildingLarge FollowBone:Yes
			ParticleSysBone gbmtop4d2_19 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d2_20 SmokeBuildingLarge FollowBone:Yes
			
		End
		AnimationState = REALLYDAMAGED
			Animation = reallydamaged
				AnimationName = GBMtop4_D2.GBMtop4_D2
				AnimationMode = ONCE
				AnimationBlendTime = 0
				AnimationSpeedFactorRange = 0.4 0.4
			End
;			BeginScript
;				CurDrawableSetTransitionAnimState("TRANS_to_ReallyDamaged") return 
;			EndScript
;			TransitionState = TRANS_to_ReallyDamaged
;			End
		End


		ModelConditionState  = RUBBLE
			Model         = GBMTop4_D3
			ParticleSysBone none  SmokeBuildingLarge
			ParticleSysBone gbmtop4d3_01 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d3_02 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d3_03 SmokeBuildingLarge FollowBone:Yes
			ParticleSysBone gbmtop4d3_04 FireSmoke FollowBone:Yes
     		ParticleSysBone gbmtop4d3_05 SmokeBuildingLarge FollowBone:Yes
	     					
			ParticleSysBone gbmtop4d3_06 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d3_07 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d3_08 SmokeBuildingLarge FollowBone:Yes
			ParticleSysBone gbmtop4d3_09 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d3_10 SmokeBuildingLarge FollowBone:Yes
							
			ParticleSysBone gbmtop4d3_11 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d3_12 SmokeBuildingLarge FollowBone:Yes
			ParticleSysBone gbmtop4d3_13 FireSmoke FollowBone:Yes
			ParticleSysBone gbmtop4d3_14 SmokeBuildingLarge FollowBone:Yes
		End
		AnimationState = RUBBLE
			Animation = rubble
				AnimationName = GBMTop4_D3.GBMTop4_D3
				AnimationMode = ONCE
				AnimationBlendTime = 0
				AnimationSpeedFactorRange = 0.4 0.4
			End
		End

		ModelConditionState  = POST_RUBBLE
			Model         = None
		End

		ModelConditionState  = POST_COLLAPSE
			Model         = None
		End
		
	End
          

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTTop
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE ; SELECTABLE
  RadarPriority = STRUCTURE
  
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 10000.0
    MaxHealthDamaged   = 8000.0
    MaxHealthReallyDamaged   = 6000.0

    ;DamageCreationList = OCL_BuildingDamageList01 CATAPULT_ROCK
    
    ;DamageCreationList = OCL_GBMtop4D2_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    ;DamageCreationList = OCL_GBMtop4D2_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    ;DamageCreationList = OCL_GBMtop4D2_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    ;DamageCreationList = OCL_GBMtop4D2_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End
  
;   Behavior                  = StructureCollapseUpdate ModuleTag_06
;    MinCollapseDelay        = 000
;    MaxCollapseDelay        = 000
;    CollapseDamping         = .5
;    MaxShudder              = 0.6
;    MinBurstDelay           = 250
;    MaxBurstDelay           = 800
;    BigBurstFrequency       = 4
;    FXList                  = INITIAL   FX_StructureMediumCollapse
;    OCL						= INITIAL	OCL_StructureRubblePileLarge ; creates a rising pile of debris halfway-done
;  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 20000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 32.8
  GeometryMinorRadius   = 25.6
  GeometryHeight        = 267.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:-47.232 Y:0.0
  GeometryContactPoint = X:0 Y:0 Z:20
  GeometryContactPoint = X:0 Y:0 Z:100
  GeometryContactPoint = X:0 Y:0 Z:160
  
  Shadow                = SHADOW_VOLUME
End

;-------------------------

Object MinisTop5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTop5
    End
       
    ModelConditionState = DAMAGED
      Model = GBMTop5_D2
    End

    ModelConditionState = REALLYDAMAGED
      Model = GBMTop5_D2
    End
	AnimationState = REALLYDAMAGED
		Animation = REALLYDAMAGED
			AnimationName = GBMTop5_D2.GBMTop5_D2
			AnimationMode = ONCE
			AnimationBlendTime = 0
		End
	End        
     End
  

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTTop
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE ; SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 9000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3500
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 79.2
  GeometryMinorRadius   = 57.6
  GeometryHeight        = 56.8
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:-145.1480 Y:0.0
  Shadow                = SHADOW_VOLUME
End

Object MinisTop6

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTop6
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTTop
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE ; SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 18.4
  GeometryMinorRadius   = 17.6
  GeometryHeight        = 21.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:21.9328 Y:0.0
  Shadow                = SHADOW_VOLUME
End

Object MinisBridge1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMBridge1
    End
    WallBoundsMesh = P2
	RampMesh1 = P1
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 64.0
  GeometryMinorRadius   = 41.6
  GeometryHeight        = 28.8
  GeometryIsSmall       = No
 
  GeometryContactPoint = X: 64		Y: -41			Z: 20 Grab
  GeometryContactPoint = X: 23		Y: 41			Z: 25 Grab
  GeometryContactPoint = X: 0		Y: 0			Z: 25 Grab
  GeometryContactPoint = X: 0		Y: -41			Z: 25 Grab
  
  Shadow                = SHADOW_VOLUME
End

Object MinisBridge2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     
    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3
    
    DefaultModelConditionState
      Model = GBMBridge2
    End

        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 5000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 136
  GeometryMinorRadius   = 88
  GeometryHeight        = 46
  GeometryIsSmall       = No
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 62
  GeometryMinorRadius = 75
  GeometryHeight      = 102
  GeometryOffset      = X:-60 Y:20 Z:0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 20
  GeometryMinorRadius = 19
  GeometryHeight      = 155
  GeometryOffset      = X:-16 Y:-64 Z:0

  AdditionalGeometry = Box
  GeometryMajorRadius = 20
  GeometryMinorRadius = 19
  GeometryHeight      = 155
  GeometryOffset      = X:-118 Y:-64 Z:0
  
  GeometryContactPoint = X: -80		Y: 90		Z: 0 Grab
  GeometryContactPoint = X: -80		Y: 40		Z: 104 
  GeometryContactPoint = X: -80		Y: -60		Z: 104 
  GeometryContactPoint = X: -150	Y: -60		Z: 0 Grab
  GeometryContactPoint = X: 70		Y: -60		Z: 75 
  GeometryContactPoint = X: 70		Y: -110		Z: 0 Grab
  GeometryContactPoint = X: 70		Y: 40		Z: 75 
  GeometryContactPoint = X: -80		Y: 40		Z: 104 
  
  
  
  Shadow                = SHADOW_VOLUME
End

Object MinisBridge3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
    WallBoundsMesh = P2
    RampMesh1 = P1
    ;RampMesh2 = P3 ;removed to make pf work - JGS
    
    DefaultModelConditionState
      Model = GBMBridge3
    End

        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                =  STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 58
  GeometryMinorRadius   = 75
  GeometryHeight        = 98
  GeometryIsSmall       = No
  
  AdditionalGeometry  = Box
  GeometryMajorRadius = 14
  GeometryMinorRadius = 43
  GeometryHeight      = 216
  GeometryOffset      = X:79.262 Y:-34.821 Z:0 
  
  AdditionalGeometry  = Box
  GeometryMajorRadius = 14
  GeometryMinorRadius = 43
  GeometryHeight      = 216
  GeometryOffset      = X:-75.931 Y:-34.821 Z:0
  
  AdditionalGeometry  = Box
  GeometryMajorRadius = 60
  GeometryMinorRadius = 1
  GeometryHeight      = 2
  GeometryOffset      = X:1 Y:-50 Z:202

  GeometryContactPoint = X: -94		Y: -41		Z: 0 Grab
  GeometryContactPoint = X: 94		Y: -41		Z: 0 Grab

  
  
  Shadow                = SHADOW_VOLUME
End

Object MinisBridge4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMBridge4
    End
    RampMesh2 = P3
    RampMesh1 = P1
    WallBoundsMesh = P2
;    RampMesh2 = P1
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 5000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 168
  GeometryMinorRadius   = 75
  GeometryHeight        = 100
  GeometryIsSmall       = No
  GeometryOffset      = X:-131 Y:0 Z:0
  
  AdditionalGeometry  = Box
  GeometryMajorRadius = 50
  GeometryMinorRadius = 10
  GeometryHeight      = 218
  GeometryOffset      = X:-50 Y:63 Z:0 
  
  AdditionalGeometry  = Box
  GeometryMajorRadius = 50
  GeometryMinorRadius = 10
  GeometryHeight      = 218
  GeometryOffset      = X:-125 Y:-110 Z:0 
  
  AdditionalGeometry  = Box
  GeometryMajorRadius = 1
  GeometryMinorRadius = 77
  GeometryHeight      = 1
  GeometryOffset      = X:-102 Y:-19 Z:203 
  
  ;GeometryContactPoint = X: -88		Y: -98		Z: 0 Grab
  ;GeometryContactPoint = X: -88		Y: 60		Z: 0 Grab
  ;GeometryContactPoint = X: 98		Y: 0		Z: 0 Grab
  ;GeometryContactPoint = X: 98		Y: -98		Z: 0 Grab
  ;GeometryContactPoint = X: -88		Y: -98		Z: 0 
  
  Shadow                = SHADOW_VOLUME
End

Object MinisBridge5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMBridge5
    End
    WallBoundsMesh = P2
	RampMesh1 = P1
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 22
  GeometryMinorRadius   = 42
  GeometryHeight        = 49
  GeometryIsSmall       = No
  GeometryOffset      = X:-1 Y:5.6 Z:0 
   
  GeometryContactPoint = X: 0		Y: -35		Z: 0 Grab
  GeometryContactPoint = X: 30		Y: -20		Z: 20 
  GeometryContactPoint = X: 64		Y: -20		Z: 0 Grab
  GeometryContactPoint = X: 64		Y: 41		Z: 0 Grab
  GeometryContactPoint = X: 30		Y: 35		Z: 20 
  GeometryContactPoint = X: 0		Y: 41		Z: 0 Grab
  
  
  Shadow                = SHADOW_VOLUME
End

Object MinisBridge6

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     
    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3
    
    DefaultModelConditionState
      Model = GBMBridge6
    End

        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 5000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 82
  GeometryMinorRadius   = 37
  GeometryHeight        = 106.4
  GeometryIsSmall       = No
  
  ;GeometryContactPoint = X: -25		Y: -35		Z: 0 Grab
  ;GeometryContactPoint = X: -25		Y: -35		Z: 80 
  ;GeometryContactPoint = X: 22		Y: 35		Z: 0 Grab
  ;GeometryContactPoint = X: -30		Y: 35		Z: 50
  ;GeometryContactPoint = X: -70		Y: 35		Z: 0 Grab
  
  
  Shadow                = SHADOW_VOLUME
End

Object MinisBridge7

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3
    
    DefaultModelConditionState
      Model = GBMBridge7
    End

        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                =  STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 41
  GeometryMinorRadius   = 64
  GeometryHeight        = 100
  GeometryIsSmall       = No
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 20
  GeometryMinorRadius = 20
  GeometryHeight      = 200
  GeometryOffset      = X:44 Y:-37 Z:0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 20
  GeometryMinorRadius = 20
  GeometryHeight      = 200
  GeometryOffset      = X:-44 Y:-37 Z:0

  AdditionalGeometry = Box
  GeometryMajorRadius = 30
  GeometryMinorRadius = 1
  GeometryHeight      = 2
  GeometryOffset      = X:0 Y:-37 Z:192
  
  ;GeometryContactPoint = X: -64		Y: -41		Z:0 Grab
  ;GeometryContactPoint = X: 64		Y: -41		Z:0 Grab
 
  Shadow                = SHADOW_VOLUME
End

;-------------------------------------------------------------
Object MinisBridge8

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     
    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3
    
    DefaultModelConditionState
      Model = GBMBridge8
    End
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 5000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 88.0
  GeometryMinorRadius   = 98.4
  GeometryHeight        = 106.4
  GeometryIsSmall       = No
  
  GeometryContactPoint = X: 30		Y: 90		Z: 0 
  GeometryContactPoint = X: 88		Y: -35		Z: 0 Grab
  GeometryContactPoint = X: -22		Y: -80		Z: 70 Grab
  GeometryContactPoint = X: -22		Y: -80		Z: 0 Grab
  GeometryContactPoint = X: -82		Y: 60		Z: 0 Grab
  GeometryContactPoint = X: -82		Y: 60		Z: 70 Grab
  GeometryContactPoint = X: 30		Y: 90		Z: 0 
  
  Shadow                = SHADOW_VOLUME
End

;-------------------------------------------------------------
Object MinisBridge9

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     
    WallBoundsMesh = P2
    RampMesh1 = P1
    RampMesh2 = P3
    
    DefaultModelConditionState
      Model = GBMBridge9
    End
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBridge
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR NOT_AUTOACQUIRABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 5000
  End
  
  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= MinasTirithWallBonus
		RefreshDelay	= 2000
		;Range			= 120		; Range is overridden to affect people on us since we are a wall
		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
	End	

  Geometry              = BOX
  GeometryMajorRadius   = 88.0
  GeometryMinorRadius   = 98.4
  GeometryHeight        = 106.4
  GeometryIsSmall       = No
  
  GeometryContactPoint = X: -80		Y: -90		Z: 0 Grab
  GeometryContactPoint = X: -80		Y: -40		Z: 104 
  GeometryContactPoint = X: -80		Y: 60		Z: 104 
  GeometryContactPoint = X: -150	Y: 60		Z: 0 Grab
  GeometryContactPoint = X: 70		Y: 60		Z: 75 
  GeometryContactPoint = X: 70		Y: 110		Z: 0 Grab
  GeometryContactPoint = X: 70		Y: -40		Z: 75 
  GeometryContactPoint = X: -80		Y: -40		Z: 104 
  
  Shadow                = SHADOW_VOLUME
End

;-------------------------------------------------------------
Object MinisBridgeDoor

  ; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
		OkToChangeModelColor = Yes

		DefaultModelConditionState
			Model = GBMBridgeDr
		End

		ModelConditionState = DAMAGED
			Model			= GBMBridgeDr_D1
		End
		AnimationState = DAMAGED
		End

		ModelConditionState = REALLYDAMAGED
			Model			= GBMBridgeDr_D2
		End

		ModelConditionState = RUBBLE
			Model			= GBMBridgeDr_D3
			ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
			ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
		End
		AnimationState = RUBBLE
			Animation				=	Death
				AnimationName		=	GBMBridgeDr_D3.GBMBridgeDr_D3
				AnimationMode		=	ONCE
			End
		End      

		IdleAnimationState	
			Animation           = DoingNothing
				AnimationName     = GBMBridgeDr.GBMBridgeDr
				AnimationMode     = MANUAL
			End
		End

		AnimationState = DOOR_1_OPENING
			StateName = STATE_Open   
			Animation = Open 
				AnimationName	=	GBMBridgeDr.GBMBridgeDr
				AnimationMode	=	ONCE 
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_LAST
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Closed" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
			EndScript
		End

		TransitionState = TRANS_Closed_To_Open
			Animation = Open 
				AnimationName	=	GBMBridgeDr.GBMBridgeDr
				AnimationMode	=	ONCE 
			End
		End

		AnimationState = DOOR_1_CLOSING 
			StateName = STATE_Closed 
				Animation = Close 
				AnimationName	=	GBMBridgeDr.GBMBridgeDr
				AnimationMode	=	ONCE_BACKWARDS 
				AnimationBlendTime = 0
			End
			Flags = START_FRAME_FIRST
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
			EndScript
		End
		
		TransitionState = TRANS_Open_To_Closed
			Animation = Open 
				AnimationName	=	GBMBridgeDr.GBMBridgeDr
				AnimationMode	=	ONCE_BACKWARDS 
			End
			Flags = START_FRAME_LAST
		End		

	End
  

  ; *** AUDIO Parameters ***

	VoiceSelect		= GateSelect


  ; ***DESIGN parameters ***

  DisplayName      = OBJECT:MTDoor
  EditorSorting   = STRUCTURE
	CommandSet = CastleGateCommandSet

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE BLOCKING_GATE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
	Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
		ResetTimeInMilliseconds = 10500;must be longer than animation to avoid ->pop<-
		OpenByDefault = No
		PercentOpenForPathing = 50
		SoundOpeningGateLoop = GateOpenStart
		SoundClosingGateLoop = GateCloseStart
		SoundFinishedOpeningGate = GateOpenEnd
		SoundFinishedClosingGate = GateCloseEnd
		TimeBeforePlayingOpenSound = 9500
		TimeBeforePlayingClosedSound = 9500
	End

	Geometry              = BOX
	GeometryMajorRadius   = 6.0
	GeometryMinorRadius   = 50.0
	GeometryHeight        = 56.0
	GeometryName          = Closed
	GeometryIsSmall       = No
  
  
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 24.0
	GeometryMinorRadius   = 2.0
	GeometryHeight        = 57.0	
	GeometryOffset		  = X:18 Y:54 Z:0
	GeometryName          = OpenLeft
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 24.0
	GeometryMinorRadius   = 2.0
	GeometryHeight        = 57.0	
	GeometryOffset		  = X:18 Y:-54 Z:0
	GeometryName          = OpenRight
	
	GeometryContactPoint = X:27 Y:-54 Z:0 Ram  
    GeometryContactPoint = X:14 Y:-54 Z:56
	GeometryContactPoint = X:0  Y:-54 Z:0
	GeometryContactPoint = X:0  Y:-22 Z:56
	GeometryContactPoint = X:0  Y:  0 Z:0 Ram 
	GeometryContactPoint = X:0  Y: 22 Z:56
	GeometryContactPoint = X:0  Y: 54 Z:0
	GeometryContactPoint = X:14 Y: 54 Z:56
	GeometryContactPoint = X:27 Y: 54 Z:0 Ram  
	  
  Shadow                = SHADOW_VOLUME
End

;-------------------------------------------------------------
Object MinisBridgeDoor2

  ; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_01
		OkToChangeModelColor = Yes

		DefaultModelConditionState
			Model = GBMBridgeDr2
		End
		
		;--damaged building
		ModelConditionState  = DAMAGED
			Model         = GBMBridgeDr2_D1  
	    End
	    
	    ModelConditionState  = REALLYDAMAGED
			Model         = GBMBridgeDr2_D2
		End
		AnimationState = REALLYDAMAGED
       		Animation				=	ReallyDamagedanimation
				AnimationName		=	 GBMBridgeDr2_D2.GBMBridgeDr2_D2
				AnimationMode		=	ONCE
   			End
		End
		
		ModelConditionState  = RUBBLE
			Model         = GBMBridgeDr2_D3
		End
		AnimationState = RUBBLE
			Animation				=	Death
				AnimationName		=	GBMBridgeDr2_D3.GBMBridgeDr2_D3
				AnimationMode		=	ONCE
			End
		End      

		ModelConditionState  = POST_RUBBLE
			Model         = None
		End

		ModelConditionState  = POST_COLLAPSE
			Model         = None
		End
		
	End
  

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTDoor
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End

  Geometry              = BOX
  GeometryMajorRadius   = 1.6
  GeometryMinorRadius   = 16.8
  GeometryHeight        = 24.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;-------------------GBMWBud01--------------------------
Object MinisWallBuilding01

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMwBud01
    End
    
    ModelConditionState = DAMAGED
		Model			= GBMwBud01_D1  
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwBud01_D1   
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwBud01_D1 
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End

  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE SELECTABLE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 16
  GeometryMinorRadius   = 14
  GeometryHeight        = 176
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwBud02---------------------
Object MinisWallBuilding02
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMwBud02
    End
    
        ModelConditionState = DAMAGED
		Model			= GBMwBud02_D1  
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwBud02_D1   
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwBud02_D1 
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 20.0
  GeometryHeight        = 222.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;---------------------GBMwBud03---------------------
Object MinisWallBuilding03

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMwBud03
    End
    
    ModelConditionState = DAMAGED
		Model			= GBMwBud03_D1  
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwBud03_D1   
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwBud03_D1 
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 20
  GeometryMinorRadius   = 25
  GeometryHeight        = 195
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwBud04---------------------
Object MinisWallBuilding04

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMwBud04
    End

    ModelConditionState = DAMAGED
		Model			= GBMwBud04_D1  
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwBud04_D1   
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwBud04_D1 
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End    
        
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 16
  GeometryMinorRadius   = 18
  GeometryHeight        = 168
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End



;---------------------GBMwBud05---------------------
Object MinisWallBuilding05

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMwBud05
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwBud05_D1  
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwBud05_D1   
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwBud05_D1 
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 15
  GeometryMinorRadius   = 17
  GeometryHeight        = 202
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End



;-------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------
;---------------------GBMwBBudA---------------------
Object MinisWallBBuildingA

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     MinLODRequired = Medium
 
    DefaultModelConditionState
      Model = GBMwallBBudA
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallBBudA_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallBBudA_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallBBudA_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 10
  GeometryMinorRadius   = 67
  GeometryHeight        = 87
  GeometryIsSmall       = No
  GeometryOffset      = X:27 Y:0 Z:0
 
  GeometryRotationAnchorOffset = X:675.0552 Y:0.0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 10
  GeometryMinorRadius = 14
  GeometryHeight      = 61
  GeometryOffset      = X:35 Y:53 Z:103

  AdditionalGeometry = Box
  GeometryMajorRadius = 10
  GeometryMinorRadius = 14
  GeometryHeight      = 61
  GeometryOffset      = X:35 Y:-55 Z:115

  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwBBudB---------------------
Object MinisWallBBuildingB

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    MinLODRequired = Medium
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMwallBBudB
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallBBudB_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallBBudB_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallBBudB_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 10
  GeometryMinorRadius   = 67
  GeometryHeight        = 87
  GeometryIsSmall       = No
  GeometryOffset      = X:27 Y:0 Z:0
  GeometryRotationAnchorOffset = X:675.0552 Y:0.0
  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwBBudC---------------------
Object MinisWallBBuildingC

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     MinLODRequired = Medium
 
    DefaultModelConditionState
      Model = GBMwallBBudC
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallBBudC_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallBBudC_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallBBudC_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 10
  GeometryMinorRadius   = 67
  GeometryHeight        = 87
  GeometryIsSmall       = No
  GeometryOffset      = X:27 Y:0 Z:0
 
  GeometryRotationAnchorOffset = X:675.0552 Y:0.0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 10
  GeometryMinorRadius = 14
  GeometryHeight      = 61
  GeometryOffset      = X:35 Y:53 Z:111

  AdditionalGeometry = Box
  GeometryMajorRadius = 10
  GeometryMinorRadius = 14
  GeometryHeight      = 61
  GeometryOffset      = X:35 Y:-52 Z:100

  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwBBudD---------------------
Object MinisWallBBuildingD

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
    MinLODRequired = Medium
  
    DefaultModelConditionState
      Model = GBMwallBBudD
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallBBudD_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallBBudD_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallBBudD_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 10
  GeometryMinorRadius   = 67
  GeometryHeight        = 87
  GeometryIsSmall       = No
  GeometryOffset      = X:27 Y:0 Z:0
 
  GeometryRotationAnchorOffset = X:675.0552 Y:0.0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 10
  GeometryMinorRadius = 14
  GeometryHeight      = 61
  GeometryOffset      = X:35 Y:25 Z:102

  AdditionalGeometry = Box
  GeometryMajorRadius = 10
  GeometryMinorRadius = 14
  GeometryHeight      = 61
  GeometryOffset      = X:35 Y:-48 Z:121

  Shadow                = SHADOW_VOLUME
End

;---------------------GBMwCBudA---------------------
Object MinisWallCBuildingA

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     MinLODRequired = Medium
  
    DefaultModelConditionState
      Model = GBMwallCBudA
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallCBudA_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallCBudA_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallCBudA_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 39.5
  GeometryMinorRadius   = 89
  GeometryHeight        = 89
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:401.1320 Y:0.0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 14.5
  GeometryMinorRadius = 14.5
  GeometryHeight      = 102
  GeometryOffset      = X:32 Y:-66 Z:102
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 14.5
  GeometryMinorRadius = 14
  GeometryHeight      = 102
  GeometryOffset      = X:29 Y:78 Z:102

  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwCBudB---------------------
Object MinisWallCBuildingB

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     MinLODRequired = Medium
  
    DefaultModelConditionState
      Model = GBMwallCBudB
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallCBudB_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallCBudB_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallCBudB_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 39.5
  GeometryMinorRadius   = 89
  GeometryHeight        = 89
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:401.1320 Y:0.0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 14.5
  GeometryMinorRadius = 14.5
  GeometryHeight      = 102
  GeometryOffset      = X:32 Y:-74 Z:96
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 14.5
  GeometryMinorRadius = 14
  GeometryHeight      = 102
  GeometryOffset      = X:29 Y:78 Z:102

  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwCBudC---------------------
Object MinisWallCBuildingC

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     MinLODRequired = Medium
  
    DefaultModelConditionState
      Model = GBMwallCBudC
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallCBudC_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallCBudC_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallCBudC_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 39.5
  GeometryMinorRadius   = 89
  GeometryHeight        = 89
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:401.1320 Y:0.0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 14.5
  GeometryMinorRadius = 14.5
  GeometryHeight      = 102
  GeometryOffset      = X:32 Y:22 Z:102
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 14.5
  GeometryMinorRadius = 14
  GeometryHeight      = 102
  GeometryOffset      = X:29 Y:-60 Z:102

  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwCBudD---------------------
Object MinisWallCBuildingD

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     MinLODRequired = Medium
  
    DefaultModelConditionState
      Model = GBMwallCBudD
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallCBudD_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallCBudD_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallCBudD_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 39.5
  GeometryMinorRadius   = 89
  GeometryHeight        = 89
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:401.1320 Y:0.0
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 14.5
  GeometryMinorRadius = 14.5
  GeometryHeight      = 102
  GeometryOffset      = X:32 Y:24 Z:102
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 14.5
  GeometryMinorRadius = 14
  GeometryHeight      = 102
  GeometryOffset      = X:29 Y:70 Z:102
  
  AdditionalGeometry = Box
  GeometryMajorRadius = 14.5
  GeometryMinorRadius = 14.5
  GeometryHeight      = 102
  GeometryOffset      = X:32 Y:-61 Z:102

  Shadow                = SHADOW_VOLUME
End



;---------------------GBMwDBudA---------------------
Object MinisWallDBuildingA

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     MinLODRequired = Medium
  
    DefaultModelConditionState
      Model = GBMwallDBudA
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallDBudA_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallDBudA_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallDBudA_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12
  GeometryMinorRadius   = 90
  GeometryHeight        = 89
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:81.4920 Y:0.0
  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwDBudB---------------------
Object MinisWallDBuildingB

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     MinLODRequired = Medium
  
    DefaultModelConditionState
      Model = GBMwallDBudB
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallDBudB_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallDBudB_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallDBudB_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  
  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 14
  GeometryMinorRadius   = 89
  GeometryHeight        = 86
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:81.4920 Y:0.0
  Shadow                = SHADOW_VOLUME
End


;---------------------GBMwDBudC---------------------
Object MinisWallDBuildingC

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
     MinLODRequired = Medium
  
    DefaultModelConditionState
      Model = GBMwallDBudC
    End
 
     ModelConditionState = DAMAGED
		Model			= GBMwallDBudC_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
    AnimationState = DAMAGED
    End

    ModelConditionState = REALLYDAMAGED
		Model			= GBMwallDBudC_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes
	End
	AnimationState = REALLYDAMAGED
    End

    ModelConditionState = RUBBLE
		Model			= GBMwallDBudC_D
		ParticleSysBone = smokeBone Explosion5 FollowBone:Yes
		ParticleSysBone = smokeBone TrebuchetImpactDebris FollowBone:Yes  
	End
	AnimationState = RUBBLE
    End
  
  End
  

  ; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MTBuilding
  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = MinasTirithWall
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 14
  GeometryMinorRadius   = 89
  GeometryHeight        = 91
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:81.4920 Y:0.0
  Shadow                = SHADOW_VOLUME
End

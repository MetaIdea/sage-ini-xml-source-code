; FILE: Obsolete.ini //////////////////////////////////////////////////
; This file contains only items are are obsolete in the game, but may still
; be used by the cinematics team, so they are left here.
;//////////////////////////////////////////////////////////////////////////////

Object TEST_FortressWallMiddle

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = CMWalAkml1
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:BigGate
  EditorSorting   = OBSOLETE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End


  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 24.8
  GeometryMinorRadius   = 46.4
  GeometryHeight        = 27.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object TEST_MinisTirith

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTGameTest
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTTestObject
  EditorSorting   = OBSOLETE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End


  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 793.6
  GeometryMinorRadius   = 872.8
  GeometryHeight        = 369.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;-------------------------------------------------------------------------------------------------
Object MTGate

;
;	Oy, apparently this is HELLA obsolete.  Try MinisGateDoor
;
;

  ; *** ART Parameters ***
	Draw = W3DScriptedModelDraw ModuleTag_Draw01 
		OkToChangeModelColor = Yes

		DefaultModelConditionState
			Model = GBMTGate
		End
	End
	

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTGate
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth				= 300.0
    MaxHealthDamaged		= 200.0
    MaxHealthReallyDamaged	= 100.0
    
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
 

  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;-------------------------------------------------------------------------------------------------
Object MTMountain

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTMountain
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTMountain
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 99999.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 635.2
  GeometryMinorRadius   = 673.6
  GeometryHeight        = 277.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MTTopBuilding1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTTopBud1
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTTopBuilding1
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 9.6
  GeometryMinorRadius   = 6.4
  GeometryHeight        = 98.4
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MTTopBuilding2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTTopBud2
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTTopBuilding2
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 14.4
  GeometryMinorRadius   = 9.6
  GeometryHeight        = 108.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MTTopBuilding3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTTopBud3
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTTopBuilding3
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 29.6
  GeometryMinorRadius   = 30.4
  GeometryHeight        = 72.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MTTopBuilding4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTTopBud4
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTTopBuilding4
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 41.6
  GeometryMinorRadius   = 20.0
  GeometryHeight        = 43.2
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MTTopBuilding5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTTopBud5
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTTopBuilding5
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 14.4
  GeometryHeight        = 64.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;----------------

Object GBmagicDoor

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    UseStandardModelNames = Yes
    WallBoundsMesh = P1
;    RampMesh1 = P2
    DefaultModelConditionState
      Model = GBMmagicdoor
    End
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWall
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 24.0
  GeometryMinorRadius   = 114.4
  GeometryHeight        = 31.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:1076.832 Y:1
  Shadow                = SHADOW_VOLUME
End

;--------------------


Object MTWallA

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultModelConditionState
      Model = GBMTWallA
    End
    WallBoundsMesh = GBMTWallAPTop
        
  End

; Anybody know why we attach a light to buildings?
; Im removing them from all the buildings but will leave
; it commented out here only.
;  Draw = W3DLightDraw ModuleTag_02
;    Ambient = R:0 G:0 B:0
;    Diffuse = R:240 G:240 B:100
;    Radius = 40
;    Intensity = 1.2
;    FlickerAmplitude = 0.5
;    FlickerFrequency = 10
;    AttachToBoneInAnotherModule = E_Fire_SM
;  End  


  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallA
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 44.0
  GeometryMinorRadius   = 88.0
  GeometryHeight        = 40.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:830.2968 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWallB

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallB
    End
    WallBoundsMesh = GBMTWallBPTop
        
  End

  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallB
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 17.6
  GeometryMinorRadius   = 56.0
  GeometryHeight        = 87.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:529.3608 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWallC

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallC
    End
    WallBoundsMesh = RBMTWallCPTop        

  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallC
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 43.2
  GeometryHeight        = 96.0
  GeometryRotationAnchorOffset = X:403.0648 Y:1
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MTWallD

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallD
    End
    WallBoundsMesh = RBMTWallDPTop
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallD
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 14.4
  GeometryMinorRadius   = 29.6
  GeometryHeight        = 128.0
  GeometryRotationAnchorOffset = X:277.1768 Y:1
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MTWallE

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallE
    End
    WallBoundsMesh = RBMTWallEPTop
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallE
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 42.4
  GeometryMinorRadius   = 16.8
  GeometryHeight        = 139.2
  GeometryRotationAnchorOffset = X:124.8208 Y:1
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object MTWallARamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallARamp
    End
    WallBoundsMesh = GBMTWallARampP3
    RampMesh1 = GBMTWallARampP1
    RampMesh2 = GBMTWallARampP2
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallARamp
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 20.8
  GeometryMinorRadius   = 88.0
  GeometryHeight        = 13.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:769.8832 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWallBRamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBRamp
    End
   ; WallBoundsMesh = GBMTWallBRampP3
    RampMesh1 = GBMTWallBRamp1
    RampMesh2 = GBMTWallBRamp2
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBRamp
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 15.2
  GeometryMinorRadius   = 26.4
  GeometryHeight        = 6.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:499.8056 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWallBRampC

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBRampC
    End
    RampMesh1 = GBMTWallBRampP1
    RampMesh2 = GBMTWallBRampP2
    ;RampMesh3 = GBMTWallBRampP3
    ;RampMesh4 = GBMTWallBRampP4
    ;RampMesh5 = GBMTWallBRampP5
    ;RampMesh6 = GBMTWallBRampP6
    ;RampMesh7 = GBMTWallBRampP7
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBRampC
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 123.2
  GeometryMinorRadius   = 58.4
  GeometryHeight        = 59.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:51.7384 Y:430.8944
  Shadow                = SHADOW_VOLUME
End

Object MTWallCRamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallCRamp
    End
    RampMesh1 = GBMTWallCRampP1
    RampMesh2 = GBMTWallCRampP2
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallCRamp
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 15.2
  GeometryMinorRadius   = 20.0
  GeometryHeight        = 4.8
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:374.4656 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWallDRamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallDRamp
    End
    RampMesh1 = GBMTWallDRampP1
    RampMesh2 = GBMTWallDRampP2
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallDRamp
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 13.6
  GeometryMinorRadius   = 27.2
  GeometryHeight        = 6.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:248.7968 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWallERamp

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallERamp
    End
    RampMesh1 = GBMTWallERampP1
    RampMesh2 = GBMTWallERampP2
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallERamp
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE WALK_ON_TOP_OF_WALL
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 8.8
  GeometryMinorRadius   = 13.6
  GeometryHeight        = 9.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:127.2472 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building01

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud01
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding01
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 12.8
  GeometryHeight        = 55.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:547.8776 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building02

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud02
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding02
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 16.8
  GeometryHeight        = 71.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:544.48 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building03

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud03
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding03
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 11.2
  GeometryMinorRadius   = 15.2
  GeometryHeight        = 58.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:546.96 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building04

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud04
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding04
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 5.6
  GeometryMinorRadius   = 8.0
  GeometryHeight        = 49.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:543 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building05

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud05
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding05
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 4.8
  GeometryMinorRadius   = 7.2
  GeometryHeight        = 13.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:544 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building06a

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud06
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding06a
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 21.6
  GeometryMinorRadius   = 11.2
  GeometryHeight        = 20.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:554.24 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building06b

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud06
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding06b
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 21.6
  GeometryMinorRadius   = 11.2
  GeometryHeight        = 20.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:428.112 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building06c

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud06
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding06c
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 21.6
  GeometryMinorRadius   = 11.2
  GeometryHeight        = 20.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:301.448 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building06d

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud06
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding06d
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 21.6
  GeometryMinorRadius   = 11.2
  GeometryHeight        = 20.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:177.9392 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building07

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud07
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding07
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 4.0
  GeometryMinorRadius   = 4.8
  GeometryHeight        = 14.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:543.264 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building08

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud08
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding08
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 7.2
  GeometryMinorRadius   = 8.0
  GeometryHeight        = 17.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:543.296 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building09

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud09
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding09
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 7.2
  GeometryMinorRadius   = 8.0
  GeometryHeight        = 23.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:542.496 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building10

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud10
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding10
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 5.6
  GeometryMinorRadius   = 8.0
  GeometryHeight        = 59.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:415.4112 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building11

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud11
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding11
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 18.4
  GeometryHeight        = 69.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:421.0848 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building12

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud12
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding12
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 10.4
  GeometryMinorRadius   = 12.0
  GeometryHeight        = 62.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:418.536 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building13

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud13
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding13
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 8.8
  GeometryMinorRadius   = 17.6
  GeometryHeight        = 70.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:415.92 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building14a

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud14
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding14a
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 2.4
  GeometryMinorRadius   = 4.8
  GeometryHeight        = 20.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:415.52 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building14b

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud14
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding14b
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 2.4
  GeometryMinorRadius   = 4.8
  GeometryHeight        = 20.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:289.36 Y:1
  Shadow                = SHADOW_VOLUME
End


Object MTWall_Building15

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud15
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding15
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 4.8
  GeometryMinorRadius   = 7.2
  GeometryHeight        = 13.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:417.584 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building16

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud16
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding16
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 6.4
  GeometryMinorRadius   = 8.0
  GeometryHeight        = 17.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:416.88 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building17a

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud17
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding17a
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 12.0
  GeometryHeight        = 84.8
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:295.5752 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building17b

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud17
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding17b
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 12.0
  GeometryMinorRadius   = 12.0
  GeometryHeight        = 84.8
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:173.912 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building18

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud18
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding18
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 6.4
  GeometryMinorRadius   = 10.4
  GeometryHeight        = 47.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:294.0696 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building19

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud19
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding19
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 4.0
  GeometryMinorRadius   = 6.4
  GeometryHeight        = 45.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:291.9256 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building20

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud20
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding20
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 18.4
  GeometryMinorRadius   = 20.0
  GeometryHeight        = 84.0
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:294.5416 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building21

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud21
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding21
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 5.6
  GeometryMinorRadius   = 7.2
  GeometryHeight        = 12.8
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:291.0256 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building22

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud22
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding22
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 7.2
  GeometryMinorRadius   = 14.4
  GeometryHeight        = 50.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:289.8744 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building23

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud23
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding23
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 7.2
  GeometryMinorRadius   = 8.0
  GeometryHeight        = 18.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:290.2664 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building24

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud24
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding24
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 8.8
  GeometryMinorRadius   = 11.2
  GeometryHeight        = 40.8
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:168.7864 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building25

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud25
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding25
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 7.2
  GeometryMinorRadius   = 11.2
  GeometryHeight        = 57.6
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:169.0504 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building26

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud26
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding26
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 7.2
  GeometryMinorRadius   = 15.2
  GeometryHeight        = 43.2
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:169.0512 Y:1
  Shadow                = SHADOW_VOLUME
End

Object MTWall_Building27

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = GBMTWallBud27
    End
        
  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete; OBJECT:MTWallBuilding27
  EditorSorting   = OBSOLETE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE 
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 6.4
  GeometryMinorRadius   = 8.0
  GeometryHeight        = 18.4
  GeometryIsSmall       = No
  GeometryRotationAnchorOffset = X:168.3824 Y:1
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object GondorBuildingTopDetail

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01

;   ---Test entry for the time of day texture swap test---
;   TimeOfDayTexture = twwater01.tga AFTERNOON 1

    OkToChangeModelColor = Yes
    
    DefaultModelConditionState
      Model = GBMTTopDetail
    End

  End
  
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Obsolete

  EditorSorting   = OBSOLETE
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 12.8
  GeometryMinorRadius   = 32.0
  GeometryHeight        = 45.6
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

Object DwarvenEngineer
	; *** ART Parameters ***

	SelectPortrait         = HPGimli

	Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor = Yes	
		StaticModelLODMode = Yes
		
		; specify options for static LODs
		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End

		WadingParticleSys = WaterRipplesTrail  ; used when the unit is wading in shallow water.
;;================ MODELS =================================================================
		DefaultModelConditionState
			Model               = EUDwarfeng
	End

	End
	
	; ***DESIGN parameters ***
	Side = Dwarves
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 2
	BountyValue = DWARVEN_GUARDIAN_BOUNTY_VALUE
	
	EmotionRange = 240 ; Make sure this value is greater than the fear distribution range. 

	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	
	;;; WEAPON SETS ;;;
	WeaponSet
		Conditions			= None 
		Weapon				= PRIMARY    DwarvenGuardianThrowingAxe
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions			= PLAYER_UPGRADE
		Weapon				= PRIMARY	DwarvenGuardianThrowingAxe
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	;;; ARMOUR SETS ;;;
	ArmorSet
		Conditions      = None
		Armor           = SoldierArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = SoldierHeavyArmor
		DamageFX        = NormalDamageFX
	End
	
	VisionRange = VISION_STANDARD_MELEE
	VisionSide = 35%
	VisionRear = 25%
	VisionBonusPercentPerFoot = 2.0%
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	ShroudClearingRange = SHROUD_CLEAR_STANDARD				

	DisplayName = OBJECT:DwarvenGuardian
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 1 
	CrushOnlyWhileCharging = yes ; // the guardian is only supposed to crush during his special charge ability
	MinCrushVelocityPercent = 60% ; Has to be moving at least xx% of full speed
	CrushDecelerationPercent = 50% ; Lose xx% max velocity when crushing -- thus they only crush 1 row of infantry
	CrushKnockback = 40  ; how hard we knock back crushed units.
	CrushZFactor = 1.0  ; How much we knock upwards.
	CrushRevengeWeapon = AntiCavalryInfantryCrushRevenge
	
	CommandSet = DwarvenAxeThrowerCommandSet


	; *** AUDIO Parameters ***;
    #include "..\Includes\StandardUnitEvaEvents.inc"

	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = DWARVEN_GUARDIAN_HEALTH
		MaxHealthDamaged  = DWARVEN_GUARDIAN_HEALTH_DAMAGED
		;RecoveryTime      = DWARVEN_GUARDIAN_HEALTH_RECOVERY_TIME
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	=	Yes ATTACK_BUILDINGS
		MoodAttackCheckRate			=	500
		AILuaEventsList				=	GondorFighterFunctions
		MinCowerTime				=	3000
		MaxCowerTime				=	5000
		AttackPriority				= 	AttackPriority_Cavalry
	End

	LocomotorSet
		Locomotor = HumanSpecialChargeLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStunnedTimeLow		= 1400	;msec
		ShockStunnedTimeHigh	= 2400	;msec
		ShockStandingTime		= 666	;msec
	End 

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2500 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2 = 2500 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3 = 2500 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1 = 5.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
		
		FastHitsResetReaction = Yes    If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.60     ; in Dist/Sec
		DestructionDelay = 10000
		Sound = INITIAL HumanVoiceDie ;GondorSoldierVoiceDie
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.60     ; in Dist/Sec
		DestructionDelay = 10000
	End


	Geometry = CYLINDER
	GeometryMajorRadius = 4
	GeometryMinorRadius = 4
	GeometryHeight = 19.2
	GeometryIsSmall = No

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19;
    ShadowSizeY = 19;
    ShadowTexture = ShadowI;
End


Object DwarvenMiner
	; *** ART Parameters ***

;	SelectPortrait         = HPGimli 

	Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor = Yes	
		StaticModelLODMode = Yes
		
		; specify options for static LODs
		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End

		WadingParticleSys = WaterRipplesTrail  ; used when the unit is wading in shallow water.
;;================ MODELS =================================================================
		DefaultModelConditionState
			Model               = EUDwarfMin_SKN
			Skeleton            = EUDwarfMin_SKL
		End

		ModelConditionState WEAPONSET_PLAYER_UPGRADE
			Model               = EUDwarfMin_SKN
			Skeleton            = EUDwarfMin_SKL
		End
		
		ModelConditionState = USER_4		; This state is used in cinematics to get the old style armor
			Model               = EUDwarfMin_SKN
			Skeleton            = EUDwarfMin_SKL
		End

;;=============== ANIMATIONS ===============================================================

;;======= FALLING & FLYING

;		AnimationState						= PASSENGER
;			Animation						= Grabbed
;				AnimationName				= EUDwarfMin_LEPB ; Don't have real flailing anim, needs to be replaced
;				AnimationMode				= LOOP
;			End
;		End
		
		AnimationState        				= THROWN_PROJECTILE
			Animation           			= FlyA
				AnimationName      	 		= EUDwarfMin_FLYA
				AnimationMode       		= LOOP
			End
			Flags               			= RANDOMSTART
		End
		
		AnimationState						= FREEFALL
			Animation						= Falling
				AnimationName				= EUDwarfMin_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
		End

		
		
		AnimationState        				= STUNNED_FLAILING 
			Animation           			= FlyA
				AnimationName       		= EUDwarfMin_FLYA
				AnimationMode       		= LOOP
			End
			Flags               			= RANDOMSTART
		End

		AnimationState 						= DYING SPLATTED
			Animation 						= Splatted_On_Ground
				AnimationName 				= EUDwarfMin_LNDA
				AnimationMode 				= ONCE
			End
			EnteringStateFX					= FX_OrcHitGround
		End
		
		AnimationState						= DYING
			Animation						= DIEB
				AnimationName				= EUDwarfMin_DIEB
				AnimationMode				= ONCE
			End
			Animation						= DIEC
				AnimationName				= EUDwarfMin_DIEB
				AnimationMode				= ONCE
			End
		End

;;======= LANDING & STANDING

		AnimationState						= STUNNED_STANDING_UP
			Animation						= GTPA
				AnimationName				= EUDwarfMin_GTPA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End


	
		AnimationState			=	 STUNNED
			Animation			=	 Slatted_On_Ground
			AnimationName 				= EUDwarfMin_LNDA
				AnimationMode 				= ONCE
			End
			EnteringStateFX					= FX_OrcHitGround

       End 
		
		
		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = EUDwarfMin_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART  
		End
		
;;====== TERROR
		
		AnimationState						= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			;@@@KM Add distance
			Animation					= TerrorFromTheSky
				AnimationName			= EUDwarfMin_RUNA
				AnimationMode			= LOOP
			End
			Animation					= TerrorFromTheSky
				AnimationName			= EUDwarfMin_RUNA
				AnimationMode			= LOOP
			End
			Flags = RANDOMSTART
		End
		AnimationState						= MOVING EMOTION_TERROR
			;@@@KM Add distance
			Animation						= TerrorFromTheSky
				AnimationName				= EUDwarfMin_RUNA
				AnimationMode				= ONCE
			End
			Animation						= TerrorFromTheSky
				AnimationName				= EUDwarfMin_RUNA
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End
		
;;======= BACK UP
		
		AnimationState						= MOVING BACKING_UP
			;@@@KM Add distance
			Animation						= BAKA
				AnimationName				= EUDwarfMin_RUNA
				AnimationMode				= LOOP
			End
			Flags = RANDOMSTART
		End
		
		AnimationState						= MOVING ATTACKING
			ShareAnimation					= Yes;
			Animation						= RUNA
				AnimationName				= EUDwarfMin_RUNA
				AnimationMode				= LOOP
				Distance					= 25
			End
			Flags							= RANDOMSTART
			;ParticleSysBone				= None InfantryDustTrails
		End
		
		AnimationState						= MOVING CHARGING
			ShareAnimation					= Yes;
			Animation						= RUNB
				AnimationName				= EUDwarfMin_RUNA
				AnimationMode				= LOOP
				Distance					= 30
				;AnimationSpeedFactorRange	= 0.5 0.5
			End
			Flags							= RANDOMSTART
			;ParticleSysBone				= None InfantryDustTrails
		End

		AnimationState						= MOVING
			;@@@KM - Add Distance
			ShareAnimation					= Yes;
			Animation						= RUNB
				AnimationName				= EUDwarfMin_RUNA
				AnimationMode				= LOOP
				Distance					= 30
			End
			Flags							= RANDOMSTART
			;ParticleSysBone				= None InfantryDustTrails
		End
;;======= UNCONTROLLABLY AFRAID
	; This is before Attacking so it overrides it.  Normal fear is below so you don't go to little-fear in between swings.
		AnimationState						= EMOTION_UNCONTROLLABLY_AFRAID
			Animation						= FERA
				AnimationName				= EUDwarfMin_CHRA ; Don't have real fear, needs to be replaced
				AnimationMode				= LOOP
			End
		End
;;---------------------- ATTACKING ----------------------------------------------------------------
		AnimationState						= FIRING_OR_PREATTACK_A
			Animation						= ATK1
				AnimationName				= EUDwarfMin_ATKA
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			;ParticleSysBone				= None MeleeDust
		End
		
		AnimationState						= ATTACKING
			Animation						= ALERT_1
				AnimationName				= EUDwarfMin_IDLA
				AnimationMode				= LOOP
			End
		End
;;----------------- HIT REACTIONS -------------------------------------------------------------------------

;		AnimationState						= HIT_REACTION
;			Animation						= HITA
;				AnimationName				= EUDwarfMin_HITA
;				AnimationMode				= ONCE
;			End
;		End

;;----------------- EMOTIONS ----------------------------------------------------------------
;;======= APPREHENSIVE

;		AnimationState						= EMOTION_ALERT EMOTION_AFRAID
;			Animation						= APPA
;				AnimationName				= GUManMocap_APPA
;				AnimationMode				= ONCE
;			End
;			Animation						= APPB
;				AnimationName				= GUManMocap_APPB
;				AnimationMode				= ONCE
;			End
;			Flags							= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
;		End
		
;;======= AFRAID

;		AnimationState						= EMOTION_AFRAID
;			Animation						= FERA
;				AnimationName				= EUDwarfMin_CHRA ; Don't have real fear, needs to be replaced
;				AnimationMode				= LOOP
;			End 
;		End

;;======== POINTING

;		AnimationState						= EMOTION_POINTING
;			Animation						= Pointing1
;				AnimationName				= EUDwarfMin_CHRA ; Don't have real pointing anim, needs to be replaced
;				AnimationMode				= LOOP
;			End
;		End

;;======= TAUNTING

;		AnimationState						= EMOTION_TAUNTING
;			Animation						= Taunting1
;				AnimationName				= EUDwarfMin_CHRA ; Don't have real taunting anim, needs to be replaced
;				AnimationMode				= ONCE
;			End
;			Flags							= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
;		End

;;======= CELEBRATING

;		AnimationState						= EMOTION_CELEBRATING
;			Animation						= CHRA
;				AnimationName				= EUDwarfMin_CHRA
;				AnimationMode				= ONCE
;			End
;			Animation						= CHRB
;				AnimationName				= EUDwarfMin_CHRB
;				AnimationMode				= ONCE
;			End
;			Animation						= IDLD
;				AnimationName				= EUDwarfMin_IDLD
;				AnimationMode				= ONCE
;			End
;			Flags							=	RESTART_ANIM_WHEN_COMPLETE
;		End
		
;;----------------- ALERT STATE ---------------------------------------------------------------------------

		AnimationState						= EMOTION_ALERT
			Animation						= ALERT_1
				AnimationName				= EUDwarfMin_IDLA
				AnimationMode				= LOOP;ONCE
				AnimationPriority			= 10
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE ; acts like an idle animation & keeps running the animations.
		End
		
;;----------------- SELECTED STATES -----------------------------------------------------------------------
		AnimationState        = SELECTED
			StateName           = STATE_Selected
			Animation           = ATNB
				AnimationName     = EUDwarfMin_ATNB
				AnimationMode     = LOOP
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" 
				then 
					CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") 
				end
				if CurDrawableModelcondition("ATTACKING")
				then
					return "IDLA"
				else
					return "ATNA"
				end
			EndScript
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
			EndScript
		End
		
;;----------------- IDLE STATES ---------------------------------------------------------------------------
		AnimationState				= WEAPONSET_PLAYER_UPGRADE
			StateName				= STATE_Idle
			Animation				= IDLB
				AnimationName       = EUDwarfMin_IDLB
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation				= IDLC
				AnimationName       = EUDwarfMin_IDLC
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation				= IDLD
				AnimationName       = EUDwarfMin_IDLD
				AnimationMode       = ONCE
				AnimationSpeedFactorRange = 0.9 1.1
			End
;			Animation				= CHRA
;				AnimationName       = EUDwarfMin_CHRA
;				AnimationMode       = ONCE
;				AnimationSpeedFactorRange = 0.9 1.1
;			End
;			Animation				= CHRB
;				AnimationName       = EUDwarfMin_CHRB
;				AnimationMode       = ONCE
;				AnimationSpeedFactorRange = 0.9 1.1
;			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
			EndScript
		End		
		AnimationState				= USER_3
			StateName				= STATE_User_3
			Animation				= GUARD_STANCE
				AnimationName		= GUManMocap_IDLA
				AnimationMode		= LOOP
			End
		End
		IdleAnimationState
		    ;AllowRepeatInRandomPick = no
		    ;Flags = RANDOMSTART
			StateName				= STATE_Idle
            Animation				= IDLA
                AnimationName       = EUDwarfMin_IDLA ;default idle
				AnimationMode       = ONCE
				AnimationPriority   = 100 
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLB
				AnimationName       = EUDwarfMin_IDLB ;figet idle, similar to IDLA, should be used sparingly
				AnimationMode       = ONCE
				AnimationPriority   = 10
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLC
				AnimationName       = EUDwarfMin_IDLC ;bored idle --similar to IDLD but longer
				AnimationMode       = ONCE
				AnimationPriority   = 5
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			Animation				= IDLD
				AnimationName       = EUDwarfMin_IDLD ;bored idle --similar to IDLC but shorter
				AnimationMode       = ONCE
				AnimationPriority   = 7
				AnimationSpeedFactorRange = 0.9 1.1
				AnimationBlendTime	= 15
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
			EndScript
		End
;;--------------- TRANSITIONS ---------------------------------------------------------------------------
		TransitionState       = TRANS_IdleToSelected
			Animation           = ATNA
				AnimationName     = EUDwarfMin_ATNA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.9 1.0
				
			End
		End
		TransitionState		= TRANS_SelectedToIdle
			Animation			= ATNC
				AnimationName	= EUDwarfMin_ATNC
				AnimationMode	= ONCE
				AnimationSpeedFactorRange = 0.9 1.0
			End
		End
	End
	
	; ***DESIGN parameters ***
	Side = Dwarves
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 2
	BountyValue = DWARVEN_GUARDIAN_BOUNTY_VALUE
	
	EmotionRange = 240 ; Make sure this value is greater than the fear distribution range. 

	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	
	;;; WEAPON SETS ;;;
	WeaponSet
		Conditions			= None 
		Weapon				= PRIMARY    DwarvenGuardianAxe
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions			= PLAYER_UPGRADE
		Weapon				= PRIMARY	DwarvenGuardianAxe
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	;;; ARMOR SETS ;;;
	ArmorSet
		Conditions      = None
		Armor           = SoldierArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = SoldierHeavyArmor
		DamageFX        = NormalDamageFX
	End
	
	VisionRange = VISION_STANDARD_MELEE
	VisionSide = 35%
	VisionRear = 25%
	VisionBonusPercentPerFoot = 2.0%
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	ShroudClearingRange = SHROUD_CLEAR_STANDARD			

	DisplayName = OBJECT:DwarvenGuardian
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 1 
	CrushOnlyWhileCharging = yes ; // the guardian is only supposed to crush during his special charge ability
	MinCrushVelocityPercent = 60% ; Has to be moving at least xx% of full speed
	CrushDecelerationPercent = 50% ; Lose xx% max velocity when crushing -- thus they only crush 1 row of infantry
	CrushKnockback = 40  ; how hard we knock back crushed units.
	CrushZFactor = 1.0  ; How much we knock upwards.
	CrushRevengeWeapon = AntiCavalryInfantryCrushRevenge
	
	CommandSet = DwarvenGuardianCommandSet


	; *** AUDIO Parameters ***;

	;VoiceAmbushed				= GondorSoldierVoiceAmbushed		  OBSOLETE VOICE
	VoiceAttack					= GondorSoldierVoiceAttack
	VoiceAttackCharge				= GondorSoldierVoiceAttackCharge
	VoiceAttackMachine			= GondorSoldierVoiceAttack
	VoiceAttackStructure			= GondorSoldierVoiceAttackBuilding
	VoiceEnterStateAttack			= GondorSoldierVoiceEnterStateAttack
	VoiceEnterStateAttackCharge		= GondorSoldierVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine		= GondorSoldierVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure	= GondorSoldierVoiceEnterStateAttackBuilding
	VoiceCreated				= GondorSoldierVoiceSalute
	VoiceFullyCreated 			= GondorSoldierVoiceSalute				;GondorSoldierVoiceCreated
	VoiceGuard					= GondorSoldierVoiceMove
	VoiceMove					= GondorSoldierVoiceMove
	VoiceMoveToCamp				= GondorSoldierVoiceMoveCamp
	VoiceMoveWhileAttacking			= GondorSoldierVoiceDisengage				;TEMP_GondorSoldierVoiceMoveWhileAttacking_TEMP
	VoicePriority				= 49
	VoiceRetreatToCastle			= GondorSoldierVoiceRetreat
	VoiceSelect					= GondorSoldierVoiceSelectMS
	VoiceSelectBattle 			= GondorSoldierVoiceSelectBattle
	VoiceEnterStateMove			= GondorSoldierVoiceEnterStateMove
	VoiceEnterStateMoveToCamp		= GondorSoldierVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking	= GondorSoldierVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle	= GondorSoldierVoiceEnterStateRetreat

	SoundImpact					= ImpactHorse

	UnitSpecificSounds
		VoiceGarrison							= GondorSoldierVoiceGarrison              
		VoiceDesperateAttack						= GondorSoldierVoiceDesperateCharge 
		VoiceAttackUnitWebbedHumanoidWithGondorFighterInside	= GondorSoldierVoiceAttackWebbedSoldier
		VoiceAttackUnitWebbedHumanoidWithGondorArcherInside	= GondorSoldierVoiceAttackWebbedSoldier
	End

    #include "..\includes\StandardUnitEvaEvents.inc"

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry Gondor_Soldier
	End
	
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: TauntHumanHitShield	Animation:GUMAArms_SKL.GUManMocap_IDLC	Frames: 17 27
		AnimationSound = Sound: TauntHumanHitShield	Animation:GUMAArms_SKL.GUManMocap_TNTC	Frames: 74 82 94 125 139

		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUManMocap_DIEB	Frames:89
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUManMocap_DIEC	Frames:71
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUManMocap_DIED	Frames:29
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUManMocap_DIEE	Frames:28
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUMAARMS_LNDA	Frames:0
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = DWARVEN_GUARDIAN_HEALTH
		MaxHealthDamaged  = DWARVEN_GUARDIAN_HEALTH_DAMAGED
		;RecoveryTime      = DWARVEN_GUARDIAN_HEALTH_RECOVERY_TIME
	End
	
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy = Upgrade_ElvenForgedBlades Upgrade_TechnologyElvenForgedBlades
		RequiresAllTriggers = Yes
	End

	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy = Upgrade_ElvenHeavyArmor
		ArmorSetFlag			= PLAYER_UPGRADE
	    ;KillArmorUpgrade = Yes ;This cancels any previous armor upgrade.
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_ElvenHeavyArmor
;		UpgradeTexture	= dwarf_a.tga 0 rudwarf_b.tga
		RecolorHouse	= Yes
		ExcludeSubobjects = Forged_Blade
	End
	
	Behavior = SubObjectsUpgrade ForgedBlade_Upgrade
		TriggeredBy		= Upgrade_ElvenForgedBlades
		ShowSubObjects	= Forged_Blade
	End	
		
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	=	Yes ATTACK_BUILDINGS
		MoodAttackCheckRate			=	500
		AILuaEventsList				=	DwarvenGuardianFunctions
		MinCowerTime				=	3000
		MaxCowerTime				=	5000
		AttackPriority				= 	AttackPriority_Cavalry
	End

	LocomotorSet
		Locomotor = HumanSpecialChargeLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStunnedTimeLow		= 1400	;msec
		ShockStunnedTimeHigh	= 2400	;msec
		ShockStandingTime		= 666	;msec
	End 

	Behavior = AttributeModifierUpgrade ModuleTag_AMU
		TriggeredBy = Upgrade_GondorFighterFearless
		AttributeModifier = FearlessForever
	End
	 
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2500 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2 = 2500 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3 = 2500 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1 = 5.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
		
		FastHitsResetReaction = Yes    If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.60     ; in Dist/Sec
		DestructionDelay = 10000
		Sound = INITIAL HumanVoiceDie ;GondorSoldierVoiceDie
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.60     ; in Dist/Sec
		DestructionDelay = 10000
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; To tweak a Bezier path
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	;;; NEW DWARVEN CHARGE ABILITY ;;;
  	Behavior = SpecialPowerModule ModuleTag_ChargeStarter                      
		SpecialPowerTemplate      = SpecialAbilityDwarvenCharge
		UpdateModuleStartsAttack  = Yes
	End
	Behavior = SpecialAbilityUpdate ModuleTag_ChargeUpdate
		SpecialPowerTemplate		= SpecialAbilityDwarvenCharge
		StartAbilityRange			= 150.0 ;Negative distances will cause the unit to overshoot the destination.
		AbilityAbortRange			= 50.0 ;
		PreparationTime				= 0 ;
		PackTime					= 3000; without this pack time, the charge would not complete
		TriggerSound				= GondorSoldierVoiceEnterStateAttackCharge
		TriggerAttributeModifier	= DwarvenChargeBonus
		AttributeModifierDuration	= 10000
		ChargeAttackSpeedBoost		= Yes
		IgnoreFacingCheck			= Yes
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 4
	GeometryMinorRadius = 4
	GeometryHeight = 19.2
	GeometryIsSmall = No

    Shadow = SHADOW_VOLUME
    ShadowSizeX = 19;
    ShadowSizeY = 19;
    ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; aka Isengard Pike Man UrukPikeman UrukHaiPikeman

Object DwarvenPhalanx_Temp              ;BALANCE Isengard Pikeman
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BIUrukPit_Pikemen
  SelectPortrait         = UPIsenguard_UrukPikeman
  
  ;SelectPortrait         = SP_OrcAxe
  
  
Draw = W3DHordeModelDraw ModuleTag_01

	OkToChangeModelColor = Yes
	  
	StaticModelLODMode = Yes

    DefaultModelConditionState
      Model = DUPhalanx_Temp
    End

   	
	IdleAnimationState
		Animation = IDLA
			AnimationName		= DUPhalanx_Temp.DUPhalanx_Temp
			AnimationMode		= LOOP
			AnimationPriority	= 30
			AnimationBlendTime	= 15
		End
		StateName = Bored
	End
End
	  
  
  
  ; ***DESIGN parameters ***

  Side = Dwarves
  EditorSorting = UNIT
	ThreatLevel = 1.0
  ThingClass = HORDE_UNIT
  CommandPoints = 2

  TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
  
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardPikemanPike ;BALANCE Isengard Pikeman Weapon
	End
	
  ArmorSet
    Conditions      = None
    Armor           = PikemenArmor
    DamageFX        = NormalDamageFX
  End
  ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = PikemenHeavyArmor
		DamageFX        = NormalDamageFX	
  End

  	; This is required so that the build phase lasts as long as the anim.
	BuildFadeInOnCreateTime = 0 ; 2.0 ;temporarily set to 0

  VisionRange = VISION_STANDARD_MELEE
	VisionSide = 35%
	VisionRear = 25%
	VisionBonusPercentPerFoot = 2.0%
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

  BountyValue = ISENGARD_URUKPIKEMAN_BOUNTY_VALUE
  DisplayName = OBJECT:DwarvenPhalanx
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CrusherLevel = 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
 	CrushRevengeWeapon = AntiCavalryInfantryCrushRevenge

  CommandSet = IsengardPikemanCommandSet

 
  ; *** AUDIO Parameters ***;
    #include "..\Includes\StandardUnitEvaEvents.inc"



  ; *** ENGINEERING Parameters ***

  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP URUK ATTACK_NEEDS_LINE_OF_SIGHT
 

	Body					=	PorcupineFormationBodyModule ModuleTag_porcupineFormation
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth			=	ISENGARD_URUKPIKEMAN_HEALTH				;BALANCE Isengard Pikeman Health
		MaxHealthDamaged		=	ISENGARD_URUKPIKEMAN_HEALTH_DAMAGED		
		;RecoveryTime			=	ISENGARD_URUKPIKEMAN_HEALTH_RECOVERY_TIME	
		DamageWeaponTemplate		=	PikemenPorcupineDamage
		CrushDamageWeaponTemplate	=	PikemenPorcupineCrushDamage
		CrusherLevelResisted		=	1;	;What crusher level can I resist?: 1 = infantry, 2 = trees, 3 = vehicles
	End



	
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
	AILuaEventsList			   = IsengardFighterFunctions    
    MoodAttackCheckRate        = 500
    HoldGroundCloseRangeDistance = 80
    AttackPriority				= 	AttackPriority_Spearman
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = NORMAL_EVIL_FAST_MEMBER_SPEED		
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult				= 1.0
    ShockStunnedTimeLow		= 1400  ;msec
    ShockStunnedTimeHigh	= 2400 ;msec
    ShockStandingTime		= 2133 ;msec
  End
  

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie			;UrukWarriorVoiceDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Behavior = SlowDeathBehavior ModuleTag_07
    ; Same as normal death, but no sound (sound already played by SoundImpact = ... )
    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie
  End
 
  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 24
    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 70%
    TumbleRandomly = Yes

    CrushStyle = Yes ; I don't detonate, I just hit
    DieOnImpact = Yes
    BounceCount = 1   ; When I hit the ground, I'll arc again
    BounceDistance = 40 ; this far
    BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight = 24
    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX       = FX_ThrownRockGroundHit
    GroundBounceFX    = FX_ThrownRockBounceHit
  End

  Behavior = HordeMemberCollide ModuleTag_HMC
    ;nothing
  End
  

  Geometry = CYLINDER
  GeometryMajorRadius = 4
  GeometryMinorRadius = 4
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21;
  ShadowSizeY = 21;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; aka Ranger NoStealth
Object GondorRangerNoStealth

	; *** ART Parameters ***

	SelectPortrait         = UPGondor_Ranger
;	SelectPortrait         = SP_Gondor_Swordman

	Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor = Yes	
		StaticModelLODMode = Yes
		
		; specify options for static LODs
		LodOptions	= LOW
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions	= MEDIUM
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions	= HIGH
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
		End

;;=================== MODELS ============================================================
; --------- With Bow ------------
; Bah, must come first even though all the other bow stuff is below the sword stuff
		DefaultModelConditionState
			Model							= GURanger_SKNM
			WeaponLaunchBone				= PRIMARY ARROW
		End

		ModelConditionState				WEAPONSET_PLAYER_UPGRADE
			Model							= GURanger_SKNM
			WeaponLaunchBone				= PRIMARY ARROW
			WeaponLaunchBone				= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
			ParticleSysBone					= FireArowTip arrowFire FollowBone:Yes
			ParticleSysBone					= FireArowTip arrowFire FollowBone:Yes
		End
		
; -------- With Sword ------------

		ModelConditionState				WEAPONSET_TOGGLE_1
			Model							= GURanger_SKNM
		End

;;================== ANIMATIONS ==============================================================		
; -------- Falling and flying and dying ----------
		
		AnimationState						= STUNNED_STANDING_UP 
			Animation						= GTPA
				AnimationName				= GURanger_SKL.GURanger_GTPA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 0.7 1.1
			End
		End
		
		AnimationState						= PASSENGER
			Animation						= FLLA
				AnimationName				= GURanger_SKL.GURanger_FLLA
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
			StateName						= Bow
		End
		
		AnimationState						= THROWN_PROJECTILE
			Animation						= FLYA
				AnimationName				= GURanger_SKL.GURanger_FLYA
				AnimationMode				= LOOP
			End
		End

		AnimationState						= DYING SPLATTED
			Animation						= Splattered
				AnimationName				= GURanger_SKL.GURanger_LNDA
				AnimationMode				= ONCE
			End
		End

		AnimationState						= STUNNED 
			Animation						= Stun
				AnimationName				= GURanger_SKL.GURanger_LNDA
				AnimationMode				= ONCE
			End
		End

		AnimationState						= DYING
			Animation						= Die
				AnimationName				= GURanger_SKL.GURanger_DIEA
				AnimationMode				= ONCE
			End
		End
		
		
		
; --------- With Sword ------------
	
;		AnimationState						= MOVING DAMAGED WEAPONSET_TOGGLE_1
;			Animation						= STATE_Damaged_Walk_Sword
;				AnimationName				= GURanger_SKL.GURanger_IWKA
;				AnimationMode				= LOOP
;			End
;			Flags							= RANDOMSTART
;			StateName						= Sword
;			;ParticleSysBone				= None InfantryDustTrails
;			BeginScript
;				CurDrawableHideSubObject("arrow")
;				CurDrawableHideSubObject("arrownock")
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
;			EndScript
;		End
		
;		AnimationState						= MOVING ATTACKING WEAPONSET_TOGGLE_1
;			
;			StateName						= STATE_Run_Sword
;			
;			Animation						= RunWithSword
;				AnimationName				= GURanger_SKL.GURanger_RUNB
;				AnimationMode				= LOOP
;			End
;			
;			Flags							= RANDOMSTART
;			;ParticleSysBone				= None InfantryDustTrails
;			
;			BeginScript
;				CurDrawableHideSubObject("arrow")
;				CurDrawableHideSubObject("arrownock")
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
;			EndScript
;		End
		
		AnimationState						= MOVING WEAPONSET_TOGGLE_1
		
			StateName						= STATE_Run_Sword
		
			Animation						= RunWithSword
				AnimationName				= GURanger_SKL.GURanger_RUNB
				AnimationMode				= LOOP
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
			EndScript
		End

		AnimationState						= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
		
			StateName						= STATE_Idle_Sword ;;this is what they look like at the end of the animation
		
			Animation						= AttackWithSwordA
				AnimationName				= GURanger_SKL.GURanger_ATKA
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= AttackWithSwordB
				AnimationName				= GURanger_SKL.GURanger_ATKB
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
			EndScript
		End

		AnimationState						= DYING WEAPONSET_TOGGLE_1
		
			StateName						= STATE_Dead_Sword
			
			Animation						= DieWithSword
				AnimationName				= GURanger_SKL.GURanger_DIEB
				AnimationMode				= ONCE
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
			EndScript
		End
		
	

;---- Bow --------------------------------

		;;---- Bow Idle Animation State
		
		
		AnimationState						= MOVING BACKING_UP WEAPONSET_PLAYER_UPGRADE
			
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= BackingUp
				AnimationName				= GURanger_SKL.GURanger_RUNC
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End

		AnimationState						= MOVING DAMAGED WEAPONSET_PLAYER_UPGRADE
			
			StateName						= STATE_Damaged_Walk_Bow
		
			ShareAnimation					= Yes
			Animation						= InjuredWalk
				AnimationName				= GURanger_SKL.GURanger_IWKA
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		
		AnimationState						= MOVING PANICKING WEAPONSET_PLAYER_UPGRADE
		
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= RUNM
				AnimationName				= GURanger_SKL.GURanger_MFDA
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		
		AnimationState						= MOVING WEAPONSET_PLAYER_UPGRADE
			
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= Run
				AnimationName				= GURanger_SKL.GURanger_RUNA
				AnimationMode				= LOOP
                AnimationSpeedFactorRange	= .7 .7 ;
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		
		AnimationState						= MOVING BACKING_UP
			
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= BackingUp
				AnimationName				= GURanger_SKL.GURanger_RUNC
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART  
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End

;		AnimationState						= MOVING DAMAGED
;			
;			StateName						= STATE_Damaged_Walk_Bow
;		
;			ShareAnimation					= Yes
;			Animation						= InjuredWalk
;				AnimationName				= GURanger_SKL.GURanger_IWKA
;				AnimationMode				= LOOP
;			End
;			
;			Flags							= RANDOMSTART
;			
;			BeginScript
;				CurDrawableShowSubObject("arrow")
;				CurDrawableHideSubObject("arrownock")
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
;				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
;			EndScript
;		End
		
		AnimationState						= MOVING PANICKING
		
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= RUNM
				AnimationName				= GURanger_SKL.GURanger_MFDA
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		
		AnimationState						= MOVING
			
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= Run
				AnimationName				= GURanger_SKL.GURanger_RUNA
				AnimationMode				= LOOP
                AnimationSpeedFactorRange	= .7 .7 ;
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End

;---------------------------------------------------
		;New style firing
		AnimationState						= PREATTACK_A 
		
			StateName						= STATE_Firing
			
			Animation						= ReadyToDrawn
				AnimationName				= GURanger_SKL.GURanger_ATKD1
				AnimationMode				= ONCE
;				UseWeaponTiming				= Yes
				AnimationBlendTime			= 0
			End
		End

		AnimationState						= FIRING_A
		
			StateName						= STATE_Firing
			
			Animation						= OneFrameOfShooting
				AnimationName				= GURanger_SKL.GURanger_ATKD2
				AnimationMode				= MANUAL
			End
		End

		AnimationState						= RELOADING_A 
		
			StateName						= STATE_Firing
			
			Animation						= LooseReloadDraw
				AnimationName				= GURanger_SKL.GURanger_ATKD2
				AnimationMode				= ONCE
;				UseWeaponTiming				= Yes
			End
		End
		
		AnimationState						= CONTINUOUS_FIRE_MEAN
		
			StateName						= STATE_Firing
			
			Animation						= HangFrameWhileCoasting
				AnimationName				= GURanger_SKL.GURanger_ATKD2
				AnimationMode				= MANUAL
			End
		End
		
		AnimationState						= CONTINUOUS_FIRE_SLOW
		
			StateName						= STATE_Idle_Bow
			
			Animation						= PutAwayArrow
				AnimationName				= GURanger_SKL.GURanger_ATKD3
				AnimationMode				= ONCE
			End
		End
		
		;End New style firing
;---------------------------------------------------


; --------- Click and Hit Reactions ------------	
		AnimationState						= HIT_REACTION
			Animation						= Hit_Level_1_a
				AnimationName				= GURanger_SKL.GURanger_HITA
				AnimationMode				= ONCE
			End
		End


;;------------- EMOTIONS ------------------------------------------------
		AnimationState						= EMOTION_AFRAID WEAPONSET_TOGGLE_1
			ShareAnimation					= Yes
			Animation						= &&FEAR WITH SWORD&&
				AnimationName				= GURanger_SKL.GURanger_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= EMOTION_AFRAID
			ShareAnimation					= Yes
			StateName						= STATE_Afraid
			Animation						= FERA
				AnimationName				= GURanger_SKL.GURanger_FERA
				AnimationMode				= LOOP
			End
			Animation						= FERB
				AnimationName				= GURanger_SKL.GURanger_FERB
				AnimationMode				= LOOP
			End
		End
		
		AnimationState						= EMOTION_TAUNTING WEAPONSET_TOGGLE_1
			Animation						= &&TAUNT WITH SWORD&&
				AnimationName				= GURanger_SKL.GURanger_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= EMOTION_TAUNTING
			ShareAnimation					= Yes
			Animation						= Taunting
				AnimationName				= GURanger_SKL.GURanger_TNTA
				AnimationMode				= ONCE
			End
			Animation						= Taunting2
				AnimationName				= GURanger_SKL.GURanger_TNTB
				AnimationMode				= ONCE
			End
			Flags							= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState						= EMOTION_POINTING WEAPONSET_TOGGLE_1
			Animation						= &&POINT WITH SWORD&&
				AnimationName				= GURanger_SKL.GURanger_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= EMOTION_POINTING
			Animation						= Pointing1
				AnimationName				= GURanger_SKL.GURanger_PNTA
				AnimationMode				= LOOP
			End
		End

		AnimationState						= EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
			Animation						= &&CHEER WITH SWORD&&
				AnimationName				= GURanger_SKL.GURanger_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= EMOTION_CELEBRATING
			ShareAnimation					= Yes
			Animation						= CHRA
				AnimationName				= GURanger_SKL.GURanger_CHRA
				AnimationMode				= Once
			End
			Animation						= CHRB
				AnimationName				= GURanger_SKL.GURanger_CHRB
				AnimationMode				= Once
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState						= EMOTION_ALERT
			Animation						= IdleBowA
				AnimationName				= GURanger_SKL.GURanger_IDLA 
				AnimationMode				= ONCE
			End
		End
	;--------- selected animation -----------------------------
	
		AnimationState						= SELECTED WEAPONSET_TOGGLE_1
			StateName						= STATE_Idle_Sword
			
			Animation						= SwordIdle
				AnimationName				= GURanger_SKL.GURanger_IDLB
				AnimationMode				= LOOP
			End
		End
		AnimationState						= SELECTED
			StateName						= STATE_Idle_Bow
			
			Animation						= selected
				AnimationName				= GURanger_SKL.GURanger_IDLA 
				AnimationMode				= ONCE
			End
		End

	;;---- Idle Animation State ---------------------------------------
		AnimationState						= WEAPONSET_TOGGLE_1
		
			StateName						= STATE_Idle_Sword
			
			Animation						= SwordIdle
				AnimationName				= GURanger_SKL.GURanger_IDLB
				AnimationMode				= LOOP
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
			EndScript
		End
		AnimationState						= WEAPONSET_PLAYER_UPGRADE
			
			StateName						= STATE_Idle_Bow
		
			Animation						= IdleBow
				AnimationName				= GURanger_SKL.GURanger_IDLA 
				AnimationMode				= LOOP
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		IdleAnimationState
			StateName						= STATE_Idle_Bow

			Animation						= IdleBowG
				AnimationName				= GURanger_SKL.GURanger_IDLG
				AnimationMode				= ONCE
			End

			Animation						= IdleBowF
				AnimationName				= GURanger_SKL.GURanger_IDLF 
				AnimationMode				= ONCE
			End
			
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end	
			EndScript
		End

;---transitions--------------------------------------------
		TransitionState						= TRANS_Bow_To_Sword
			Animation						= DrawSwords
				AnimationName				= GURanger_SKL.GURanger_STHA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 0.9 1.1
			End
		End

		TransitionState						= TRANS_Sword_To_Bow
			Animation						= DrawBow
				AnimationName				= GURanger_SKL.GURanger_STHB
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 0.9 1.1
			End
		End
	End
	
	
	; ***DESIGN parameters ***
	Side = Men
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 1
	BountyValue = GONDOR_RANGER_BOUNTY_VALUE

	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GondorRangerBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1
		Weapon = PRIMARY    GondorRangerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = RangerArmor
		DamageFX        = NormalDamageFX
	End
	
;	ArmorSet
;		Conditions      = PLAYER_UPGRADE
;		Armor           = HeavyArmor
;		DamageFX        = NormalDamageFX
;	End
	
	VisionRange = VISION_STANDARD_MELEE
	VisionSide = 35%
	VisionRear = 25%
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

	DisplayName = OBJECT:GondorRanger
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrushRevengeWeapon = RangedInfantryCrushRevenge
	
	CommandSet = GondorRangerCommandSet


  ; *** AUDIO Parameters ***;

	VoiceAttack					= RangerVoiceAttack
	VoiceAttackAir				= RangerVoiceAttack				
	VoiceAttackCharge				= RangerVoiceAttack
	VoiceAttackMachine			= RangerVoiceAttack
	VoiceAttackStructure			= RangerVoiceAttackBuilding
	VoiceEnterStateAttack			= RangerVoiceEnterStateAttack	
	VoiceEnterStateAttackCharge		= RangerVoiceEnterStateAttack
	VoiceEnterStateAttackMachine		= RangerVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure	= RangerVoiceEnterStateAttackBuilding
	VoiceCreated				= RangerVoiceSalute
	VoiceFullyCreated 			= RangerVoiceSalute		
	VoiceGuard					= RangerVoiceMove
	VoiceMove					= RangerVoiceMove		
	VoiceMoveToCamp				= RangerVoiceMoveCamp
	VoiceMoveWhileAttacking			= RangerVoiceDisengage
	VoiceEnterStateMove			= RangerVoiceEnterStateMove
	VoiceEnterStateMoveToCamp		= RangerVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking	= RangerVoiceEnterStateDisengage
	VoicePriority				= 43
	VoiceRetreatToCastle			= RangerVoiceRetreat
	VoiceEnterStateRetreatToCastle	= RangerVoiceEnterStateRetreat
	VoiceSelect					= RangerVoiceSelectMS		;GondorArcherVoiceSelect
	VoiceSelectBattle 			= RangerVoiceSelectBattle	;GondorArcherVoiceSelect ;GondorArcherVoiceSelectBattle

	SoundImpact					= ImpactHorse

	UnitSpecificSounds
		VoiceGarrison			= RangerVoiceGarrison              
	End

    #include "..\includes\StandardUnitEvaEvents.inc"

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU			; Tie into LargeGroupAudio system
		Key = Human Unit Infantry Ranger
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:ArrowDrawBow					Animation:GURanger_SKL.GURanger_ATKD1	Frames:7
		AnimationSound = Sound:ArrowDrawBow					Animation:GURanger_SKL.GURanger_ATKD2	Frames:17

		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:GURanger_SKL.GURanger_STHA 	Frames:10
		AnimationSound = Sound:SwordIntoScabbard1ForHordes		Animation:GURanger_SKL.GURanger_STHB 	Frames:6

		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GURanger_SKL.GURanger_LNDA	Frames:4
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GURanger_SKL.GURanger_LNDB	Frames:5

		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GURanger_SKL.GURanger_DIEA	Frames:50
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GURanger_SKL.GURanger_DIEB	Frames:51
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = GONDOR_RANGER_HEALTH                  ;BALANCE Ranger Health
		MaxHealthDamaged  = GONDOR_RANGER_HEALTH_DAMAGED
		;RecoveryTime      = GONDOR_RANGER_HEALTH_RECOVERY_TIME
	End
	
	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTag
		TriggeredBy = Upgrade_GondorFireArrows
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		StopChaseDistance = 562
		MoodAttackCheckRate        = 500
		HoldGroundCloseRangeDistance = 40
		CanAttackWhileContained    = Yes
		AILuaEventsList				=	RangerFunctions
		MinCowerTime				=	4000
		MaxCowerTime				=	6000
		AttackPriority				= 	AttackPriority_Archer
	End
	
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	Behavior = DualWeaponBehavior ModuleTag_13
		SwitchWeaponOnCloseRangeDistance = 24
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 15000
		Sound = INITIAL HumanVoiceDie ;RangerVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 15000
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; To tweak a Bezier path
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 4
	GeometryMinorRadius = 4
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19;
    ShadowSizeY = 19;
    ShadowTexture = ShadowI;
End

; aka Rohan Archer Yeoman
Object RohanArcher
	; *** ART Parameters ***
	UpgradeCameo1						=	Upgrade_RohanFireArrows
	;SelectPortrait						=	SP_Gondor_Swordman
;	SelectPortrait						=	UPRohan_YeomanArcher
	
	Draw	=	W3DHordeModelDraw ModuleTag_01

		OkToChangeModelColor = Yes
	  
		;	---Test entry for the time of day texture swap test---
		;	TimeOfDayTexture = twwater01.tga AFTERNOON 0 ROHANWARRIOR01
			
		;	RandomTexture = guarcher.tga 0
		;	RandomTexture = twwater01.tga 0
		;	RandomTexture = rbgen01.tga 0

		StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		; specify options for static LODs
		LodOptions	= LOW
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions	= MEDIUM
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions	= HIGH
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
		End

		ParticlesAttachedToAnimatedBones = yes

; --------- With Bow ------------
		DefaultModelConditionState
			Model						=	RUArcher_SKN
			Skeleton					=   GUArcher_SKL
			WeaponLaunchBone			=	PRIMARY ARROW
			WeaponLaunchBone			=	SECONDARY ARROWNOCK	; when upgraded to flaming arrow
		End
		
; --------- With Bow Upgrade  ------------

		ModelConditionState WEAPONSET_PLAYER_UPGRADE
			Model						=	RUArcher_SKN
			Skeleton					=   GUArcher_SKL
			WeaponLaunchBone			=	PRIMARY ARROW
			WeaponLaunchBone			=	SECONDARY ARROWNOCK	; when upgraded to flaming arrow
;			ParticleSysBone				=   FireArowTip arrowFire FollowBone:Yes
;			ParticleSysBone				=   FireArowTip arrowFire FollowBone:Yes
		End
		
;----------- Default Idle animations -------
		IdleAnimationState
			StateName					=   STATE_Idle
			Animation = IdleA
				AnimationName			=	GUArcher_IDLA 
				AnimationPriority		=	6
				AnimationSpeedFactorRange = 0.7 1.3
			End
			;*** Repeat IDLA because animation priorities will not choose same animation twice so it can alternate between first two mostly.
			Animation = IdleA	
				AnimationName			=	GUArcher_IDLA 
				AnimationPriority		=	6
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation = IdleH
				AnimationName			=	GUArcher_IDLH
				AnimationPriority		=	1
				AnimationSpeedFactorRange = 0.7 1.3
				AnimationBlendTime		= 8
			End
			Animation = IdleI
				AnimationName			=	GUArcher_IDLI
				AnimationPriority		=	1
				AnimationSpeedFactorRange = 0.7 1.3
				AnimationBlendTime		= 8
			End
			Animation = IdleJ
				AnimationName			=	GUArcher_IDLJ
				AnimationPriority		=	1
				AnimationSpeedFactorRange = 0.7 1.3
				AnimationBlendTime		= 8
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
				CurDrawableShowSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
;----------- Flying through air -------
		AnimationState						= PASSENGER
			Animation						= FLLA
				AnimationName				= GUArcher_FLLA
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
		
		AnimationState        = THROWN_PROJECTILE
			Animation           = FLYA
				AnimationName     = GUArcher_FLYA
				AnimationMode     = LOOP
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
		AnimationState						= FREEFALL
			Animation						= Falling
				AnimationName				= GUArcher_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange	= 0.35	0.35
			End
		End
		
		AnimationState					=	STUNNED_FLAILING 
			Animation					=	StunFlail
				AnimationName			=	GUArcher_FLLA 
				AnimationMode			=	LOOP
			End
			Flags						=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
		

;----------- Dying -------
		AnimationState					=	DYING SPLATTED
			Animation					=	Fire
				AnimationName			=	GUArcher_LNDA 
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
            EnteringStateFX = FX_SoldierHitGround
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

		AnimationState					=	DYING AFLAME
			Animation					=	Fire
				AnimationName			=	GUArcher_MFDA 
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation					=	Fire
				AnimationName			=	GUArcher_MFDB 
				AnimationSpeedFactorRange = 0.9 1.1
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

		AnimationState					=	DYING
			Animation					=	Die2
				AnimationName			=	GUArcher_DIEB 
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation					=	Die3
				AnimationName			=	GUArcher_DIED 
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

;------ Stunned anims -----------
		AnimationState					=	STUNNED_STANDING_UP 
			Animation					=	GTPA
				AnimationName			=	GUArcher_GTPA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

		

		AnimationState					=	STUNNED 
			Animation					=	StunFlail
				AnimationName			=	GUArcher_LNDA 
				AnimationMode			=	ONCE
			End
            EnteringStateFX = FX_SoldierHitGround
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

;------- Close range melee fighting ------------
		AnimationState					=	FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
			Animation					=	ATKD
				AnimationName			=	GUArcher_ATKD
				AnimationMode			=	ONCE
				UseWeaponTiming			=	Yes
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

;------- New Style Archery --------------------------------------------
		AnimationState					=	PREATTACK_A 
			StateName					=	STATE_Firing
			Animation					=	ReadyToDrawn
				AnimationName			=	GUArcher_ATKF1
				AnimationMode			=	ONCE
;				UseWeaponTiming			=	NoNONONOO!!!	; UseWeaponTiming plus random weapon field equals desync.  Leaving as warning
				AnimationBlendTime		=	10
			End
			BeginScript
				CurDrawableShowSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

		AnimationState					=	FIRING_OR_RELOADING_A 
			StateName					=	STATE_Firing
			Animation					=	LooseReloadDraw
				AnimationName			=	GUArcher_ATKF2
				AnimationMode			=	ONCE
;				UseWeaponTiming			=	NoNONONOO!!!	; Left in as reminder why not to use: UseWeaponTiming does not work for archers. Do not attempt to use this!
				AnimationSpeedFactorRange = 1.1 1.1			; Therefore, this is all you get.  A slight speed up so that the animation can always finish before any possible random value Design sets the range for
				AnimationBlendTime		=	0				; Blend time needs to be zero or else the arrow subobject lingers length of blend.
			End
			BeginScript
				CurDrawableShowSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

	
;;========= TERROR
		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			Animation					= TerrorFromTheSky
				AnimationName			= GUArcher_RUNC
				AnimationMode			= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

;;========= BACKING UP
		AnimationState				=	MOVING BACKING_UP
			Animation				=	BackingUp
				AnimationName		=	GUArcher_BAKA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

;;========= MOVING

		AnimationState					=	MOVING ATTACKING
			Animation					=	AMove
				AnimationName			=	GUArcher_RUNB 
				AnimationMode			=	LOOP
				Distance				=	28
			End
			Flags						=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
		AnimationState					=	MOVING WANDER
			Animation					=	Wander1
				AnimationName			=	GUArcher_WLKA 
			End
			Animation					=	Wander2
				AnimationName			=	GUArcher_WLKB ;20
			End
			Flags						=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

		AnimationState					=	MOVING
			Animation					=	Move
				AnimationName			=	GUArcher_RUNA 
				AnimationMode			=	LOOP
				Distance				=	28
			End
			Flags						=	RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

;-------- Persistant firing (keep bow drawn ) ------------
		AnimationState					= CONTINUOUS_FIRE_MEAN
			StateName					=	STATE_Firing
			Animation					=	HangFrameWhileCoasting
				AnimationName			=	GUArcher_ATKF2
				AnimationMode			=	MANUAL
			End
			BeginScript
				CurDrawableShowSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
		AnimationState						= CONTINUOUS_FIRE_SLOW
			StateName						= STATE_Idle
			Animation						= PutAwayArrow
				AnimationName				= GUArcher_ATKF3
				AnimationMode				= ONCE
			End
			BeginScript
				CurDrawableShowSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
;------------ HIT REACTION -----------------------------------------------------
		AnimationState = HIT_REACTION
			Animation = Hit_Level_1_a
				AnimationName = GUArcher_HITA
				AnimationMode = ONCE
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
;--------------------- EMOTIONS -----------------------------

;;======= TERROR

		AnimationState					= EMOTION_AFRAID
			Animation					= FERA
				AnimationName			= GUArcher_FERA
				AnimationMode			= LOOP
			End
			Animation					= FERB
				AnimationName			= GUArcher_FERB
				AnimationMode			= LOOP
			End
			Animation					= FERC
				AnimationName			= GUArcher_FERC
				AnimationMode			= LOOP
			End
			Animation					= FERD
				AnimationName			= GUArcher_FERD
				AnimationMode			= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
;;======= CELEBRATING

		AnimationState					= EMOTION_CELEBRATING
			Animation					= CHRB
				AnimationName			= GUArcher_CHRB
				AnimationMode			= Once
				AnimationBlendTime		= 15
				AnimationPriority		= 2
			End
			Animation					= SLTA
				AnimationName			= GUArcher_SLTA
				AnimationMode			= Once
				AnimationBlendTime		= 15
				AnimationPriority		= 2
			End
			Animation					= CHRA
				AnimationName			= GUArcher_CHRA
				AnimationMode			= Once
				AnimationBlendTime		= 15		
				AnimationPriority		= 1;Use least often of cheers (Eugene)
			End
			Flags						=	RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
;;======== TAUNTING

		AnimationState					= EMOTION_TAUNTING
			Animation					= Taunting2
				AnimationName			= GUArcher_IDLE
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Animation					= Taunting3
				AnimationName			= GUArcher_IDLF
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Animation					= Taunting4
				AnimationName			= GUArcher_IDLG
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End

			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

;;======== POINTING

		AnimationState						= EMOTION_POINTING
			ShareAnimation					= Yes
			Animation						= pointing
				AnimationName				= GUArcher_PNTA
				AnimationPriority			= 2
				AnimationSpeedFactorRange	= 0.9 1.1
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		

;;======== ALERT
		
		AnimationState					= EMOTION_ALERT
			Animation					= Ready
				AnimationName			= GUArcher_IDLA
				AnimationMode			= LOOP
				AnimationPriority		= 3
				AnimationBlendTime		= 15
			End
			Animation					= Ready
				AnimationName			= GUArcher_IDLA
				AnimationMode			= LOOP
				AnimationPriority		= 3
				AnimationBlendTime		= 15
			End
			Animation					= Point
				AnimationName			= GUArcher_PNTA
				AnimationMode			= LOOP
				AnimationPriority		= 1
				AnimationBlendTime		= 15
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

; Turn off fire arrow visuals -- will be redone like Peasant drafting.
;;----------------- FIRE ARROW UPGRADE --------------------------------------------
		AnimationState        =  USER_4 ;Fire arrow upgrade
			Animation = IdleB
				AnimationName			=	GUArcher_IDLB 
				AnimationPriority		=	2 ;10
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation = IdleC
				AnimationName			=	GUArcher_IDLC
				AnimationPriority		=	1 ;5
				AnimationSpeedFactorRange = 0.7 1.3
			End
			Animation = IdleD
				AnimationName			=	GUArcher_IDLD
				AnimationPriority		=	1 ;5
				AnimationSpeedFactorRange = 0.7 1.3
			End
			BeginScript
				CurDrawableShowSubObject("ArrowNock")
				CurDrawableShowSubObject("FireArowTip")
				CurDrawableHideSubObject("arrow")
			EndScript
			StateName           = Bow
		End

;;----------------- SELECTED --------------------------------------------
		AnimationState					=	SELECTED
			StateName					=	STATE_Selected
			Animation					=	ATNB
				AnimationName			=	GUArcher_ATNB
				AnimationMode			=	LOOP
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation					=	IDLA
				AnimationName			=	GUArcher_IDLA 
				AnimationPriority		=	10
				AnimationSpeedFactorRange = 0.7 1.3
			End

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" 
				then 
					CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") 
				end
				if CurDrawableModelcondition("ATTACKING")
				then
					return "IDLA"
				else
					return "ATNB"
				end
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
	
;;----------------- Transitions ------------------------------------------------------
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	GUArcher_ATNA
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 0.8 1.2
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		TransitionState					=	TRANS_Selected_To_Idle
			Animation					=	ATNC
				AnimationName			=	GUArcher_ATNC
				AnimationMode			=	ONCE
				AnimationSpeedFactorRange = 1.0 2.0 ;Kind of a slow animation
			End
			BeginScript
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
	End

	; ***DESIGN parameters ***
	Side = Obsolete
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 3
	
	CommandSet = RohanArcherCommandSet

	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    RohanArcherBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY   RohanArcherBowMelee
	End
	ArmorSet
		Conditions      = None
		Armor           = ArcherArmor
		DamageFX        = NormalDamageFX
	End
	
	ArmorSet
		Conditions		= PLAYER_UPGRADE
		Armor			= ArcherHeavyArmor
		DamageFX		= NormalDamageFX
	End
	
	BountyValue = ROHAN_YEOMAN_BOUNTY_VALUE

	VisionRange = ROHAN_YEOMAN_VISION_RANGE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD			

	DisplayName = OBJECT:RohanArcher
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrushRevengeWeapon = RangedInfantryCrushRevenge
	

	; *** AUDIO Parameters ***;

	;VoiceAmbushed 				= YeomanArcherVoiceAmbushed 	  OBSOLETE VOICE
	VoiceAttack 				= YeomanArcherVoiceAttack
	VoiceAttackAir				= YeomanArcherVoiceAttack
	VoiceAttackCharge 			= YeomanArcherVoiceAttackCharge
	VoiceAttackStructure 			= YeomanArcherVoiceAttackBuilding
	VoiceAttackMachine 			= YeomanArcherVoiceAttack
	VoiceCreated 				= YeomanArcherVoiceSalute
	VoiceFullyCreated			= YeomanArcherVoiceSalute
	VoiceMove 				= YeomanArcherVoiceMove
	VoiceMoveToCamp 			= YeomanArcherVoiceMoveCamp
	VoiceMoveWhileAttacking 		= YeomanArcherVoiceDisengage
	VoiceRetreatToCastle 			= YeomanArcherVoiceRetreat
	VoicePriority				= 45
	VoiceSelect 				= YeomanArcherVoiceSelectMS
	VoiceSelectBattle  			= YeomanArcherVoiceSelectBattle
	
	VoiceEnterStateAttack 			= YeomanArcherVoiceEnterStateAttack
	VoiceEnterStateAttackCharge 		= YeomanArcherVoiceEnterStateAttackCharge
	VoiceEnterStateAttackStructure 		= YeomanArcherVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackMachine 		= YeomanArcherVoiceEnterStateAttackBuilding
	VoiceEnterStateMove 			= YeomanArcherVoiceEnterStateMove
	VoiceEnterStateMoveToCamp 		= YeomanArcherVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking	= YeomanArcherVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle 		= YeomanArcherVoiceEnterStateRetreat
	VoiceGuard			= YeomanArcherVoiceMove
	

	SoundImpact				= ImpactHorse

	UnitSpecificSounds
		VoiceGarrison         		= YeomanArcherVoiceGarrison
	End

    #include "..\includes\StandardUnitEvaEvents.inc"

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUArcher_SKL.GUArcher_DIEB	Frames:19
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUArcher_SKL.GUArcher_DIED	Frames:53
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUArcher_SKL.GUArcher_LNDA	Frames:1
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:GUArcher_SKL.GUArcher_LNDA	Frames:14
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ARCHER GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT ;GRAB_AND_KILL
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = ROHAN_YEOMAN_HEALTH				;BALANCE Archer Health
		MaxHealthDamaged  = ROHAN_YEOMAN_HEALTH_DAMAGED			
		;RecoveryTime      = ROHAN_YEOMAN_HEALTH_RECOVERY_TIME		
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		CanAttackWhileContained		= Yes
		AILuaEventsList				= RohanArcherFunctions
		AttackPriority				= 	AttackPriority_Archer
	End
	
	Behavior = ArmorUpgrade ModuleTag_ArmorUpgrade
		TriggeredBy = Upgrade_RohanHeavyArmorForArchers
		ArmorSetFlag = PLAYER_UPGRADE
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End

	Behavior = AimWeaponBehavior AimWeaponModuleTag
		AimLowThreshold  = -0.15
		AimHighThreshold =  0.15
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL
		SinkDelay = 3000
		SinkRate = 0.600     ; in Dist/Sec
		DestructionDelay = 12000
		Sound = INITIAL YeomanArcherVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	; RohanArcher
	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End
	
	Behavior = BezierProjectileBehavior ModuleTag_07 ; Module starts asleep, and wakes up when thrown.
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_08
		TriggeredBy = Upgrade_RohanFireArrows
		; Turn off fire arrow visuals -- will be redone like Peasant drafting.
		;CustomAnimAndDuration   = AnimState:USER_4 AnimTime:0 TriggerTime:0 ;set flag forever		
	End

	;--------------------------------------------------------------------------
	;
	;	Sub object upgrades.
	;
  	
  	Behavior = SubObjectsUpgrade Armor_Upgrade
  		TriggeredBy		= Upgrade_RohanHeavyArmorForArchers
  		UpgradeTexture	= RUArcher.tga 0 RUArcherHA.tga
  		UpgradeTexture	= RUArcher_M.tga 0 RUArcherHA.tga
  		ShowSubObjects	= ARMOR
 		RecolorHouse	= Yes
		ExcludeSubobjects = FireArowTip
  	End
  	
  	Behavior = SubObjectsUpgrade FireArrows_Upgrade
  		TriggeredBy		= Upgrade_RohanFireArrows
  		ShowSubObjects	= FireArowTip ArrowNock			; yes, it's a typo.
  		HideSubObjects	= arrow
  	End
	
	;--------------------------------------------------------------------------

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry Rohan_Archer
	End
	
;	Behavior = DualWeaponBehavior ModuleTag_09
;		SwitchWeaponOnCloseRangeDistance = 40
;	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 1993 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2 = 1993 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3 = 1993 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1 = 5.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger

		FastHitsResetReaction = Yes    ;If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
; aka WorkerRohan, Peasant, Laborer
Object RohanWorker
	; *** ART Parameters ***

	Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
	  StaticModelLODMode = Yes
	  
		DefaultModelConditionState
			Model               = GUWorker_SKN
			Skeleton            = GUWorker_SKL
		End

		IdleAnimationState
			Animation           = IDLA
				AnimationName     = GUWorker_IDLA
				AnimationMode     = ONCE
			End
		End
	
		AnimationState          = DYING DEATH_1
			Animation
				AnimationName   = GUWorker_DIEA
				AnimationMode   = ONCE
			End
		End
	
		AnimationState          = DYING DEATH_2
			Animation
				AnimationName   = GUWorker_IDLA
				AnimationMode   = LOOP
			End
		End

		AnimationState          = MOVING
			Animation           = WLKA
				AnimationName     = GUWorker_WLKA
				AnimationMode     = LOOP
				AnimationSpeedFactorRange = 1.4 1.4
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End


		AnimationState = ACTIVELY_CONSTRUCTING DEPLOYED ; building from too far to smack his hammer
			Animation				=	Stand
				AnimationName		=	GUWorker_IDLA 
				AnimationMode		=	LOOP
			End
		End


		AnimationState        = ACTIVELY_CONSTRUCTING
			Animation           = WRKA
				AnimationName     = GUWorker_WRKA
				AnimationMode     = ONCE
				AnimationPriority	=	30
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation           = WRKA
				AnimationName     = GUWorker_WRKA
				AnimationMode     = ONCE
				AnimationPriority	=	30
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation           = WRKA2
				AnimationName     = GUWorker_WRKA
				AnimationMode     = ONCE
				AnimationPriority	=	5
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Animation           = WRKB
				AnimationName     = GUWorker_WRKB
				AnimationMode     = ONCE
				AnimationPriority	=	5
				AnimationSpeedFactorRange = 0.9 1.1
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
	End
	
	; ***DESIGN parameters ***
	Side = Obsolete
	EditorSorting = UNIT
	ThreatLevel = 1.0
	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 120.0
	DisplayName = OBJECT:RohanWorker
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrushRevengeWeapon = BasicInfantryCrushRevenge
	
	CommandPoints = 0

;	CommandSet = GondorWorkerCommandSet


	; *** AUDIO Parameters ***;

	VoiceMove			= NoSound
	VoicePriority			= 12
	VoiceSelect			= NoSound
	
	SoundImpact = ImpactHorse
	
	;UnitSpecificSounds
	;	VoiceGarrison         = NoSound
	;	VoiceEnter            = NoSound
	;	VoiceEnterHostile     = NoSound
	;	VoiceGetHealed        = NoSound
	;End

	; Example of how to get unit-died Eva event
	;EvaEventDieOwner = WorkerDie			;Eva event to trigger on unit's death.
	; Example of hopw to get unit-damaged Eva event
	;EvaEventDamagedOwner = WorkerDamaged		;Eva event to trigger when unit is damaged
    #include "..\Includes\StandardUnitEvaEvents.inc"

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER GRAB_AND_DROP SWARM_DOZER
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = 999999                  ;BALANCE Townsman Health huge so they can't be killed.
		MaxHealthDamaged  = 999999
		;RecoveryTime      = 5000
	End
	
	Behavior = WorkerAIUpdate ModuleTag_10
		RepairHealthPercentPerSecond  = 0.3%    ; % of max health to repair each second
		BoredTime                     = 1000  ; in milliseconds
		BoredRange                    = 120   ; when bored, we look this far away to do something 
		AttackPriority				= 	AttackPriority_Infantry
		SpecialContactPoints		   = Repair
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End
	
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED
		DeathFlags = DEATH_1
		SinkDelay = 2000
		SinkRate = 1.20     ; in Dist/Sec
		DestructionDelay = 6000
	End
	
	Behavior = SlowDeathBehavior ModuleTag_ConstructionDeath
		DeathTypes = NONE +FADED
		DeathFlags = DEATH_2
		FadeDelay = 500
		FadeTime = 3500
		DestructionDelay = 4500
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 16  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 16
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: GondorMasonHammering Animation:GUWorker_SKL.GUWorker_WRKA Frames: 4 
    End
	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;
End

ChildObject RohanWorkerNoSelect RohanWorker
	KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER DOZER SWARM_DOZER NOT_AUTOACQUIRABLE MOVE_FOR_NOONE
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_IMMUNE
End





; aka Rohan Elven Warrior
Object RohanElvenWarrior
	; ***ART Parameters ***

	SelectPortrait         = UPElven_LorienWarrior

	Draw = W3DHordeModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    LodOptions							= LOW
		AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
		MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
		MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
		MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
	End
	
	LodOptions							= MEDIUM
		AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
		MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
		MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
		MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
	End
	
	LodOptions							= HIGH
		AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
		MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
		MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
		MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
	End
    
;;====================== MODELS ================================================================
		DefaultModelConditionState
			Model						= RUElfWar_SKN
			Skeleton					= RUElfWar_SKL
			WeaponLaunchBone			= PRIMARY ARROW
			WeaponLaunchBone			= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
		End

; --------- With Sword ------------
		ModelConditionState				= WEAPONSET_TOGGLE_1
			Model						= RUElfWar_SKN
			Skeleton					= RUElfWar_SKL
		End

; --------- With Fire arrows Upgrade  ------------
		ModelConditionState				= WEAPONSET_PLAYER_UPGRADE USER_4
			Model						= RUElfWar_SKN
			Skeleton					= RUElfWar_SKL
			WeaponLaunchBone			= PRIMARY ARROW
			WeaponLaunchBone			= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
		;	ParticleSysBone				= FireArowTip arrowFire FollowBone:Yes
		;	ParticleSysBone				= FireArowTip arrowFire FollowBone:Yes
		End

;;================== ANIMATIONS =================================================================

		; ------ Flying ------- ;
		
		AnimationState					= PASSENGER WEAPONSET_TOGGLE_1
			StateName					= STATE_Grabbed
			Animation					= Sword
				AnimationName			= RUElfWar_FLLA
				AnimationMode			= LOOP
			End
		End
		
		AnimationState					= PASSENGER
			StateName					= STATE_Grabbed
			Animation					= Bow
				AnimationName			= RUElfWar_FLLB
				AnimationMode			= LOOP
			End
		End
		
		AnimationState					= FREEFALL WEAPONSET_TOGGLE_1
			StateName					= STATE_Falling
			Animation					= Sword
				AnimationName			= RUElfWar_FLYB
				AnimationMode			= LOOP
				AnimationBlendTime		= 10
				AnimationSpeedFactorRange	= 0.24	0.24
			End
		End
		
		AnimationState					= FREEFALL
			StateName					= STATE_Falling
			Animation					= Bow
				AnimationName			= RUElfWar_FLYA
				AnimationMode			= LOOP
				AnimationBlendTime		= 10
				AnimationSpeedFactorRange	= 0.5	0.5
			End
		End
		
		AnimationState        			= STUNNED_FLAILING WEAPONSET_TOGGLE_1
			StateName					= STATE_Fly
			Animation           		= Sword
				AnimationName       	= RUElfWar_FLYB
				AnimationMode       	= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES2
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "Ready_Bow" or PrevState == "Moving_Bow" or PrevState == "Bored_Bow"								;;;;;;#TODO put in various bow states here
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				elseif PrevState == "STATE_Fly"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
					
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End

		AnimationState        			= STUNNED_FLAILING
			StateName					= STATE_Fly
			Animation
				AnimationName       	= RUElfWar_FLYA
				AnimationMode       	= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES2
		End
		
		AnimationState					= DYING DEATH_1 SPLATTED WEAPONSET_TOGGLE_1
			StateName					= STATE_Dead
			Animation					= Sword
				AnimationName			= RUElfWar_LNDB
				AnimationMode			= ONCE
			End
		End
		
		AnimationState					= DYING DEATH_1 SPLATTED
			StateName					= STATE_Dead
			Animation					= Bow
				AnimationName			= RUElfWar_LNDA
				AnimationMode			= ONCE
			End
		End
		
				; ------ Dying ------- ;

		AnimationState        			= DYING DEATH_1 WEAPONSET_TOGGLE_1
			Animation           		= Sword1
				AnimationName       	= RUElfWar_DIESv5
				AnimationMode       	= ONCE
			End
			Animation           		= Sword2
				AnimationName       	= RUElfWar_DIESV4
				AnimationMode       	= ONCE
			End
			Animation           		= WantSword
				AnimationName       	= RUElfWar_LNDA
				AnimationMode       	= ONCE
			End
			
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				end
			
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if GetClientRandomNumberReal(0,2) < 1
				then
					return "Sword1"
				else
					return "Sword2"
				end
			EndScript
		End
		
		AnimationState        			= DYING DEATH_2 WEAPONSET_TOGGLE_1
			Animation           		= FadeOut
				AnimationName       	= RUElfWar_IDLG
				AnimationMode       	= LOOP
			End
		End
		
		AnimationState        			= DYING DEATH_1
			Animation           		= Bow1
				AnimationName       	= RUElfWar_DIEB
				AnimationMode       	= ONCE
			End
			Animation           		= Bow2
				AnimationName       	= RUElfWar_DIEBV5
				AnimationMode       	= ONCE
			End
			Animation           		= WantBow
				AnimationName       	= RUElfWar_LNDB
				AnimationMode       	= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				
				if PrevState == "STATE_Fly"
				then
					CurDrawableHideSubObject("ArrowNock")
					CurDrawableHideSubObject("arrow")
					return "WantBow"
				end
				
				if GetClientRandomNumberReal(0,2) < 1
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow1"
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow2"
				end
			EndScript
		End
		
		AnimationState        			= DYING DEATH_2
			Animation					= FadeOut
				AnimationName			= RUElfWar_IDLDX1
				AnimationMode			= ONCE
			End
		End
		

		AnimationState        			= STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
			StateName					= STATE_GetUp
			Animation           		= Sword
				AnimationName       	= RUElfWar_GTPSX1
				AnimationMode       	= ONCE
			End
			Animation           		= WantSword
				AnimationName       	= RUElfWar_GTPB
				AnimationMode       	= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then	
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End
		
		
		
		AnimationState        			= STUNNED_STANDING_UP
			StateName					= STATE_GetUp
			Animation           		= Bow
				AnimationName       	= RUElfWar_GTPB
				AnimationMode       	= ONCE
			End
			Animation           		= WantBow
				AnimationName       	= RUElfWar_GTPSX1
				AnimationMode       	= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow"
				end
			EndScript
		End

		AnimationState        			= STUNNED WEAPONSET_TOGGLE_1
			StateName					= STATE_Land
			Animation           		= Sword
				AnimationName       	= RUElfWar_LNDB
				AnimationMode       	= ONCE
			End
			Animation           		= WantSword
				AnimationName       	= RUElfWar_LNDA
				AnimationMode       	= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantSword" or PrevAnim == "Bow"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				Flags						= MAINTAIN_FRAME_ACROSS_STATES3
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End
		
		AnimationState        			= STUNNED
			StateName					= STATE_Land
			Animation           		= Bow
				AnimationName       	= RUElfWar_LNDA
				AnimationMode       	= ONCE
			End
			Animation           		= WantBow
				AnimationName       	= RUElfWar_LNDB
				AnimationMode       	= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES3
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				end
				
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				return "Bow"
			EndScript
		End


				
;;======== TERROR

		AnimationState					= MOVING EMOTION_TERROR WEAPONSET_TOGGLE_1
			StateName					= Moving_Sword
			Animation					= Terror
				AnimationName			= RUElfWar_RUNN
				AnimationMode			= LOOP
				Distance				= 40
			End
			Animation					= finishrun_b
				AnimationName       	= RUElfWar_RUNB
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Animation					= runtrans_bs
				AnimationName       	= RUElfWar_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 5
				Distance				= 70
			End
			Animation					= runtrans_sb_finish
				AnimationName       	= RUElfWar_RUNT
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runnoblend_s
				AnimationName       	= RUElfWar_RUNN
				AnimationMode       	= LOOP
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE MAINTAIN_FRAME_ACROSS_STATES
			BeginScript
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				
				if PrevState == "Moving_Bow"
				then
					if PrevAnim == "runtrans_sb"
					then
						return "runtrans_sb_finish"
					elseif PrevAnim == "finishrun_s"
					then
						return "runnoblend_s"
					else
						return "finishrun_b"
					end
				elseif PrevAnim == "finishrun_b" or PrevAnim == "runtrans_sb_finish"
				then
					return "runtrans_bs"
				elseif PrevAnim == "runtrans_bs" or PrevAnim == "run_s" or PrevAnim == "runnoblend_s"
				then
					return "runnoblend_s"
				else
					return "Terror"
				end				
			EndScript
		End
		AnimationState					= MOVING EMOTION_TERROR
			StateName					= Moving_Bow
			Animation					= RunAway_3
				AnimationName			= RUElfWar_RUNOT3
				AnimationMode			= ONCE
				Distance				= 40
			End
			Animation					= RunAway_2
				AnimationName			= RUElfWar_RUNOT4
				AnimationMode			= ONCE
				Distance				= 40
			End
			Animation					= RunAway
				AnimationName			= RUElfWar_RUNB
				AnimationMode			= ONCE
				Distance				= 40
			End
			Animation					= finishrun_s
				AnimationName       	= RUElfWar_RUNN
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Animation					= runtrans_sb
				AnimationName       	= RUElfWar_RUNT
				AnimationMode       	= ONCE
				AnimationBlendTime		= 5
				Distance				= 70
			End
			Animation					= runtrans_bs_finish
				AnimationName       	= RUElfWar_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= RunAway_noblend
				AnimationName			= RUElfWar_RUNB
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE MAINTAIN_FRAME_ACROSS_STATES
			BeginScript
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "Moving_Sword"
				then
					if PrevAnim == "runtrans_bs"
					then
						return "runtrans_bs_finish"
					elseif PrevAnim == "finishrun_b"
					then
						return "RunAway_noblend"
					else
						return "finishrun_s"
					end
				elseif PrevAnim == "finishrun_s" or PrevAnim == "runtrans_bs_finish"
				then
					return "runtrans_sb"
				elseif PrevAnim == "runtrans_sb" or PrevAnim == "run_b" or PrevAnim == "runnoblend_b"
				then
					return "RunAway_noblend"
				else
					Num = GetClientRandomNumberReal(0,7)
					if Num < 1 
					then
						return "RunAway_2"
					elseif Num > 6
					then
						return "RunAway_3"
					else
						return "RunAway"
					end
				end			
			EndScript
		End


		; ------ Attacking ------- ;
		
		AnimationState        			= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation           		= AttackWithSwordA
				AnimationName       	= RUElfWar_ATKSV2
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordB
				AnimationName       	= RUElfWar_ATKS
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordD
				AnimationName       	= RUElfWar_ATKSV4
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
			EndScript
		End
;;---------------------------------------------------------------------------<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
		AnimationState					= PREATTACK_A 
			Animation					= ReadyToDrawn
				AnimationName			= RUElfWar_ATKA1
				AnimationMode			= ONCE
				AnimationBlendTime		= 20				; Must be 0 blend time otherwise the arrow will linger for the duration of the blend!
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End

		AnimationState					= FIRING_OR_RELOADING_A
			StateName					= STATE_Firing
			Animation					= OneFrameOfShooting
				AnimationName			= RUElfWar_ATKA2
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
				AnimationSpeedFactorRange	= 1.5 1.5
			End
			Flags						= START_FRAME_FIRST			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End
;;--------------------------------------------------------------------------------<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

		
;;------------------------- BACKUP --------------------------------------------------------------------


		AnimationState					= MOVING BACKING_UP WEAPONSET_TOGGLE_1
			StateName					= STATE_BackingUp
			Animation					= Sword
				AnimationName			= RUElfWar_BAKS
				AnimationMode			= LOOP
			End
			Animation					= WantSword
				AnimationName			= RUElfWar_BAKB
				AnimationMode			= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						return "WantSword"
					end
				end
				
				return "Sword"			
			EndScript
		End
		AnimationState					= MOVING BACKING_UP
			StateName					= STATE_BackingUp
			Animation					= Bow
				AnimationName			= RUElfWar_BAKB
				AnimationMode			= LOOP
			End
			Animation					= WantBow
				AnimationName			= RUElfWar_BAKS
				AnimationMode			= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						return "WantBow"
					end
				end
				
				return "Bow"
			EndScript
		End
	
		; ------------ Moving ------------- ;
		
		AnimationState        			= MOVING WEAPONSET_TOGGLE_1
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= LOOP
				Distance				= 40
			End
			Animation					= finishrun_b
				AnimationName       	= RUElfWar_RUNB
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Animation					= runtrans_bs
				AnimationName       	= RUElfWar_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runtrans_sb_finish
				AnimationName       	= RUElfWar_RUNT
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runnoblend_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= LOOP
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				
				if PrevState == "Moving_Bow"
				then
					if PrevAnim == "runtrans_sb"
					then
						return "runtrans_sb_finish"
					elseif PrevAnim == "finishrun_s"
					then
						return "runnoblend_s"
					else
						return "finishrun_b"
					end
				elseif PrevAnim == "finishrun_b" or PrevAnim == "runtrans_sb_finish" or PrevAnim == "WantSword"
				then
					return "runtrans_bs"
				elseif PrevAnim == "runtrans_bs" or PrevAnim == "run_s" or PrevAnim == "runnoblend_s"
				then
					return "runnoblend_s"
				else
					return "run_s"
				end				
			EndScript
		End
		
		AnimationState        			= MOVING
			StateName					= Moving_Bow
			SimilarRestart				= Yes
			Animation           		= run_b
				AnimationName       	= RUElfWar_RUNB
				AnimationMode       	= LOOP
				Distance				= 40
			End
			Animation					= finishrun_s
				AnimationName       	= RUElfWar_RUNS
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Animation					= runtrans_sb
				AnimationName       	= RUElfWar_RUNT
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runtrans_bs_finish
				AnimationName       	= RUElfWar_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runnoblend_b
				AnimationName       	= RUElfWar_RUNB
				AnimationMode       	= LOOP
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				
				if PrevState == "Moving_Sword"
				then
					if PrevAnim == "runtrans_bs"
					then
						return "runtrans_bs_finish"
					elseif PrevAnim == "finishrun_b"
					then
						return "runnoblend_b"
					else
						return "finishrun_s"
					end
				elseif PrevAnim == "finishrun_s" or PrevAnim == "runtrans_bs_finish" or PrevAnim == "WantBow"
				then
					return "runtrans_sb"
				elseif PrevAnim == "runtrans_sb" or PrevAnim == "run_b" or PrevAnim == "runnoblend_b"
				then
					return "runnoblend_b"
				else
					return "run_b"
				end				
			EndScript
		End
		
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;		
;		TransitionState       			= TRANS_SwordToBow_Moving
;			Animation           		= DrawBow
;				AnimationName       	= RUElfWar_RUNT
;				AnimationMode       	= ONCE
;			End
;			
;			BeginScript
;				CurDrawableAllowToContinue()
;			EndScript
;		End
;		
;		TransitionState       			= TRANS_BowToSword_Moving
;			Animation           		= DrawSword
;				AnimationName       	= RUElfWar_RUNC
;				AnimationMode       	= ONCE
;			End
;			
;			BeginScript
;				CurDrawableAllowToContinue()
;			EndScript
;		End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;		
		
;;-----------------------------------------------------------------------------------<<<<<<<<<<<<<<<<<<<<<<<<<<<

		AnimationState					= CONTINUOUS_FIRE_MEAN		;;;;;;;;;HACK TO STOP JITTERS
			Animation					= HangFrameWhileCoasting
				AnimationName			= RUElfWar_ATKA2
				AnimationMode			= MANUAL
				AnimationBlendTime		= 0
			End
			Flags						= START_FRAME_LAST
						
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
				if CurDrawablePrevAnimationState() == "STATE_Firing" then CurDrawableAllowToContinue() end
			EndScript
			;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
			;;;;
			;;;;	VERY IMPORTANT ARCHER INFORMATION
			;;;;	THIS WILL STOP THE JITTERS, AND BEST
			;;;;	YET, IT'S A COMPLETE HACK! Just look above.
			;;;;	We say that if we get into this state
			;;;;	from firing, just continue to fire. DONE.
			;;;;
			;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
		End
		
		AnimationState					= CONTINUOUS_FIRE_SLOW
			StateName					= Ready_Bow
			Animation					= PutAwayArrow
				AnimationName			= RUElfWar_ATKA3
				AnimationMode			= ONCE
			End
						
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
			EndScript
		End
;;;--------------------------------------------------------------------------------------<<<<<<<<<<<<<<<<<<<<<<<		
	
		AnimationState					= EMOTION_UNCONTROLLABLY_AFRAID WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				end
			EndScript
		End
		AnimationState					= EMOTION_UNCONTROLLABLY_AFRAID 
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= RUElfWar_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End	
			Animation					= Bow2
				AnimationName			= RUElfWar_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				end
			EndScript	
		End
		
	
		; -------- Alert ------- ;
		
		AnimationState					= EMOTION_ALERT WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End
		AnimationState					= ENGAGED WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End
		AnimationState					= ATTACKING WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= RUElfWar_IDLST1
				AnimationMode			= LOOP
			End
			
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End
		
		AnimationState					= EMOTION_ALERT
			StateName					= Ready_Bow
			
			Animation					= IDLB
				AnimationName			= RUElfWar_IDLB
				AnimationMode			= LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SR_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end				
			EndScript
		End 
		AnimationState					= ENGAGED
			StateName					= Ready_Bow
			
			Animation					= IDLB
				AnimationName			= RUElfWar_IDLB
				AnimationMode			= LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SR_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end				
			EndScript
		End
		AnimationState					= ATTACKING
			StateName					= Ready_Bow
			
			Animation					= IDLB
				AnimationName			= RUElfWar_IDLB
				AnimationMode			= LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SR_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end				
			EndScript
		End
		
		
		
;;------------ EMOTIONS ------------------------------------------------------------------
;;======= AFRAID

		AnimationState					= EMOTION_AFRAID WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_FERS
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				end
			EndScript
		End
		AnimationState					= EMOTION_AFRAID 
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= RUElfWar_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End	
			Animation					= Bow2
				AnimationName			= RUElfWar_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				end
			EndScript	
		End
		
;;====== CELEBRATING		

		AnimationState					= EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_CHRST2
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End
		AnimationState					= EMOTION_CELEBRATING
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= RUElfWar_CHRB
				AnimationMode			= ONCE
			End
			Animation					= Bow2
				AnimationName			= RUElfWar_CHRB
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Bow")
;				elseif PrevState == "Bored_Bow"
;				then
;					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript	
		End

;;====== TAUNTING

		AnimationState					= EMOTION_TAUNTING WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_TNTSV1
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_TNTSV1
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE ;MAINTAIN_FRAME_ACROSS_STATES
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
					then
						CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End
		AnimationState					= EMOTION_TAUNTING
			StateName					= STATE_Emotion_Bow
			Animation					= Bow1
				AnimationName			= RUElfWar_TNTB
				AnimationMode			= ONCE
			End
			Animation					= Bow2
				AnimationName			= RUElfWar_TNTB		; RUElfWar_TNTBX anim does not exist
				AnimationMode			= ONCE
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE ;MAINTAIN_FRAME_ACROSS_STATES
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript
		End

;;====== POINTING

		AnimationState					= EMOTION_POINTING WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= RUElfWar_PNTB
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= RUElfWar_PNTB
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End
		AnimationState					= EMOTION_POINTING
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= RUElfWar_PNTA
				AnimationMode			= ONCE
			End
			Animation					= Bow2
				AnimationName			= RUElfWar_PNTA
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript
		End
		
		; ------ Selected ------ ;

		AnimationState				=	SELECTED WEAPONSET_TOGGLE_1
			StateName				=	Selected_Sword
			
			Animation				=	ATNA
				AnimationName		=	RUElfWar_ATNS
				AnimationMode		=	LOOP
			End
			
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BS_Sword")		end
				if Prev == "Ready_Sword"		then CurDrawableSetTransitionAnimState("TRANS_RS_Sword")		end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")	
				end
				
			EndScript
		End

		AnimationState				=	SELECTED 
			StateName           	=	Selected_Bow
			
			Animation				=	ATNE
				AnimationName		=	RUElfWar_ATNE
				AnimationMode		=	LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Bow" then CurDrawableSetTransitionAnimState("TRANS_BS_Bow")				end
				if Prev == "Ready_Bow" then CurDrawableSetTransitionAnimState("TRANS_RS_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")	
				end	
			EndScript
		End
		
		
		; --------- Hit Reactions ---------- ;
		
		AnimationState						= HIT_REACTION HIT_LEVEL_1 WEAPONSET_TOGGLE_1
			StateName						= Bored_Sword
			Animation						= Hit_Level_1_a
				AnimationName				= RUElfWar_HITE
				AnimationMode				= ONCE
			End
		End

		AnimationState 						= HIT_REACTION HIT_LEVEL_1
			StateName						= Bored_Bow
			Animation 						= Hit_Level_1_a
				AnimationName				= RUElfWar_HITB
				AnimationMode 				= ONCE
				AnimationSpeedFactorRange	= .9 .9
			End
		End
		
		
		; ------- Bored -------- ;
		
		AnimationState					= WEAPONSET_TOGGLE_1
			StateName					= Bored_Sword
			
			Animation           		= Idle_Sword1
				AnimationName       	= RUElfWar_IDLG
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword2
				AnimationName       	= RUElfWar_IDLCT1
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword3
				AnimationName       	= RUElfWar_IDLCT3
				AnimationMode       	= ONCE
			End
			Animation					= IdleNoFidget
				AnimationName			= RUElfWar_IDLF
				AnimationMode			= ONCE
				AnimationPriority		= 20
			End
			Animation					= IdleNoFidget2
				AnimationName			= RUElfWar_IDLF
				AnimationMode			= ONCE
				AnimationPriority		= 0
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")				

				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SB_Sword" or Prev == "TRANS_RB_Sword" then return "IdleNoFidget" end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SB_Sword")		end
				if Prev == "Ready_Sword"		then CurDrawableSetTransitionAnimState("TRANS_RB_Sword")		end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")	
				end
			EndScript
		End
		
		IdleAnimationState
			StateName					= Bored_Bow
			
			Animation					= IdleBowB
				AnimationName			= RUElfWar_IDLDX1
				AnimationMode			= ONCE
			End
			Animation					= IdleBowD
				AnimationName			= RUElfWar_IDLD
				AnimationMode			= ONCE
			End
			Animation					= IdleNoFidget
				AnimationName			= RUElfWar_IDLE
				AnimationMode			= ONCE
				AnimationPriority		= 20
			End
			Animation					= IdleNoFidget2
				AnimationName			= RUElfWar_IDLE
				AnimationMode			= ONCE
				AnimationPriority		= 10
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript	
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")			
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SB_Bow" or Prev == "TRANS_RB_Bow" then return "IdleNoFidget" end
				if Prev == "Selected_Bow"		then CurDrawableSetTransitionAnimState("TRANS_SB_Bow")		end
				if Prev == "Ready_Bow"			then CurDrawableSetTransitionAnimState("TRANS_RB_Bow")		end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")	
				end	
			EndScript
		End

		
		;----------------- Bow Transitions -------------------------;

		TransitionState       			= TRANS_BS_Bow
			Animation           		= ATND
				AnimationName     		= RUElfWar_ATND
				AnimationMode     		= ONCE
				AnimationBlendTime		= 10
			End
		End
		
		TransitionState       			= TRANS_SR_Bow
			Animation           		= ATNE
				AnimationName     		= RUElfWar_ATNF
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SB_Bow
			Animation           		= ATND
				AnimationName     		= RUElfWar_ATND
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_RS_Bow
			Animation           		= ATNF
				AnimationName     		= RUElfWar_ATNF
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_BR_Bow
			Animation           		= IDLB
				AnimationName     		= RUElfWar_IDLB
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		TransitionState       			= TRANS_RB_Bow
			Animation           		= IDLD
				AnimationName     		= RUElfWar_IDLD
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		;----------------- Sword Transitions -------------------------;
		
		TransitionState       			= TRANS_BS_Sword
			Animation           		= ATNA
				AnimationName     		= RUElfWar_ATNA
				AnimationMode     		= ONCE
			End
			Animation           		= ATNAX1
				AnimationName     		= RUElfWar_ATNX1
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SR_Sword
			Animation           		= ATNC
				AnimationName     		= RUElfWar_ATNC
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SB_Sword
			Animation           		= ATNA
				AnimationName     		= RUElfWar_ATNA
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_RS_Sword
			Animation           		= ATNC
				AnimationName     		= RUElfWar_ATNC
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_BR_Sword
			Animation           		= ATNS
				AnimationName     		= RUElfWar_ATNS
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		TransitionState       			= TRANS_RB_Sword
			Animation           		= IDLG
				AnimationName     		= RUElfWar_IDLG
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		

		;-------------- Weapon Change Transitions --------------------------;		

		TransitionState       			= TRANS_BowToSword_Ready
			Animation           		= DrawSwords
				AnimationName       	= RUElfWar_STHA
				AnimationMode       	= ONCE
			End
		End

		TransitionState       			= TRANS_SwordToBow_Ready
			Animation           		= DrawBow
				AnimationName       	= RUElfWar_STHB
				AnimationMode       	= ONCE
			End
		End
		
		TransitionState       			= TRANS_BowToSword_Selected
			Animation           		= DrawSwords
				AnimationName       	= RUElfWar_STHC
				AnimationMode       	= ONCE
			End
		End

		TransitionState       			= TRANS_SwordToBow_Selected
			Animation           		= DrawBow
				AnimationName       	= RUElfWar_STHD
				AnimationMode       	= ONCE
			End
		End
	End
	
	; ***DESIGN parameters ***
	Side = Obsolete
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 4

	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    RohanElvenBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	;bow upgrade
	WeaponSet
		Conditions = PLAYER_UPGRADE
		Weapon = PRIMARY	RohanElvenBow ; RohanElvenBowFireArrow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1					; CONTESTING_BUILDING
		Weapon = PRIMARY ElvenWarriorSword					;GondorRangerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	; sword upgrade	
	WeaponSet
		Conditions = PLAYER_UPGRADE WEAPONSET_TOGGLE_1 CONTESTING_BUILDING
		Weapon = PRIMARY	ElvenWarriorSword
    	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
		
	ArmorSet
		Conditions      = None
		Armor           = SpecialistArmor
		DamageFX        = NormalDamageFX
	End

	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = SpecialistHeavyArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = ROHAN_ELVENWARRIOR_VISION_RANGE
        ShroudClearingRange = SHROUD_CLEAR_STANDARD

	BountyValue = ROHAN_ELVENWARRIOR_BOUNTY_VALUE 		
	DisplayName = OBJECT:RohanElvenWarrior
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

	CrushRevengeWeapon = SuperInfantryCrushRevenge
	CommandSet = RohanElvenWarriorCommandSet
	

	; *** AUDIO Parameters ***;
 
	VoiceAttack					= ElvenWarriorVoiceAttack
	VoiceAttackAir				= ElvenWarriorVoiceAttackBow
	VoiceAttackCharge				= ElvenWarriorVoiceAttackCharge
	VoiceAttackStructure			= ElvenWarriorVoiceAttackStructure		; ElvenWarriorVoiceAttackBuilding not recorded
	VoiceAttackMachine			= ElvenWarriorVoiceAttackStructure		; ElvenWarriorVoiceAttackBuilding not recorded
	VoiceCreated				= ElvenWarriorVoiceSalute
      VoiceFullyCreated 			= ElvenWarriorVoiceSalute
	VoiceMove					= ElvenWarriorVoiceMove
	VoiceMoveToCamp				= ElvenWarriorVoiceMoveCamp
	VoiceMoveWhileAttacking			= ElvenWarriorVoiceDisengage
	VoicePriority				= 41
	VoiceRetreatToCastle			= ElvenWarriorVoiceRetreat
	VoiceSelect					= ElvenWarriorVoiceSelectMS
	VoiceSelectBattle 			= ElvenWarriorVoiceSelectBattle
	VoiceGuard					= ElvenWarriorVoiceMove

	UnitSpecificSounds
		VoiceGarrison			= ElvenWarriorVoiceGarrison    
		VoicePrimaryWeaponMode		= ElvenWarriorVoiceModeBow
		VoiceSecondaryWeaponMode	= ElvenWarriorVoiceModeSword
	End

    #include "..\includes\StandardUnitEvaEvents.inc"

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU					; Tie into LargeGroupAudio system
		Key = Elf Unit Infantry Elf_Warrior
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:ArrowDrawBow					Animation:RUElfWar_SKL.RUElfWar_ATKA1	Frames:6
		AnimationSound = Sound:ArrowDrawBow					Animation:RUElfWar_SKL.RUElfWar_ATKA2	Frames:18

		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:RUElfWar_SKL.RUElfWar_STHA 	Frames:24
		AnimationSound = Sound:SwordIntoScabbard1ForHordes		Animation:RUElfWar_SKL.RUElfWar_STHB 	Frames:9
		AnimationSound = Sound:WeaponSwitchBowForHordes		 	Animation:RUElfWar_SKL.RUElfWar_STHB 	Frames:15

		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:RUElfWar_SKL.RUElfWar_STHC 	Frames:20
		AnimationSound = Sound:SwordIntoScabbard1ForHordes		Animation:RUElfWar_SKL.RUElfWar_STHD 	Frames:5
		AnimationSound = Sound:WeaponSwitchBowForHordes 		Animation:RUElfWar_SKL.RUElfWar_STHD 	Frames:8

		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:RUElfWar_SKL.RUElfWar_RUNC 	Frames:14
		AnimationSound = Sound:SwordIntoScabbard1ForHordes 		Animation:RUElfWar_SKL.RUElfWar_RUNT 	Frames:4
		AnimationSound = Sound:WeaponSwitchBowForHordes 		Animation:RUElfWar_SKL.RUElfWar_RUNT 	Frames:16

		AnimationSound = Sound:BodyFallSoldier				Animation:RUElfWar_SKL.RUElfWar_LNDA	Frames:9
		AnimationSound = Sound:BodyFallSoldier				Animation:RUElfWar_SKL.RUElfWar_LNDB	Frames:1

		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:RUElfWar_SKL.RUElfWar_DIEB 	Frames:82
		AnimationSound = Sound:BodyFallSoldier				Animation:RUElfWar_SKL.RUElfWar_DIEBV5 	Frames:25
		AnimationSound = Sound:BodyFallSoldier				Animation:RUElfWar_SKL.RUElfWar_DIESV4 	Frames:26
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:RUElfWar_SKL.RUElfWar_DIESV5	Frames:100
	End

	;------------------ AnimationAudio ---- ElvenWarriorVoice WeaponModes ---------------
	;
	;  This was the old hookup for ElvenWarriorVoice switch bow or sword; now it's in CommandButton.INI
	;
	;ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
	;	MaxUpdateRangeCap = 800
	;	AnimationSound = Sound: ElvenWarriorVoiceModeSword Animation: RUElfWar_STHA Frames: 0
	;	AnimationSound = Sound: ElvenWarriorVoiceModeBow Animation: RUElfWar_STHB Frames: 0
	;	AnimationSound = Sound: ElvenWarriorVoiceModeSword Animation: RUElfWar_RUNC Frames: 0
	;	AnimationSound = Sound: ElvenWarriorVoiceModeBow Animation: RUElfWar_RUNT Frames: 0
	;End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE THROWN_OBJECT PATH_THROUGH_EACH_OTHER ARCHER ATTACK_NEEDS_LINE_OF_SIGHT GRAB_AND_DROP
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = ROHAN_ELVENWARRIOR_HEALTH			;BALANCE RohanElvenWarrior
		MaxHealthDamaged  = ROHAN_ELVENWARRIOR_HEALTH_DAMAGED		
		;RecoveryTime      = ROHAN_ELVENWARRIOR_HEALTH_RECOVERY_TIME		
	End
	
	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTag
		TriggeredBy = Upgrade_RohanFireArrows
		CustomAnimAndDuration   = AnimState:USER_4 AnimTime:0 TriggerTime:0 ;set flag forever
	End
	
	; Switch arrows being displayed.
	Behavior = SubObjectsUpgrade ModuleTag_FireArrowSwapUpgrade
		TriggeredBy		= Upgrade_RohanFireArrows
		ShowSubObjects	= FireArowTip
	End	
		
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy = Upgrade_RohanForgedBladesForElves
		CustomAnimAndDuration   = AnimState:USER_5 AnimTime:0 TriggerTime:0 ;set flag forever
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_RohanHeavyArmorForElves
		UpgradeTexture	= RUElvnWorrior.tga 0 RUElvnWorriorHA.tga
		UpgradeTexture	= RUElvnWorrior_L.tga 0 RUElvnWorriorHA.tga
		RecolorHouse	= Yes
	End
	
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy = Upgrade_RohanHeavyArmorForElves
	End
	
	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_RohanForgedBladesForElves
		ShowSubObjects	= Forged_Blade
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle		= Yes ATTACK_BUILDINGS STEALTHED
		MoodAttackCheckRate				= 500
		CanAttackWhileContained			= Yes		
;		HoldGroundCloseRangeDistance	= 41
		AILuaEventsList					= RohanElvenWarriorFunctions
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_FAST_MEMBER_SPEED		
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = NORMAL_GOOD_FAST_MEMBER_SPEED		
	End

	LocomotorSet
		Locomotor = HumanPanicLocomotor
		Condition = SET_PANIC
		Speed	  = NORMAL_GOOD_FAST_MEMBER_SPEED		
	End
	
	LocomotorSet
		Locomotor = HumanScaredLocomotor
		Condition = SET_SCARED
		Speed	  = NORMAL_GOOD_FAST_MEMBER_SPEED		
	End
		
	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_14
		TriggeredBy = Upgrade_RohanFireArrows
	End
	
	;Behavior = DualWeaponBehavior ModuleTag_13
	;	SwitchWeaponOnCloseRangeDistance = 41
	;End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED
		SinkDelay = 3000
		SinkRate = 0.5     ; in Dist/Sec
		DestructionDelay = 15000
        Sound = INITIAL ElvenWarriorVoiceDie
        DeathFlags = DEATH_1
	End
	
  	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay = 0
		FadeTime = 5000
		DestructionDelay = 5000
        DeathFlags = DEATH_2
        FX = INITIAL FX_UnSummonElvenAllies
	End
  
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 25
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 41 ; this far
		BounceFirstHeight = 25  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 25
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	;-----------------

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 14;
	ShadowSizeY = 14;
	ShadowTexture = ShadowI;
End

;------------------------------------------------------------------------------
ChildObject RohanElvenWarrior_Summoned RohanElvenWarrior
	IsTrainable = No
	CommandPoints = 0
	EquivalentTo = RohanElvenWarrior
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
	; This one does the work, but the one in the horde displays the timer
		MinLifetime		= 180000
		MaxLifetime		= 180000
		DeathType		= FADED
	End	
End


; ---------------------------------------------------------------------------------------
; Create A bunch of Elves out of thin air. 
ObjectCreationList OCL_SpawnElvenWarriorsEgg
	CreateObject
		ObjectNames = ElvenAlliesSummonEgg
		IgnoreCommandPointLimit = Yes
		Disposition = LIKE_EXISTING
	End
End

;-----------------------------------------------------------------------------------------
Object ElvenAlliesSummonEgg
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End
	KindOf = INERT IMMOBILE UNATTACKABLE
	
	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth = 1
	End
	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 0.0
		MaxLifetime = 0.0
	End
	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay = 2000
		OCL = FINAL OCL_SpawnElvenWarriors
	End
End

;---------------------------------------------------------------------------
ChildObject RohanSamWithFrodoPowers RohanFrodo

	SelectPortrait         = HPSam
	ButtonImage			   = HISam
	
	Draw = W3DScriptedModelDraw ModuleTag_LightController
		DefaultModelConditionState
			Model = None
		End
		
		ModelConditionState = SPECIAL_ENEMY_NEAR
			Model						= RUSamSTNG
            		Shadow						= SHADOW_ADDITIVE_DECAL_DYNAMIC
			ShadowSizeX					= 100;
			ShadowSizeY					= 100;
			ShadowTexture				= EXFrodoStingGlow;
			ShadowOpacityStart			= 0
			ShadowOpacityFadeInTime		= 1000
			ShadowOpacityPeak			= 255
			ShadowOpacityFadeOutTime	= 1000
			ShadowOpacityEnd			= 0
			ShadowOverrideLODVisibility = yes
		End

		ModelConditionState = PREPARING PACKING_TYPE_1
			Model = Invisible
            		Shadow = SHADOW_ADDITIVE_DECAL_DYNAMIC
            		ShadowSizeX = 150;
            		ShadowSizeY = 150;
            		ShadowTexture = EXLightAura02;
           		ShadowOpacityStart			= 0
			ShadowOpacityFadeInTime		= 1000
			ShadowOpacityPeak			= 255
			ShadowOpacityFadeOutTime	= 1000
			ShadowOpacityEnd			= 0
		End

		IdleAnimationState
;			BeginScript
;				CurDrawableHideModule("ModuleTag_DrawLight")
;			EndScript
		End
		AnimationState = SPECIAL_ENEMY_NEAR
;			BeginScript
;				CurDrawableShowModule("ModuleTag_DrawLight")
;			EndScript
		End

        AttachToBoneInAnotherModule = SWORDBONE01
	End

	Draw = W3DScriptedModelDraw ModuleTag_01
		;RingFXLighting = R:37 G:74 B:190
		;RingFXLighting = R:64 G:64 B:128

		;GlowEnabled = Yes
		;GlowEmissive = No
		
		ExtraPublicBone = SWORDBONE01

		StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
;;================== MODELS ===================================================================
		DefaultModelConditionState
			Model               = RUSam_SKN
			Skeleton            = RUSam_SKL
			WeaponLaunchBone	= PRIMARY B_HANDR
			WeaponLaunchBone	= SECONDARY B_HANDR
		End
		
;		ModelConditionState		= PACKING_TYPE_1 PREPARING 
;			Model               = RUSam_SKN
;			Skeleton            = RUSam_SKL
;			WeaponLaunchBone	= PRIMARY B_HANDR
;			WeaponLaunchBone	= SECONDARY B_HANDR
;			ParticleSysBone			= B_HANDL PhialofGaladriel FollowBone:Yes; ZZZ_Phial PhialofGaladriel FollowBone:Yes
;		End
		
;;================== ANIMATIONS ===============================================================
;;------------------ FLYING & DYING -----------------------------------------------------------
;;======= DYING

		AnimationState					= STUNNED_FLAILING
			StateName					= STATE_Bored_Rocks
			Animation					= &&FLYING&&
				AnimationName			= RUSam_FLYA
				AnimationMode			= LOOP
				AnimationBlendTime		= 0
			End
			Flags						= RANDOMSTART
		End

		AnimationState					= DYING SPLATTED
			StateName					= STATE_Bored_Rocks
			Animation					= &&LANDING&&
				AnimationName			= RUSam_LNDA
				AnimationMode			= ONCE
			End
		End

		AnimationState					= DYING WEAPONSET_TOGGLE_1
			StateName					= STATE_Bored_Rocks
			Animation					= DIEA
				AnimationName			= RUSam_DIEA
				AnimationMode			= ONCE
			End
		End
		
		AnimationState					= DYING EMOTION_ALERT
			StateName					= STATE_Dead
			Animation					= DIEB
				AnimationName			= RUSam_DIEB
				AnimationMode			= ONCE
			End
		End

		AnimationState					= DYING
			StateName					= STATE_Dead.
			Animation					= DIEA
				AnimationName			= RUSam_DIEA
				AnimationMode			= ONCE
			End
		End
		
		AnimationState					= STUNNED_STANDING_UP
			StateName					= STATE_Ready_Sword
			Animation					= GTPA
				AnimationName			= RUSam_GTPA
				AnimationMode			= ONCE
				;AnimationSpeedFactorRange = 2.0 2.0
			End
		End

;		AnimationState					= STUNNED WEAPONSET_TOGGLE_1
;			StateName					= STATE_Bored_Rocks
;			Animation					= &&LANDING&&
;				AnimationName			= RUSam_LNDA
;				AnimationMode			= ONCE
;				AnimationBlendTime		= 0
;			End
;			BeginScript
;				CurDrawableHideSubObject("pan")
;				CurDrawableHideSubObject("sword")
;			EndScript
;		End
		AnimationState					= STUNNED
			StateName					= STATE_Bored_Sword
			Animation					= &&LANDING&&
				AnimationName			= RUSam_LNDA
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
			End
		End

		
		
;;------------------ MOVING -------------------------------------------------------------------
;;======= RIDING

		AnimationState					= PASSENGER MOVING ACCELERATE
			Animation					= RUFro_HH_RUNA
				AnimationName			= RUFro_HH_ACCL
				AnimationMode			= LOOP
				AnimationBlendTime		= 0
			End
			StateName					= Mounted
		End
		AnimationState					= PASSENGER MOVING
			Animation					= RUFro_HH_RUNA
				AnimationName			= RUFro_HH_RUNA
				AnimationMode			= LOOP
				AnimationBlendTime		= 0
			End
			StateName					= Mounted
		End

;;======== RUNNING
		
		AnimationState					= MOVING WEAPONSET_TOGGLE_1
			StateName					= STATE_Running_Rocks
			Animation					= RUNA
				AnimationName			= RUSam_RUNA
				AnimationMode			= LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
				if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
				if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
				if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
			EndScript
		End
		
		AnimationState					= MOVING EMOTION_ALERT
			StateName					= STATE_Running_Sword
			Animation					= RUNC
				AnimationName			= RUSam_RUNC
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
				if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
				if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
				if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
			EndScript
		End
		
		AnimationState					= MOVING
			StateName					= STATE_Running_Rocks
			Animation					= RUNA
				AnimationName			= RUSam_RUNA
				AnimationMode			= LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
				if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
				if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
				if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
			EndScript
		End
		
;;------------------- ATTACKING --------------------------------------------------------------
		
		AnimationState					= PASSENGER FIRING_OR_PREATTACK_A
			StateName					= NoSword
			Animation					= THRA
				AnimationName			= RUSam_THRA
				AnimationMode			= ONCE
				UseWeaponTiming			= Yes
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SheatheSword") end
			EndScript
		End
	
	
		AnimationState					= BETWEEN_FIRING_SHOTS_A WEAPONSET_TOGGLE_1
			StateName					= STATE_Ready_Rocks
			Animation					= IDLA
				AnimationName			= RUSam_IDLA
				AnimationMode			= LOOP
				AnimationBlendTime		= 10
			End
			;BeginScript
			;	CurDrawableAllowToContinue()
			;EndScript
		End
		
		AnimationState					= BETWEEN_FIRING_SHOTS_A
			StateName					= STATE_Ready_Sword
			Animation					= IDLB
				AnimationName			= RUSam_IDLB
				AnimationMode			= LOOP
				AnimationBlendTime		= 10
			End
			BeginScript
				CurDrawableAllowToContinue()
			EndScript
		End
		
		AnimationState					= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			StateName					= STATE_Ready_Rocks
			Animation					= THRA
				AnimationName			= RUSam_THRA
				AnimationMode			= ONCE
				UseWeaponTiming			= Yes
			End
			FrameForPristineBonePositions	= 42
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
				if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
				if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
				if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
			EndScript
		End

		AnimationState					= FIRING_OR_PREATTACK_A 
			StateName					= STATE_Ready_Sword
			Animation					= ATKA
				AnimationName			= RUSam_ATKA
				AnimationMode			= ONCE
				UseWeaponTiming			= Yes
				AnimationBlendTime		= 10
				AnimationPriority		= 10
			End
			Animation					= ATKH
				AnimationName			= RUSam_ATKH
				AnimationMode			= ONCE
				UseWeaponTiming			= Yes
				AnimationBlendTime		= 10
				AnimationPriority		= 10
			End
; PUT BACK IN (PAN FLOATING)
;			Animation					= ATKI
;				AnimationName			= RUSam_ATKI
;				AnimationMode			= ONCE
;				UseWeaponTiming			= Yes
;				AnimationBlendTime		= 10
;				AnimationPriority		= 10
;			End
;			Animation					= ATKE
;				AnimationName			= RUSam_ATKE
;				AnimationMode			= ONCE
;				UseWeaponTiming			= No
;				AnimationBlendTime		= 10
;				AnimationPriority		= 2
;				AnimationSpeedFactorRange = 1.4 1.4
;			End			
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
				if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
				if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
				if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
			EndScript
		End

		AnimationState					= FIRING_OR_PREATTACK_B 
			StateName					= STATE_Ready_Sword
			Animation					= ATKA
				AnimationName			= RUSam_ATKE
				AnimationMode			= ONCE
				UseWeaponTiming			= Yes
				AnimationBlendTime		= 10
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
				if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
				if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
				if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
			EndScript
		End
;;------------------- HIT REACTIONS -----------------------------------------------------------

		AnimationState					= HIT_REACTION HIT_LEVEL_1 WEAPONSET_TOGGLE_1
			Animation					= Hit_Level_1_a
				AnimationName			= RUSam_HITA
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
			End
		End
		AnimationState					= HIT_REACTION HIT_LEVEL_1
			StateName					= STATE_Bored_Sword
			Animation					= Hit_Level_1_a
				AnimationName			= RUSam_HITC
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
			End
		End
		
;;------------------- SPECIAL ANIMATIONS ------------------------------------------------------

		; -- Phial anims (No art yet, use Boromir for reference when hooking up)
		AnimationState					= UNPACKING PACKING_TYPE_1 WEAPONSET_TOGGLE_1
			Animation           
				AnimationName			= RUSam_PHLC
				AnimationMode			= ONCE
			End
			ParticleSysBone				= B_HANDL PhialofGaladrielDelay FollowBone:Yes
		End
		AnimationState					= PREPARING PACKING_TYPE_1 WEAPONSET_TOGGLE_1
			Animation           
				AnimationName			= RUSam_PHLD
				AnimationMode			= LOOP
			End
			ParticleSysBone				= B_HANDL PhialofGaladriel FollowBone:Yes
		End
		AnimationState						= PACKING PACKING_TYPE_1 WEAPONSET_TOGGLE_1
			Animation           
				AnimationName				= RUSam_PHLC
				AnimationMode				= ONCE_BACKWARDS
			End
			Flags							= START_FRAME_LAST
			ParticleSysBone					= B_HANDL PhialofGaladrielEnd FollowBone:Yes
		End		
		AnimationState					= PACKING_TYPE_1 WEAPONSET_TOGGLE_1
			Animation           
				AnimationName			= RUSam_PHLD
				AnimationMode			= LOOP
			End
			ParticleSysBone				= B_HANDL PhialofGaladriel FollowBone:Yes
		End
	
		; -- Phial anims (No art yet, use Boromir for reference when hooking up)
		AnimationState					= UNPACKING PACKING_TYPE_1 EMOTION_ALERT
			Animation           
				AnimationName			= RUSam_PHLA
				AnimationMode			= ONCE
			End
			ParticleSysBone				= B_HANDL PhialofGaladrielDelay FollowBone:Yes
		End
		AnimationState					= PREPARING PACKING_TYPE_1 EMOTION_ALERT
			Animation           
				AnimationName			= RUSam_PHLE
				AnimationMode			= LOOP
			End
			ParticleSysBone				= B_HANDL PhialofGaladriel FollowBone:Yes
		End
		AnimationState					= PACKING PACKING_TYPE_1 EMOTION_ALERT
			Animation           
				AnimationName			= RUSam_PHLB
				AnimationSpeedFactorRange = 0.7	0.7
				AnimationMode			= ONCE
			End
			ParticleSysBone				= B_HANDL PhialofGaladrielEnd FollowBone:Yes
		End
		AnimationState					= PACKING_TYPE_1 EMOTION_ALERT
			Animation           
				AnimationName			= RUSam_PHLE
				AnimationMode			= LOOP
			End
			ParticleSysBone				= B_HANDL PhialofGaladriel FollowBone:Yes
		End
		
		; -- Phial anims (No art yet, use Boromir for reference when hooking up)
		AnimationState					= UNPACKING PACKING_TYPE_1
			Animation           
				AnimationName			= RUSam_PHLC
				AnimationMode			= ONCE
			End
			ParticleSysBone				= B_HANDL PhialofGaladrielDelay FollowBone:Yes
		End
		AnimationState					= PREPARING PACKING_TYPE_1
			Animation           
				AnimationName			= RUSam_PHLD
				AnimationMode			= LOOP
			End
			ParticleSysBone				= B_HANDL PhialofGaladriel FollowBone:Yes
		End
		AnimationState					= PACKING PACKING_TYPE_1
			Animation           
				AnimationName			= RUSam_PHLC
				AnimationMode			= ONCE_BACKWARDS
			End
			ParticleSysBone				= B_HANDL PhialofGaladrielEnd FollowBone:Yes
			Flags						= START_FRAME_LAST
		End
		AnimationState					= PACKING_TYPE_1
			Animation           
				AnimationName			= RUSam_PHLD
				AnimationMode			= LOOP
			End
			ParticleSysBone				= B_HANDL PhialofGaladriel FollowBone:Yes
		End
		
		
		AnimationState						= PUTTING_ON_RING ; USER_2
			;StateName						= STATE_Bored_Rocks
			Animation						= CinematicNervousPutOnRing
				AnimationName				= RUSam_RNGA
				AnimationMode				= ONCE
			End
			;BeginScript
			;	Prev = CurDrawablePrevAnimationState()
			;	if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
			;	if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
			;	if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
			;	if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
			;	if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Rocks") end
			;EndScript
            FXEvent							= Frame:30	Name:FX_FrodoRingOn
		End


; This one doesn't look as bad, but it has the same basic problems.  it is more important to play though.
		AnimationState						= TAKING_OFF_RING
			StateName						= STATE_Bored_Rocks
			Animation						= TakeOffRingAndBeScared
				AnimationName				= RUSam_RNGB
				AnimationMode				= ONCE
			End
            FXEvent							= Frame:30 Name:FX_FrodoRingOff
		End
		
		
;;------------------- EMOTIONS ----------------------------------------------------------------

;;======= ALERT

		AnimationState					= EMOTION_ALERT	WEAPONSET_TOGGLE_1
			StateName					= STATE_Ready_Rocks
			Animation           
				AnimationName			= RUSam_IDLA
				AnimationMode			= LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
				if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
				if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
				if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
			EndScript
		End
		AnimationState					= EMOTION_ALERT
			StateName					= STATE_Ready_Sword
			Animation           
				AnimationName			= RUSam_IDLB
				AnimationMode			= LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
				if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
				if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
				if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Ready_RocksToSword") end
			EndScript
		End
		
;;------------------- SELECTED ----------------------------------------------------------------
	
		AnimationState					= SELECTED
			StateName					= STATE_Attention_Rocks
			Animation           
				AnimationName			= RUSam_ATNB
				AnimationMode			= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("pan")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Running_Rocks"
				then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
				if Prev == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
				if Prev == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
				if Prev == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
				if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
				if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
				if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
				if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Ready_SwordToRocks") end
			EndScript
		End

;;------------------- IDLE STATE --------------------------------------------------------------

		AnimationState					= PASSENGER
			Animation					= IDLE1
				AnimationName			= RUFro_HH_IDLA
				AnimationMode			= ONCE
			;	AnimationBlendTime		= 0
			End
			Animation					= IDLE2
				AnimationName			= RUFro_HH_IDLB
				AnimationMode			= ONCE
			;	AnimationBlendTime		= 0
			End
	;		Animation					= IDLE3  once
	;			AnimationName			= RUFro_HH_IDLC
	;			AnimationMode			= LOOP
	;			AnimationBlendTime		= 0
	;		End
			Animation					= IDLE4
				AnimationName			= RUFro_HH_IDLH
				AnimationMode			= ONCE
			;	AnimationBlendTime		= 0
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			StateName					= Mounted
		End

		AnimationState					= WEAPONSET_TOGGLE_1
			StateName					= STATE_Bored_Rocks
			Animation					= IDLA
				AnimationName			= RUSam_IDLA
				AnimationMode			= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("pan")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
				if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
				if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
				if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
			EndScript
		End
		
		IdleAnimationState
			StateName					= STATE_Bored_Rocks
			Animation					= IDLA
				AnimationName			= RUSam_IDLA
				AnimationMode			= ONCE
			End
			BeginScript
				CurDrawableHideSubObject("pan")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
				if Prev == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
				if Prev == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Rocks") end
				if Prev == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Bored_SwordToRocks") end
			EndScript
		End
;;--------------------- TRANSITIONS -------------------------------------------------------------

		TransitionState					= TRANS_unMount
			Animation					= unmount
				AnimationName			= RUFro_HH_IDLB
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
			End
		End

		TransitionState					= TRANS_DrawSword
			Animation					= STHA
				AnimationName			= RUSam_STHA
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
			End
		End
		TransitionState					= TRANS_Bored_RocksToSword
			Animation					= STHC
				AnimationName			= RUSam_STHC
				AnimationMode			= ONCE
			End
		End
		TransitionState					= TRANS_Ready_RocksToSword
			Animation					= STHC
				AnimationName			= RUSam_STHC
				AnimationMode			= ONCE
			End
		End
		TransitionState					= TRANS_Attention_RocksToSword
			Animation					= STHC
				AnimationName			= RUSam_STHC
				AnimationMode			= ONCE
			End
		End

		TransitionState					= TRANS_SheatheSword
			Animation					= STHA
				AnimationName			= RUSam_STHA
				AnimationMode			= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST 
		End
		TransitionState					= TRANS_Bored_SwordToRocks
			Animation					= STHD
				AnimationName			= RUSam_STHD
				AnimationMode			= ONCE
			End
		End
		TransitionState					= TRANS_Ready_SwordToRocks
			Animation					= STHD
				AnimationName			= RUSam_STHD
				AnimationMode			= ONCE
			End
		End
		TransitionState					= TRANS_Attention_SwordToRocks
			Animation					= STHD
				AnimationName			= RUSam_STHD
				AnimationMode			= ONCE
			End
		End
		
		TransitionState					= TRANS_DrawSword_Running
			Animation					= STHE
				AnimationName			= RUSam_STHE
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
			End
		End
		TransitionState					= TRANS_Running_RocksToSword
			Animation					= STHE
				AnimationName			= RUSam_STHE
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
			End
		End
		
		TransitionState					= TRANS_SheatheSword_Running
			Animation					= STHF
				AnimationName			= RUSam_STHF
				AnimationMode			= ONCE
			End
		End
		TransitionState					= TRANS_Running_SwordToRocks
			Animation					= STHF
				AnimationName			= RUSam_STHF
				AnimationMode			= ONCE
				AnimationBlendTime		= 0
			End
		End
		
		TransitionState					= TRANS_BoredToAttention_Rocks
			Animation					= RUND
				AnimationName			= RUSam_ATNA
				AnimationMode			= ONCE
			End
		End
		
		TransitionState					= TRANS_AttentionToBored_Rocks
			Animation					= RUND
				AnimationName			= RUSam_ATNC
				AnimationMode			= ONCE
			End
		End
		
;;--------------------------------------------------------------------------------
	End
	
	DisplayName = OBJECT:RohanSam
	VisionRange = 160
	LocomotorSet
		Locomotor = HeroHumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 42
	End
	
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    Sting
	End
	
	WeaponSet
		Conditions = WEAPONSET_ONE_RING_MODE
	End
	
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1 
		Weapon = PRIMARY	SLSamRockThrow
	End

	WeaponSet
		Conditions = WEAPONSET_ONE_RING_MODE WEAPONSET_TOGGLE_1
	End


	; *** AUDIO Parameters ***;

	;VoiceAmbushed		= NoSound	  OBSOLETE VOICE				;this needs to be here to override Frodo's VoiceAmbushed line
	VoiceAttack			= SamVoiceAttack
	VoiceAttackCharge		= SamVoiceAttackCharge
	VoiceAttackMachine	= SamVoiceAttack
	VoiceAttackStructure	= SamVoiceAttack
	VoiceCreated		= SamVoiceSalute
	VoiceFullyCreated 	= SamVoiceSalute
	VoiceFear 			= SamVoiceHelpMeShelobsLair
	VoiceGuard			= SamVoiceMove
	VoiceMove			= SamVoiceMove
	VoiceMoveToCamp		= SamVoiceMove
	VoiceMoveWhileAttacking	= SamVoiceMove
	VoicePriority		= 64
	VoiceRetreatToCastle	= SamVoiceRetreat
	VoiceSelect			= SamVoiceSelectMS
	VoiceSelectBattle 	= SamVoiceSelectBattleShelobsLair

	SoundImpact			= ImpactHorse

	UnitSpecificSounds
		VoiceGarrison							= SamVoiceGarrison
		VoiceAttackUnitWebbedHumanoidWithGondorFighterInside	= SamVoiceFreeWebbedSoldier
		VoiceAttackUnitWebbedHumanoidWithGondorArcherInside	= SamVoiceFreeWebbedSoldier
	End

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU									; Tie into LargeGroupAudio system
		Key = Hobbit Unit Infantry
	End

	EvaEventDamagedOwner 	= UnitUnderAttack		;Eva event to trigger when unit is damaged
	EvaEventDieOwner		= SamDie

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_RUNA 	Frames:2 11 21 31
		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_RUNC 	Frames:2 9 18 25
		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_STHC 	Frames:41 51
		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_STHD 	Frames:11 24
		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_STHE 	Frames:3 16
		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_STHF 	Frames:3 16

		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_GTPA	Frames:63 79
		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_THRA	Frames:31 75

		AnimationSound = Sound:SwordShingClean2 							Animation:RUSam_SKL.RUSam_STHC	Frames:10
		AnimationSound = Sound:SwordIntoScabbard2							Animation:RUSam_SKL.RUSam_STHD	Frames:29
		AnimationSound = Sound:SwordShingClean2 							Animation:RUSam_SKL.RUSam_STHE	Frames:3
		AnimationSound = Sound:SwordIntoScabbard2							Animation:RUSam_SKL.RUSam_STHF	Frames:5

		AnimationSound = Sound:PhialOn		 	RequiredMC:UNPACKING		Animation:RUSam_SKL.RUSam_PHLA 	Frames:37
		AnimationSound = Sound:PhialOn		 	RequiredMC:UNPACKING		Animation:RUSam_SKL.RUSam_PHLC 	Frames:37
		AnimationSound = Sound:RingOn 			RequiredMC:PUTTING_ON_RING	Animation:RUSam_SKL.RUSam_RNGA 	Frames:56
		AnimationSound = Sound:RingOff	 		RequiredMC:TAKING_OFF_RING	Animation:RUSam_SKL.RUSam_RNGB 	Frames:33

		AnimationSound = Sound:BodyFallGenericNoArmor 						Animation:RUSam_SKL.RUSam_LNDA 	Frames:2

		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_DIEA 	Frames:19 24 28
		AnimationSound = Sound:BodyFallGenericNoArmor 						Animation:RUSam_SKL.RUSam_DIEA 	Frames:38
		AnimationSound = Sound:FootstepDirtA 							Animation:RUSam_SKL.RUSam_DIEB	Frames:24 35
		AnimationSound = Sound:BodyFallGenericNoArmor 						Animation:RUSam_SKL.RUSam_DIEB 	Frames:48
	End


	;-----------------

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS; STEALTHED		;Even though this has Stealthed listed, it still can't allow targeting while Hidden (elf cloak).  Just while One Ring'd.
		MoodAttackCheckRate        = 500
		AILuaEventsList				=	FramFunctions  ; don't use lua anymore. The Terror Emotion is code based now. Much less flaky.
		HoldGroundCloseRangeDistance = 40
	End
	
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 3800	;msec
	End
	
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	300		; max distance to taunted/pointed objet
 		TauntAndPointUpdateDelay	=	1000	; how often scan (milliseconds)
 		
		AddEmotion	=	OVERRIDE Alert_Base
			Duration = 9999999
		End
		;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
		; Uncomment if you want Frodo to be really afraid when the Eye catches him
		;		AddEmotion	=	OVERRIDE UncontrollableFear_Base
		;			AILockDuration		=	5000
		;			Duration			=	5000
		;		End
		;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 	End
 	
 	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				= DYING					;Model condition to play when killed-to-respawn
		DeathFX				= FX_SamDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime		= 3000					;How long DeathAnim will take.
		RespawnAnim				= LEVELED					;Animation to play when respawning.
		RespawnFX				= FX_Resurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000					;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP			;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage				= HISam
		
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =	AutoSpawn:No			Cost:100		Time:10000		Health:100%		;DEFAULT VALUES
		RespawnEntry =	Level:2				Cost:150		Time:20000						;For other levels, only override what is different.
		RespawnEntry =	Level:3				Cost:200		Time:30000
		RespawnEntry =	Level:4				Cost:250		Time:40000
		RespawnEntry =	Level:5				Cost:300		Time:50000
		RespawnEntry =	Level:6				Cost:350		Time:60000
		RespawnEntry =	Level:7				Cost:400		Time:70000
		RespawnEntry =	Level:8				Cost:450		Time:80000
		RespawnEntry =	Level:9				Cost:500		Time:90000
		RespawnEntry =	Level:10			Cost:550		Time:100000
	End

	ShroudClearingRange = 200

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL SamVoiceDie
	End

	CommandSet = RohanSamWithFrodoPowersCommandSet

;	Behavior = OneRingPenaltyUpdate ModuleTag_SinglePlayerEyeSummoning
;		SpecialObjectName = EyeOfSauronFromRing	;Different from the Spell driven Stealth Detector, this is just for looks
;			
;		RingTimeBeforeSpawning = 30000		; Time ring is active before Eye spawns
;		TimeSpentRoamingAround = 15000		; Time of roaming before Eye snaps to us
;		TimeRingPowerSuppressed = 30000		; How long we can't use the ring for after being found
;		StartingDistanceFromMe = 300		; How far the Eye is created to start wandering
;		TimeFrozenFromPenalty = 5000		; How long we are paralyzed the moment we are discovered, seperate from the time our stealth is supressed
;		DiscoveredSound = EyeOfSauronCreated ; Sound to play when found out
;	End
End


;------------------------------------------------------------------------------
; Grima
Object IsengardGrima
	; *** ART Parameters ***

	Draw = W3DScriptedModelDraw ModuleTag_DRAW

   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD


		DefaultModelConditionState
			Model               = GUBoromir_SKN
		End
		; --- Idle Anims
		IdleAnimationState
			Animation           = IDLA
				AnimationName     = GUBoromir_SKL.GUBoromir_IDLA 0 15
				AnimationMode     = ONCE
			End
		End

		TransitionState       = Trans_None_To_Sword
			Animation           = GUBoromir_STHA
				AnimationName     = GUBoromir_SKL.GUBoromir_STHA
				AnimationMode     = ONCE
			End
		End
		TransitionState       = Trans_Sword_To_None
			Animation           = GUBoromir_STHB
				AnimationName     = GUBoromir_SKL.GUBoromir_STHB
				AnimationMode     = ONCE
			End
		End



		; --- Moving Anims
		AnimationState        = MOVING DAMAGED WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_IWKA
				AnimationName     = GUBoromir_SKL.GUBoromir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Flags               = RANDOMSTART
			ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_RUNB
				AnimationName     = GUBoromir_SKL.GUBoromir_RUNB
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING DAMAGED
			Flags               = RANDOMSTART
			ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_IWKA
				AnimationName     = GUBoromir_SKL.GUBoromir_IWKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING WANDER
			ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = GUBoromir_SKL.GUBoromir_WLKA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = MOVING
			ParticleSysBone     = None InfantryDustTrails
			Flags               = RANDOMSTART
			Animation           = GUBoromir_RUNB
				AnimationName     = GUBoromir_SKL.GUBoromir_RUNA
				AnimationMode     = LOOP
			End
		End

		; Attacking Anims [Weapon_A]
		AnimationState        = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = ATKA
				AnimationName     = GUBoromir_SKL.GUBoromir_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATKB
				AnimationName    = GUBoromir_SKL.GUBoromir_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		AnimationState        = FIRING_OR_PREATTACK_A
			Animation           = GUBoromir_ATD1
				AnimationName     = GUBoromir_SKL.GUBoromir_ATKB 
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End

		; --- Dying anims
		AnimationState        = DYING SPLATTED
			Animation           = GUBoromir_LNDA
				AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = DYING
			Animation           = GUBoromir_DIEB
				AnimationName     = GUBoromir_SKL.GUBoromir_DIEB
				AnimationMode     = ONCE
			End
		End



		; --- Stunned anims
		AnimationState        = STUNNED_FLAILING 
			Flags               = RANDOMSTART
			Animation           = GUBoromir_FLYA
				AnimationName     = GUBoromir_SKL.GUBoromir_FLYA
				AnimationMode     = LOOP
			End
		End
		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUBoromir_GTPA
				AnimationName     = GUBoromir_SKL.GUBoromir_GTPA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End
		AnimationState        = STUNNED 
			Animation           = GUBoromir_LNDA
				AnimationName     = GUBoromir_SKL.GUBoromir_LNDA
				AnimationMode     = ONCE
			End
		End

;		AnimationState = WAR_CHANT
;			Animation = Chant
;				AnimationName = GUBoromir_SKL.GUBoromir_TNTA
;				AnimationMode = ONCE
;			End
;			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
;		End


		; --------- Idle Anims
		AnimationState        = WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			Animation           = GUBoromir_IDLC
				AnimationName     = GUBoromir_SKL.GUBoromir_IDLC
				AnimationMode     = ONCE
			End
		End
		
		; --------- Click and Hit Reactions ------------
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUBoromir_SKL.GUBoromir_HITA
				AnimationMode = ONCE
			End
    End
		
		

	End



	; ***DESIGN parameters ***
	Side = Isengard
	EditorSorting = UNIT
	ThreatLevel = 4.0
	ThingClass = CHARACTER_UNIT

	TransportSlotCount = TRANSPORTSLOTCOUNT_HERO
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    HobbitPunch
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY    BoromirSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	VisionRange = 120.0
	DisplayName = OBJECT:IsengardGrima
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles

	CommandSet = GenericCommandSet 
	CommandPoints = 1


	; *** AUDIO Parameters ***;

	;VoiceSelect	= NoSound
	;VoiceMove	= NoSound
	;VoiceAttack	= NoSound
	;VoiceFear	= NoSound
	;VoiceGuard	= NoSound

	SoundImpact	= ImpactHorse
	
	;UnitSpecificSounds
	;	VoiceGarrison         = NoSound
	;	VoiceEnter            = NoSound
	;	VoiceEnterHostile     = NoSound
	;	VoiceGetHealed        = NoSound
	;End

    #include "..\includes\StandardUnitEvaEvents.inc"
	EvaEventDieOwner = GrimaDie				;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths

	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE 

	Body = ActiveBody ModuleTag_02
		MaxHealth         = 10                  ;BALANCE Man at Arms Health
		MaxHealthDamaged  = 5
		;RecoveryTime      = 5000
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
;    HoldGroundCloseRangeDistance = 50
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 32
	End
	
	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = 32
	End
	
	Behavior = DualWeaponBehavior ModuleTag_13
		SwitchWeaponOnCloseRangeDistance = 160
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL UrukVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 7 ; level 1 (light  damage)  hit reaction animations in frames (5 per sec)
		HitReactionLifeTimer2 = 15 ; level 2 (medium damage)  hit reaction animations in frames (5 per sec)
		HitReactionLifeTimer3 = 10 ; level 3 (heavy  damage)  hit reaction animations in frames (5 per sec)

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
	End
	

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
	Shadow = SHADOW_DECAL
	ShadowSizeX = 11;
	ShadowSizeY = 11;
	ShadowTexture = ShadowI;
End

;------------------------------------------------------

ChildObject MordorMumakilForGI01 MordorMumakil

	Behavior = RunOffMapBehavior ModuleTag_RunOff
		RequiresSpecificTrigger = Yes ;Triggers when DetachableRiderUpdate says so!
		RunOffMapWaypointName	= Mumakil01_RunTo
		DieOnMap = Yes
	End
	
	Body = DelayedDeathBody ModuleTag_02
		CheerRadius 				= EMOTION_CHEER_RADIUS
		MaxHealth					= MORDOR_MUMAKIL_HEALTH			; BALANCE Mumakil Health
		DoHealthCheck				= No			; Don't want to get the delayed death behaviour when we die normally.
		DelayedDeathTime			= 25000
		CanRespawn					= No			; Unit can't get revived.
		ImmortalUntilDeathTime		= Yes			; Not immune to damage during rampage.  So you can keep him from running stuff over.
	End
END

;------------------------------------------------------

ChildObject MordorMumakilForGI02 MordorMumakil

	Behavior = RunOffMapBehavior ModuleTag_RunOff
		RequiresSpecificTrigger = Yes ;Triggers when DetachableRiderUpdate says so!
		RunOffMapWaypointName	= Mumakil02_RunTo
		DieOnMap = Yes
	End
	
	Body = DelayedDeathBody ModuleTag_02
		CheerRadius 				= EMOTION_CHEER_RADIUS
		MaxHealth				= MORDOR_MUMAKIL_HEALTH			; BALANCE Mumakil Health
		DoHealthCheck				= No			; Don't want to get the delayed death behaviour when we die normally.
		DelayedDeathTime			= 25000
		CanRespawn				= No			; Unit can't get revived.
		ImmortalUntilDeathTime		= Yes			; Not immune to damage during rampage.  So you can keep him from running stuff over.
	End
END

;------------------------------------------------------

ChildObject MordorMumakilForGI03 MordorMumakil

	Behavior = RunOffMapBehavior ModuleTag_RunOff
		RequiresSpecificTrigger = Yes ;Triggers when DetachableRiderUpdate says so!
		RunOffMapWaypointName	= Mumakil03_RunTo
		DieOnMap = Yes
	End
	
	Body = DelayedDeathBody ModuleTag_02
		CheerRadius 				= EMOTION_CHEER_RADIUS
		MaxHealth				= MORDOR_MUMAKIL_HEALTH			; BALANCE Mumakil Health
		DoHealthCheck				= No			; Don't want to get the delayed death behaviour when we die normally.
		DelayedDeathTime			= 25000
		CanRespawn				= No			; Unit can't get revived.
		ImmortalUntilDeathTime		= Yes			; Not immune to damage during rampage.  So you can keep him from running stuff over.
	End
END

;------------------------------------------------------

ChildObject MordorMumakilForGI04 MordorMumakil

	Behavior = RunOffMapBehavior ModuleTag_RunOff
		RequiresSpecificTrigger = Yes ;Triggers when DetachableRiderUpdate says so!
		RunOffMapWaypointName	= Mumakil04_RunTo
		DieOnMap = Yes
	End
	
	Body = DelayedDeathBody ModuleTag_02
		CheerRadius 				= EMOTION_CHEER_RADIUS
		MaxHealth				= MORDOR_MUMAKIL_HEALTH			; BALANCE Mumakil Health
		DoHealthCheck				= No			; Don't want to get the delayed death behaviour when we die normally.
		DelayedDeathTime			= 25000
		CanRespawn				= No			; Unit can't get revived.
		ImmortalUntilDeathTime		= Yes			; Not immune to damage during rampage.  So you can keep him from running stuff over.
	End
END

Object DwarvenBattleWagonBannerCarrier
	ButtonImage			= BuildingNoArt
	SelectPortrait		= BuildingNoArt

	Draw = W3DScriptedModelDraw ModuleTag_01
		ExtraPublicBone				= Glow
		ExtraPublicBone				= Adornment
		ExtraPublicBone				= Streamers
		OkToChangeModelColor		= Yes
		StaticModelLODMode			= yes

		DefaultModelConditionState
			Model					= DUGuaBan_SKN
		End
	End

	Side						= Dwarves
	EditorSorting				= UNIT
	ThreatLevel					= 1.0
	ThingClass					= HORDE_UNIT
	CommandPoints				= 0
	TransportSlotCount			= TRANSPORTSLOTCOUNT_UNIT
	VisionRange					= VISION_STANDARD_MELEE
	VisionSide					= 35%
	VisionRear					= 25%
	VisionBonusPercentPerFoot	= 2.0%
	MaxVisionBonusPercent		= 300%
	VisionBonusTestRadius		= 200
	ShroudClearingRange			= SHROUD_CLEAR_STANDARD
	DisplayName					= OBJECT:DwarvenBattleWagonBannerCarrier
	CrusherLevel				= 0
	CrushableLevel				= 0
	RadarPriority				= UNIT
	KindOf						= PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP BANNER IGNORES_SELECT_ALL
    #include "..\Includes\StandardUnitEvaEvents.inc"

	Body = ActiveBody ModuleTag_02
		CheerRadius					= EMOTION_CHEER_RADIUS
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= No
		MoodAttackCheckRate			= 5000
	End

	LocomotorSet
		Locomotor					= HumanLocomotor
		Condition					= SET_NORMAL
		Speed						= NORMAL_GOOD_INFANTRY_MEMBER_SPEED
	End

	LocomotorSet
		Locomotor					= HumanWanderLocomotor
		Condition					= SET_WANDER
		Speed						= NORMAL_GOOD_INFANTRY_MEMBER_SPEED
	End

	LocomotorSet
		Locomotor					= HumanLocomotor
		Condition					= SET_NORMAL
		Speed						= 0
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult					= 1.0
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes					= ALL -KNOCKBACK
		SinkDelay					= 3000
		SinkRate					= 0.40
		DestructionDelay			= 8000
		Sound						= INITIAL GondorBannerVoiceDie
	End

	Behavior = SquishCollide ModuleTag_06
	End

	Geometry			= CYLINDER
	GeometryMajorRadius	= 8.0
	GeometryMinorRadius	= 8.0
	GeometryHeight		= 19.2
	GeometryIsSmall		= Yes
End

;------------------------------------------------------------------------------
;Rohan Well
Object RohanWell

	SelectPortrait = BPRWell
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day


  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD     
    DefaultModelConditionState
      Model = RBWell
    End
    
    
       ;------------ New Build Up States coming soon. 
    ModelConditionState   = AWAITING_CONSTRUCTION 
		Model               = RBWell_A
;		ParticleSysBone	  = NONE BuildingDoughnutCloud
    End
    AnimationState        = AWAITING_CONSTRUCTION
		Animation           =  RBWell_A
			AnimationName     =  RBWell_A.RBWell_A
			AnimationMode     = MANUAL
			AnimationBlendTime = 0
		End
		Flags				  = START_FRAME_FIRST
    End

    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
      Model               = RBWell_A
		ParticleSysBone   = CONSTDUSTBONE01 BuildingContructDust FollowBone:Yes
    End
    
    AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
		Animation           = RBWell_A
			AnimationName     = RBWell_A.RBWell_A
			AnimationMode     = MANUAL
			AnimationBlendTime = 0
		End
		Flags				  = START_FRAME_FIRST
		StateName			  = BeingConstructed
		BeginScript
			CurDrawablePlaySound("GondorBarracksBeginConstruction")
		EndScript
    End
    
    ;--damaged building
    
    ModelConditionState  = DAMAGED
      Model         = RBWell_D1
		ParticleSysBone FireSmall01 SmokeBuildingSmall
		ParticleSysBone FireSmall02 SmokeBuildingSmall
    End
    AnimationState = DAMAGED
	EnteringStateFX	= FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBWell_D2 
		ParticleSysBone FireSmall01 SmokeBuildingSmall
		ParticleSysBone FireSmall02 SmokeBuildingSmall
		ParticleSysBone FireSmall03 SmokeBuildingSmall
    End
    AnimationState = REALLYDAMAGED
	EnteringStateFX	= FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = RBWell_D2  
       ParticleSysBone SmokeLarge01 SmokeBuildingMedium
    End
    
    AnimationState = RUBBLE
    End

    ModelConditionState  = POST_RUBBLE
		Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
		 Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    
    
  End
  
  ; Draw module just for the heal FX.
	Draw = W3DScriptedModelDraw TheHealEffect
	    ModelConditionState  = NONE
			Model = None
			ParticleSysBone NONE WellHealFX
		End
	    ModelConditionState  = ACTIVELY_BEING_CONSTRUCTED
			Model = None
		End
	End

  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:RohanWell
  Description 	      = OBJECT:RohanWellDescription
  Side                = Obsolete
	IsTrainable = No
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = ROHAN_WELL_BUILDCOST				
  BuildTime           = ROHAN_WELL_BUILDTIME				; in seconds
  VisionRange         = ROHAN_WELL_VISIONRANGE				; Shroud clearing distance
  ShroudClearingRange = ROHAN_WELL_SHROUDCLEAR
  BountyValue         = ROHAN_WELL_BOUNTY_VALUE	


			
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    ;DamageFX          = StructureDamageFXNoShake
  End
  
  CommandSet = SellableCommandSet



; For Testing Purposes


; *** AUDIO Parameters ***
	#include "..\Includes\StandardBuildingEvaEvents.inc"

	VoiceSelect		= GondorWellSelect

	SoundOnDamaged		= BuildingLightDamageWood
	SoundOnReallyDamaged	= BuildingHeavyDamageWood
	SoundAmbient		= WaterFountain1AmbientLoop

	VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction

	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End
 

  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY MADE_OF_STONE CAN_SEE_THROUGH_STRUCTURE
 
  Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
    ;WorkerName		  = ""; instead of RohanWorker, the well builds itself
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
	SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
	SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  CommandSet		    = SellableCommandSet

  Body                      = StructureBody ModuleTag_05
    MaxHealth               = ROHAN_WELL_MAXHEALTH				
    MaxHealthDamaged        = ROHAN_WELL_MAXHEALTHDAMAGED			
  	MaxHealthReallyDamaged  = ROHAN_WELL_MAXHEALTH_REALLYDAMAGED		
  End

	Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
		DestructionDelay  = 5000
	End
	  
	Behavior                  = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
	End
 
	Behavior = PassiveAreaEffectBehavior ModuleTag_SplashOfHealingWater_Ahh
		EffectRadius		= 200 ; please update the decal size in experience lvl INI if you change this... the value there is about 2.2x the value here		
		PingDelay		= 2000;msec
		HealPercentPerSecond	= 3%
		AllowFilter		= ANY +INFANTRY +CAVALRY -MACHINE +MONSTER -IMMOBILE    
	End
 

	Behavior = CostModifierUpgrade ModuleTag_CostModifier
		LabelForPalantirString = GUI:WATER_DISCOUNT
		StartsActive = Yes ; Run on build complete, not upgrade
		ObjectFilter		= ANY +RohanPeasantHorde +RohanArcherHorde +RohanElvenWarriorHorde
		Percentage		= -0%
		Percentage		= -20%
		Percentage		= -30%
	End

	;/////////////////////////////////////////////////////////
	;// BannerCarrierUpdate module for Well Object
	;/////////////////////////////////////////////////////////
	Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
		IdleSpawnRate			= 5000							; spawn a new member every n seconds when idle (in miliseconds)		
		UnitSpawnFX				= FX_BannerCarrierSpawnUnit		; name of particle FX to use when the BannerCarrier spawns a new unit		

		; This well object acts like a banner carrier except it spawns unit on nearby hordes instead of itself.
		ReplenishNearbyHorde	= Yes
		ScanHordeDistance		= 200
	End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
 
  Geometry              = CYLINDER
  GeometryMajorRadius   = 35.6
  GeometryHeight        = 16.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
  
	GeometryContactPoint	= X:-12.063		Y:30.688	Z:0			Repair
	GeometryContactPoint	= X:26.816		Y:-17.416	Z:0			Repair
	GeometryContactPoint	= X:23.753		Y:22.765	Z:0
	GeometryContactPoint	= X:-27.95		Y:-17.416	Z:0
	GeometryContactPoint	= X:0.007		Y:-0.119	Z:25.696	Swoop

End


;------------------------------------------------------------------------------
;Rohan Hero Statue
Object RohanHeroStatue

	SelectPortrait = BPRHeroicStatue

  Draw = W3DScriptedModelDraw ModuleTag_Draw
		OkToChangeModelColor  = Yes
		UseStandardModelNames = Yes

		DefaultModelConditionState
			Model = RPHeroStat
		End
    
		ModelConditionState     = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Model               = RPHeroStat_A
;			ParticleSysBone	    = NONE BuildingDoughnutCloud
			ParticleSysBone     = NONE BuildingContructDust
		End  
		AnimationState          = ACTIVELY_BEING_CONSTRUCTED
			Animation
				AnimationName	= RPHeroStat_A.RPHeroStat_A
				AnimationMode   = MANUAL
			End
			BeginScript
				CurDrawablePlaySound("GondorBarracksBeginConstruction")
			EndScript
		End

		ModelConditionState     = DAMAGED
			Model               = RPHeroStat_D1
	
		End  
		AnimationState =	DAMAGED
			EnteringStateFX	= FX_StatueDamaged
		End
		
		
		ModelConditionState     = REALLYDAMAGED
			Model               = RPHeroStat_D2
	
		End  
    	AnimationState =	REALLYDAMAGED
			EnteringStateFX	= FX_StatueDamaged
		End
		
			
		ModelConditionState  = RUBBLE
			Model         =  RPHeroStat_D2 
			ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		End
		AnimationState = RUBBLE
		End

		ModelConditionState  = POST_RUBBLE
			Model         = None
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End
		ModelConditionState  = POST_COLLAPSE
			Model         = None
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End
  End
  
  ; Draw module just for the hero FX.
	Draw = W3DScriptedModelDraw TheHealEffect
	    ModelConditionState  = NONE
			Model = None
			ParticleSysBone NONE StatueHeroFX
		End
	    ModelConditionState  = ACTIVELY_BEING_CONSTRUCTED
			Model = None
		End
	End



  PlacementViewAngle  = 90
 
  ; ***DESIGN parameters ***
  DisplayName			= OBJECT:RohanHeroStatue
  Description			= OBJECT:RohanStatueDescription
  Side					= Obsolete
	IsTrainable			= No
  EditorSorting			= STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = ROHAN_HEROSTATUE_BUILDCOST
  BuildTime           = ROHAN_HEROSTATUE_BUILDTIME          ; in seconds
  VisionRange         = ROHAN_HEROSTATUE_VISIONRANGE          ; Shroud clearing distance
  ShroudClearingRange = ROHAN_HEROSTATUE_SHROUDCLEAR
  BountyValue         = ROHAN_HEROSTATUE_BOUNTY_VALUE
  
;  ArmorSet
;    Conditions        = None
;    Armor             = StructureArmor
;    DamageFX          = StructureDamageFXNoShake
;  End



; For Testing Purposes


  ; *** AUDIO Parameters ***

	VoiceSelect		= GondorStatueSelect

	SoundOnDamaged		= BuildingLightDamageWood
	SoundOnReallyDamaged	= BuildingHeavyDamageWood

	VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction

	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:StatueHeroicBuildStoneExplode	Animation:RPHeroStat_A.RPHeroStat_A		Frames:620
		AnimationSound = Sound:StatueHeroicBuildStoneDebris1	Animation:RPHeroStat_A.RPHeroStat_A		Frames:635
		AnimationSound = Sound:StatueHeroicBuildStoneDebris2	Animation:RPHeroStat_A.RPHeroStat_A		Frames:650
	End

 
  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MADE_OF_STONE
 

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = ROHAN_HEROSTATUE_MAXHEALTH
  End

	Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
		DestructionDelay  = 5000
	End

	Behavior = GettingBuiltBehavior ModuleTag_GetBuilt
		;WorkerName	= "" ; Not RohanWorker, I build myself
		SpawnTimer  = 120
		RebuildWhenDead = Yes
		SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
		SelfRepairFromRubbleLoop  = BuildingConstructionLoop
	End

;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
	Behavior = PassiveAreaEffectBehavior ModuleTag_FeelGoodHero
		EffectRadius			= 300 ; please update the decal size in experience lvl INI if you change this... the value there is about 2.2x the value here
		PingDelay				= 2000;msec

		ModifierName			= HeroicStatuePassiveLeadership
		
		AllowFilter				= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
 
  Behavior                  = StructureCollapseUpdate ModuleTag_Collapse
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
	DestroyObjectWhenDone	= Yes
	CollapseHeight			= 126
  End

 
 
 	Behavior = CostModifierUpgrade ModuleTag_CostModifier1 ;makes heroes cheaper
		LabelForPalantirString = GUI:HERO_DISCOUNT
		StartsActive = Yes ; Run on build complete, not upgrade
		ObjectFilter		= ANY +HERO 
		Percentage		= 0%
		Percentage		= -10%
		Percentage		= -20%
		Percentage		= -30%
	End

 
 
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End

	CommandSet = SellableCommandSet

  Geometry              = BOX
  GeometryMajorRadius   = 11.0
  GeometryMinorRadius   = 22.0
  GeometryHeight        = 70.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     	= PLACED_BY_PLAYER
End


;------------------------------------------------------------------------------
;Rohan Statue

ChildObject	RohanStatue	RohanHeroStatue 

; this is bad art that may be used somewhere else.

End

;------------------------------------------------------------------------------
;A special version of the Rohan Hero Statue: Give no leadership bonus
;------------------------------------------------------------------------------
Object RohanHeroStatueNoLeadership

	SelectPortrait = BPRHeroicStatue

  Draw = W3DScriptedModelDraw ModuleTag_Draw
		OkToChangeModelColor  = Yes
		UseStandardModelNames = Yes

		DefaultModelConditionState
			Model = RPHeroStat
		End
    
		ModelConditionState     = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Model               = RPHeroStat_A
;			ParticleSysBone	    = NONE BuildingDoughnutCloud
			ParticleSysBone     = NONE BuildingContructDust
		End  
		AnimationState          = ACTIVELY_BEING_CONSTRUCTED
			Animation
				AnimationName	= RPHeroStat_A.RPHeroStat_A
				AnimationMode   = MANUAL
			End
			BeginScript
				CurDrawablePlaySound("GondorBarracksBeginConstruction")
			EndScript
		End

		ModelConditionState     = DAMAGED
			Model               = RPHeroStat_D1
	
		End  
		AnimationState =	DAMAGED
			EnteringStateFX	= FX_StatueDamaged
		End
		
		
		ModelConditionState     = REALLYDAMAGED
			Model               = RPHeroStat_D2
	
		End  
    	AnimationState =	REALLYDAMAGED
			EnteringStateFX	= FX_StatueDamaged
		End
		
			
		ModelConditionState  = RUBBLE
			Model         =  RPHeroStat_D2 
			ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		End
		AnimationState = RUBBLE
		End

		ModelConditionState  = POST_RUBBLE
			Model         = None
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End
		ModelConditionState  = POST_COLLAPSE
			Model         = None
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End
  End



  PlacementViewAngle  = 90
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:HelmsDeepdiWall
;  Description 	      = OBJECT:RohanStatueDescription
  Side                 = Obsolete
    IsTrainable        = No
  EditorSorting        = STRUCTURE
  ThreatLevel          = 0.0
 
  BuildCost            = ROHAN_HEROSTATUE_BUILDCOST
  BuildTime            = ROHAN_HEROSTATUE_BUILDTIME            ; in seconds
  VisionRange          = ROHAN_HEROSTATUE_VISIONRANGE          ; Shroud clearing distance
  ShroudClearingRange  = ROHAN_HEROSTATUE_SHROUDCLEAR
  BountyValue          = ROHAN_HEROSTATUE_BOUNTY_VALUE
  
;  ArmorSet
;    Conditions        = None
;    Armor             = StructureArmor
;    DamageFX          = StructureDamageFXNoShake
;  End


  ; *** AUDIO Parameters ***

  VoiceSelect  = GondorStatueSelect

  SoundOnDamaged        = BuildingLightDamageWood
  SoundOnReallyDamaged  = BuildingHeavyDamageWood

  VoiceSelectUnderConstruction  = BuildingGoodVoiceSelectUnderConstruction

  UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
  End

 
  ; *** ENGINEERING Parameters ***

  RadarPriority  = STRUCTURE
  KindOf         = PRELOAD STRUCTURE IMMOBILE SCORE NEED_BASE_FOUNDATION MADE_OF_STONE ;SELECTABLE 
 

  Behavior     = CastleMemberBehavior ModuleTag_CMB
  End 

  Body         = StructureBody ModuleTag_05
    MaxHealth  = ROHAN_HEROSTATUE_MAXHEALTH
  End

  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
    DestructionDelay        = 5000
  End

  Behavior = GettingBuiltBehavior ModuleTag_GetBuilt
    ;WorkerName             = "" ; Not RohanWorker, I build myself
    SpawnTimer              = 120
    RebuildWhenDead         = No
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
	SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
	SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior                  = StructureCollapseUpdate ModuleTag_Collapse
    MinCollapseDelay        = 000
    MaxCollapseDelay        = 000
    CollapseDamping         = .5
    MaxShudder              = 0.6
    MinBurstDelay           = 250
    MaxBurstDelay           = 800
    BigBurstFrequency       = 4
    FXList                  = INITIAL   FX_StructureMediumCollapse
    FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
      DestroyObjectWhenDone = Yes
      CollapseHeight        = 126
  End

  CommandSet = SellableCommandSet

  Geometry              = BOX
  GeometryMajorRadius   = 11.0
  GeometryMinorRadius   = 22.0
  GeometryHeight        = 70.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion       = PLACED_BY_PLAYER
END


;------------------------------------------------------------------------------
;
;	Damrod.ini
;
;------------------------------------------------------------------------------

; Faramir
Object GondorDamrod
	; *** ART Parameters ***

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPDamrod
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
 ;   ButtonImage = HIDamrod
    
	Draw = W3DScriptedModelDraw ModuleTag_DRAW
	OkToChangeModelColor = Yes
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

	ExtraPublicBone = arrow
	ExtraPublicBone = PASSENGERBONE
		
	 DependencySharedModelFlags = TURN_LEFT_HIGH_SPEED TURN_RIGHT_HIGH_SPEED MOVING ACCELERATE DECELERATE TURN_LEFT TURN_RIGHT ATTACKING BACKING_UP

;;====================== MODELS ================================================================
		DefaultModelConditionState
			Model               = GUDamrod_SKN
			WeaponLaunchBone    = PRIMARY arrow
		End

;;================== ANIMATIONS =================================================================
	
;;----------- Captain of Gondor - Sword
		AnimationState        = PACKING_TYPE_2 WEAPONSET_TOGGLE_1
			StateName		  =	CaptainPower
			Animation           = GUFaramir_CHRC
				AnimationName     = GUFaramir_SKL.GUFaramir_CHRC
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.2 1.2
			End
		End

;;----------- Captain of Gondor - Bow
		AnimationState        = PACKING_TYPE_2
			StateName		  =	STATE_CaptainBow
			Animation           = GUFaramir_CHRD
				AnimationName     = GUFaramir_SKL.GUFaramir_CHRD
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.75 0.75
			End
		End


;;------------------  DYING -------------------------------------------------------------

; --- Flying through the air.
		AnimationState        = STUNNED_FLAILING WEAPONSET_TOGGLE_1
			StateName           = STATE_Sword
			Animation           = GUFaramir_FLYB
				AnimationName     = GUFaramir_SKL.GUFaramir_FLYB
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
		End
		
		AnimationState        = STUNNED_FLAILING 
			StateName           = STATE_Bow
			Animation           = GUFaramir_FLYA
				AnimationName     = GUFaramir_SKL.GUFaramir_FLYA
				AnimationMode     = LOOP
			End
			Flags               = RANDOMSTART
		End
		
; --- Dying anims
		AnimationState        = DYING SPLATTED WEAPONSET_TOGGLE_1
			StateName           = STATE_Sword
			Animation           = GUFaramir_LNDB
				AnimationName     = GUFaramir_SKL.GUFaramir_LNDB
				AnimationMode     = ONCE
			End
		End

		AnimationState        = DYING SPLATTED
			StateName           = STATE_Bow
			Animation           = GUFaramir_LNDA
				AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
				AnimationMode     = ONCE
			End
		End
		
		; with sword
		AnimationState        = DYING WEAPONSET_TOGGLE_1	;WEAPONSTATE_CLOSE_RANGE
			StateName           = STATE_Sword

			Animation           = GUFaramir_DIEA
				AnimationName     = GUFaramir_SKL.GUFaramir_DIEA
				AnimationMode     = ONCE
			End
			
			Animation           = GUFaramir_DIEB
				AnimationName     = GUFaramir_SKL.GUFaramir_DIEB
				AnimationMode     = ONCE
			End
		End
		
		; with bow
		AnimationState        = DYING
			StateName           = STATE_Bow
			Animation           = GUFaramir_DIEC
				AnimationName     = GUFaramir_SKL.GUFaramir_DIEC
				AnimationMode     = ONCE
			End
		End


; --- Stunned anims


		AnimationState        = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
			StateName           = STATE_Sword
			Animation           = GUFaramir_GTPB
				AnimationName     = GUFaramir_SKL.GUFaramir_GTPB
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End
		
		AnimationState        = STUNNED_STANDING_UP
			StateName           = STATE_Bow
			Animation           = GUFaramir_GTPA
				AnimationName     = GUFaramir_SKL.GUFaramir_GTPA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState        = STUNNED WEAPONSET_TOGGLE_1
			StateName           = STATE_Sword
			
			Animation           = GUFaramir_LNDB
				AnimationName     = GUFaramir_SKL.GUFaramir_LNDB
				AnimationMode     = ONCE
			End
		End

		AnimationState        = STUNNED 
			StateName           = STATE_Bow
			
			Animation           = GUFaramir_LNDA
				AnimationName     = GUFaramir_SKL.GUFaramir_LNDA
				AnimationMode     = ONCE
			End
		End				

;;----------- pose 		
		AnimationState        = USER_1
		;*****************************************************************
			;ParticleSysBone     = B_SWORDBONE AndruilEfxParent FollowBone:yes
		;*****************************************************************
			Animation           = GUFaramir_POSA
				AnimationName     = GUFaramir_SKL.GUFaramir_POSA
				AnimationMode     = ONCE
			End
		End

		;--------------------- Wound Arrow anim
		AnimationState        =  SPECIAL_WEAPON_ONE
			StateName = STATE_Bow
			Animation
				AnimationName           = GUFaramir_SKL.GUFaramir_ATKC
				AnimationMode       = ONCE
			End
			FrameForPristineBonePositions = 59
			BeginScript
				CurDrawableShowSubObject("arrow")
			EndScript
		End
		
;;------------------ ATTACKING --------------------------------------------------------------------
		; Attacking Anims [Weapon_A]
		
		
		
		AnimationState        = MOVING WEAPONSET_TOGGLE_1 FIRING_OR_PREATTACK_A
			Animation           = TrotAndFire
				AnimationName       = GUFaramir_SKL.GUFaramir_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
			StateName = RunAndSwing
		End
		
		AnimationState        = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			StateName           = STATE_Sword
			
			Animation           = ATKD
				AnimationName     = GUFaramir_SKL.GUFaramir_ATKD
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
				AnimationSpeedFactorRange = 1.149 1.149
			End
			
			Animation           = ATKE
				AnimationName    = GUFaramir_SKL.GUFaramir_ATKE
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
				AnimationSpeedFactorRange = 1.149 1.149
			End
			
			Animation           = ATKF
				AnimationName    = GUFaramir_SKL.GUFaramir_ATKF
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.47 1.47
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE
			;	FrameForPristineBonePositions = 59
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
			EndScript
		End

;;------------------ MOVING -------------------------------------------------------------

		AnimationState        = MOVING USER_4                 ; Moving slaughter
			StateName           = Slaughter
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUFaramir_ATKE
				AnimationName     = GUFaramir_SKL.GUFaramir_ATKE
				AnimationMode     = LOOP
			End
			StateName           = NoSword
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
			EndScript
		End

		;--- Running with sword
		AnimationState			= MOVING WEAPONSET_TOGGLE_1		;WEAPONSTATE_CLOSE_RANGE
			StateName           = STATE_RunningSword
			Flags               = RANDOMSTART
			;ParticleSysBone    = None InfantryDustTrails
			
			Animation           = GUFaramir_RUNB
				AnimationName   = GUFaramir_SKL.GUFaramir_RUNB
;				AnimationMode   = LOOP
				AnimationSpeedFactorRange = 0.85 0.85
				Distance		= 28
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
				if Prev == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
			EndScript
		End

		;--- Running with bow
		AnimationState			= MOVING
			StateName           = STATE_RunningBow
			Flags               = RANDOMSTART
			;ParticleSysBone    = None InfantryDustTrails
			
			Animation           = GUFaramir_RUNA
				AnimationName   = GUFaramir_SKL.GUFaramir_RUNA
;				AnimationMode   = LOOP
				AnimationSpeedFactorRange = 0.85 0.85
				Distance = 28
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
				if Prev == "STATE_RunningSword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Running") end
			EndScript
		End

		;---------------------------------------------------
		;New style firing with bow
		AnimationState					=	PREATTACK_A 
			StateName					=	STATE_Firing
			Animation					=	ReadyToDrawn
				AnimationName			=	GUFaramir_SKL.GUFaramir_ATKA1
				AnimationMode			=	ONCE
;				UseWeaponTiming			=	Yes			; UseWeaponTiming plus random weapon field equals desync.  Leaving as warning
				;AnimationBlendTime		=	10
			End
		End

		AnimationState					=	FIRING_OR_RELOADING_A 
			StateName					=	STATE_Firing
			Animation					=	LooseReloadDraw
				AnimationName			=	GUFaramir_SKL.GUFaramir_ATKA2
				AnimationMode			=	ONCE
;				UseWeaponTiming			=	Yes			; UseWeaponTiming plus random weapon field equals desync.  Leaving as warning
				AnimationSpeedFactorRange = 1.1 1.1		; Therefore, this is all you get.  A slight speed up so that the animation can always finish before any possible random value Design sets the range for
				;AnimationBlendTime		=	10
			End
		End
		;---------------------End New style firing

		AnimationState					=	CONTINUOUS_FIRE_MEAN
			Animation					=	HangFrameWhileCoasting
				AnimationName			=	GUFaramir_SKL.GUFaramir_ATKA2
				AnimationMode			=	MANUAL
			End
		End
		
		AnimationState						= CONTINUOUS_FIRE_SLOW
			;StateName						= STATE_Idle_Bow
			Animation						= PutAwayArrow
				AnimationName				= GUFaramir_SKL.GUFaramir_ATKA3
				AnimationMode				= ONCE
			End
		End
				
		;End New style firing
		;---------------------------------------------------


		
;;-------------------- HIT REACTIONS -----------------------------------------------------------

; this hit animation attack stance
		AnimationState = EMOTION_ALERT HIT_REACTION WEAPONSET_TOGGLE_1
			Animation = Hit_Level_1_d
				AnimationName = GUFaramir_SKL.GUFaramir_HITD
				AnimationMode = ONCE
			End
		End

		AnimationState = HIT_REACTION WEAPONSET_TOGGLE_1
			Animation = Hit_Level_1_b
				AnimationName = GUFaramir_SKL.GUFaramir_HITB
				AnimationMode = ONCE
			End
		End

		AnimationState = HIT_REACTION
			Animation = Hit_Level_1_c
				AnimationName = GUFaramir_SKL.GUFaramir_HITC
				AnimationMode = ONCE
			End
		End

;;------------ EMOTIONS ------------------------------------------------------------------		


;;====== LEVELED
		AnimationState				= LEVELED WEAPONSET_TOGGLE_1	; This state clears itself in 3 seconds
			Animation				= LevelUp
				AnimationName		= GUFaramir_SKL.GUFaramir_CHRC
				AnimationMode		= ONCE
			End
		End

		AnimationState				= LEVELED 						; This state clears itself in 3 seconds
			Animation				= LevelUp
				AnimationName		= GUFaramir_SKL.GUFaramir_CHRD
				AnimationMode		= ONCE
			End
		End

;;====== CELEBRATING	

;		AnimationState				=	EMOTION_CELEBRATING
;				Animation           =	CHRA
;					AnimationName   =	GUFaramir_SKL.GUFaramir_CHRA
;					AnimationMode   =	ONCE
;					AnimationPriority	=	10
;				End
;				Animation           =	CHRB
;					AnimationName   =	GUFaramir_SKL.GUFaramir_CHRB
;					AnimationMode   =	ONCE
;					AnimationPriority	=	5
;				End
;				Flags				=	RESTART_ANIM_WHEN_COMPLETE		
;			End

;;------------------- SELECTED STATES ------------------------------------------------------------

		AnimationState        = ATTACKING WEAPONSET_TOGGLE_1
			StateName           = STATE_Sword
			Animation           = ATKD
				AnimationName     = GUFaramir_SKL.GUFaramir_ATKD
				AnimationMode     = MANUAL
			End			
		End

;;------------------- SELECTED STATES ------------------------------------------------------------

		AnimationState					= SELECTED WEAPONSET_TOGGLE_1
			StateName					= STATE_Selected_Sword
			
			Animation					= ATNE
				AnimationName			= GUFaramir_SKL.GUFaramir_ATNE
				AnimationMode			= LOOP
				AnimationBlendTime		= 15
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedSword") return end
			EndScript
		End
		
;;====== ALERT
		AnimationState				=	EMOTION_ALERT WEAPONSET_TOGGLE_1
			StateName				=	STATE_READY
			Animation				=	ready
				AnimationName		=	GUFaramir_SKL.GUFaramir_IDLA
				AnimationMode		=	LOOP
				AnimationBlendTime	=	20
			End
		End
		
		AnimationState				=	SELECTED 
			StateName				=	STATE_Selected_Bow
			
			Animation				=	ATNB
				AnimationName		=	GUFaramir_SKL.GUFaramir_ATNB
				AnimationMode		=	LOOP
				AnimationBlendTime  = 15
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
				if Prev == "STATE_Idle_Bow"	then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedBow") return end
				if Prev == "STATE_CaptainBow" then CurDrawableSetTransitionAnimState("TRANS_CaptainBowToSelectedBow") end
			EndScript
		End
	


;;--------------- IDLE STATES -----------------------------------------------------------------	
		
		AnimationState					= WEAPONSET_TOGGLE_1
			StateName					= STATE_Idle_Sword	

			Animation           		= IDLE
				AnimationName       	= GUFaramir_SKL.GUFaramir_IDLE
				AnimationMode       	= LOOP
				AnimationPriority	    = 20
				AnimationBlendTime  = 15
			End
			
			Animation           		= IDLF
				AnimationName       	= GUFaramir_SKL.GUFaramir_IDLF
				AnimationMode       	= LOOP
				AnimationPriority	    = 1
			End

			Animation           		= IDLG
				AnimationName       	= GUFaramir_SKL.GUFaramir_IDLG
				AnimationMode       	= LOOP
				AnimationPriority	    = 1
			End
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
				if Prev == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
			EndScript
		End
		
		IdleAnimationState
			StateName           = STATE_Idle_Bow
			
			Animation           = IdleBow
				AnimationName     = GUFaramir_SKL.GUFaramir_IDLC
				AnimationMode     = ONCE
				AnimationBlendTime  = 15
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
				if Prev == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredBow") end
			EndScript
		End

	;---transitions--------------------------------------------

		TransitionState = TRANS_BoredToSelectedSword
			Animation = ANTD
				AnimationName		= GUFaramir_SKL.GUFaramir_ANTD
				AnimationMode		= ONCE
			End		
		End
		
		TransitionState = TRANS_SelectedToBoredSword
			Animation			= ATNF
				AnimationName	= GUFaramir_SKL.GUFaramir_ATNF
				AnimationMode	= ONCE
			End		
		End	

		TransitionState = TRANS_BoredToSelectedBow
			Animation = ATNC
				AnimationName		= GUFaramir_SKL.GUFaramir_ATNC
				AnimationMode		= ONCE
			End		
		End
		
		TransitionState = TRANS_CaptainBowToSelectedBow
			Animation = ATNC
				AnimationName		= GUFaramir_SKL.GUFaramir_ATNC
				AnimationMode		= ONCE
				AnimationBlendTime	= 10
				AnimationSpeedFactorRange = 1.5 1.5
			End		
		End
		
		TransitionState = TRANS_SelectedToBoredBow
			Animation			= ATNA
;				AnimationName	= GUFaramir_SKL.GUFaramir_ATNA
				AnimationName	= GUFaramir_SKL.GUFaramir_ATND
				AnimationMode	= ONCE
			End		
		End	


		TransitionState       = TRANS_BowToSword
			Animation           = GUFaramir_STHA
				AnimationName     = GUFaramir_SKL.GUFaramir_STHA 
				AnimationMode     = ONCE
			End
		End

		TransitionState       = TRANS_SwordToBow
			Animation           = GUFaramir_STHB
				AnimationName     = GUFaramir_SKL.GUFaramir_STHB 
				AnimationMode     = ONCE
			End
		End	

		TransitionState       		= TRANS_BowToSword_Running
			Animation           	= DrawSwords
				AnimationName       = GUFaramir_SKL.GUFaramir_STHD
				AnimationMode       = ONCE
			End
		End
		
		TransitionState       		= TRANS_SwordToBow_Running
			Animation           	= DrawBow
				AnimationName       = GUFaramir_SKL.GUFaramir_STHC
				AnimationMode       = ONCE
			End
		End		

	End

	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	End

	; ***DESIGN parameters ***
	Side = Men
	EditorSorting = UNIT
	ThreatLevel = 4.0
	ThingClass = CHARACTER_UNIT
	BuildCost = DAMROD_BUILDCOST				
	BuildTime = DAMROD_BUILDTIME				
	TransportSlotCount = TRANSPORTSLOTCOUNT_HERO

	;//DisplayMeleeDamage = DAMROD_DAMAGE
	;//DisplayRangedDamage = DAMROD_BOW_DAMAGE

	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    FaramirBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1		;CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY    FaramirSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	;WeaponSet
	;	Conditions = SPECIAL_UPGRADE
	;	Weapon = PRIMARY    DamrodBowDeadlySniper
	;	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	;End
	WeaponSet
		Conditions		= WEAPONSET_HERO_MODE
		Weapon			= PRIMARY	DamrodBowDeadlySniper
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	
	ArmorSet
		Conditions      = None
		Armor           = HeroLightArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = VISION_HERO_RANGED
	ShroudClearingRange = SHROUD_CLEAR_RANGED_HERO

	BountyValue = GONDOR_DAMROD_BOUNTY_VALUE
	DisplayName = OBJECT:GondorDamrod
	RecruitText = CONTROLBAR:GondorDamrodRecruit
	ReviveText	= CONTROLBAR:GondorDamrodRevive
	Hotkey		= CONTROLBAR:GondorDamrodHotkey
	CrusherLevel = 0			;Can I crush anything?
	MountedCrusherLevel = 1		;Crush level when mounted.
	CrushableLevel = 2			;What am I?:        0 = for infantry, 1 = for trees, 2 = cavalry/heroes
	MountedCrushableLevel = 2	;Crusable level when mounted.

	CrushWeapon		= HeroCrush  

	MinCrushVelocityPercent = 50 ; Has to be moving at at least 50% of full speed.
	CrushDecelerationPercent = 30 ; Lose xx percent of max velocity when crushing.
	
	CrushKnockback = 40
	CrushZFactor = 1.0

	CommandSet = GondorDamrodCommandSet
	CommandPoints = 0


	; *** AUDIO Parameters ***;

	VoiceAttack				= FaramirRangerVoiceAttack
	VoiceAttackAir				= FaramirRangerVoiceAttack
	VoiceAttackCharge			= FaramirRangerVoiceAttackCharge
	VoiceAttackMachine		= FaramirRangerVoiceAttack
	VoiceAttackStructure		= FaramirRangerVoiceAttackBuilding
	;VoiceCreated			= FaramirRangerVoiceSalute	;this conflicts with his respawn dialogue line -- rehooked to spawn FX
	;VoiceFullyCreated 		= FaramirRangerVoiceSalute	;this conflicts with his respawn dialogue line -- rehooked to spawn FX
	VoiceMove				= FaramirRangerVoiceMove
	VoiceMoveToCamp			= FaramirRangerVoiceMoveCamp
	VoiceMoveWhileAttacking		= FaramirRangerVoiceDisengage
	VoicePriority			= 82
	VoiceRetreatToCastle		= FaramirRangerVoiceRetreat
	VoiceSelect				= FaramirRangerVoiceSelectMS
	VoiceSelectBattle 		= FaramirRangerVoiceSelectBattle
	VoiceGuard				= FaramirRangerVoiceMove

	SoundImpact				= ImpactHorse

;FaramirRangerVoiceModeKnight
;FaramirRangerVoiceMoveTrees

	UnitSpecificSounds
		VoiceGarrison		= FaramirRangerVoiceGarrison              
	End

    #include "..\includes\StandardUnitEvaEvents.inc"
	EvaEventDieOwner					= FaramirDie	;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU			; Tie into LargeGroupAudio system
		Key = Human Unit Infantry Hero
		UnitWeight = 2
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:FootstepDirtA		Animation:GUFaramir_SKL.GUFaramir_RUNA		Frames:2 12
		AnimationSound = Sound:FootstepDirtA		Animation:GUFaramir_SKL.GUFaramir_RUNB		Frames:2 12

		AnimationSound = Sound:WeaponSwitchBow		Animation:GUFaramir_SKL.GUFaramir_ATKC		Frames:18		;wounding arrow

		AnimationSound = Sound:SwordShingClean1		Animation:GUFaramir_SKL.GUFaramir_STHA		Frames:21
		AnimationSound = Sound:SwordIntoScabbard1		Animation:GUFaramir_SKL.GUFaramir_STHB		Frames:11
		AnimationSound = Sound:WeaponSwitchBow		Animation:GUFaramir_SKL.GUFaramir_STHB		Frames:28

		AnimationSound = Sound:SwordIntoScabbard1		Animation:GUFaramir_SKL.GUFaramir_STHC		Frames:2
		AnimationSound = Sound:WeaponSwitchBow		Animation:GUFaramir_SKL.GUFaramir_STHC		Frames:3
		AnimationSound = Sound:SwordShingClean1		Animation:GUFaramir_SKL.GUFaramir_STHD		Frames:6

		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:GUFaramir_SKL.GUFaramir_DIEA		Frames:88
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:GUFaramir_SKL.GUFaramir_DIEB		Frames:85
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:GUFaramir_SKL.GUFaramir_DIEC		Frames:49
		AnimationSound = Sound:BodyFallSoldier		Animation:GUFaramir_SKL.GUFaramir_LNDA		Frames:3
		AnimationSound = Sound:BodyFallSoldier		Animation:GUFaramir_SKL.GUFaramir_LNDB		Frames:2

		AnimationSound = Sound:HorseMoveFootsteps		Animation:RUHHs_Theo_SKL.RUHHs_Theo_ACCL		Frames:14 32
		AnimationSound = Sound:HorseMoveFootsteps		Animation:RUHHs_Theo_SKL.RUHHs_Theo_RUNA		Frames:0
		AnimationSound = Sound:HorseMoveFootsteps		Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNL1		Frames:0
		AnimationSound = Sound:HorseMoveFootsteps		Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNR1		Frames:0

		AnimationSound = Sound:HorseWhinny50Percent	Animation:RUHHs_Theo_SKL.RUHHs_Theo_IDLC		Frames:0

		AnimationSound = Sound:HorseDieForHero		Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA		Frames:0
		AnimationSound = Sound:BodyFallSoldier		Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA		Frames:1 9

		AnimationSound = Sound:HorseDieForHero		Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA		Frames:0
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA		Frames:4
		AnimationSound = Sound:BodyFallSoldier		Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA		Frames:42
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE ATTACK_NEEDS_LINE_OF_SIGHT
	PathfindDiameter = 40.0

	Body = RespawnBody ModuleTag_RespawnBody
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= DAMROD_HEALTH	;BALANCE Faramir Health
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
   		DodgePercent      		= HERO_DODGE_PERCENT
	End
	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				= DYING				;Model condition to play when killed-to-respawn
		DeathFX				= FX_FaramirDieToRespawn	;FXList to play when killed-to-respawn
		DeathAnimationTime		= 5000				;How long DeathAnim will take.
		InitialSpawnFX			= FX_FaramirInitialSpawn
		RespawnAnim				= LEVELED				;Animation to play when respawning.
		RespawnFX				= FX_FaramirRespawn		;FXList to play when respawning.
		RespawnAnimationTime		= 2000				;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP		;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage				= HIFaramir
		
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =			AutoSpawn:No	Cost:600		Time:90000		Health:100%		;DEFAULT VALUES
		RespawnEntry =	Level:2				Cost:700		Time:90000		;For other levels, only override what is different.
		RespawnEntry =	Level:3				Cost:800		Time:90000		
		RespawnEntry =	Level:4				Cost:900		Time:90000		
		RespawnEntry =	Level:5				Cost:1000		Time:120000		
		RespawnEntry =	Level:6				Cost:1100		Time:120000		
		RespawnEntry =	Level:7				Cost:1200		Time:120000		
		RespawnEntry =	Level:8				Cost:1300		Time:120000		
		RespawnEntry =	Level:9				Cost:1400		Time:120000		
		RespawnEntry =	Level:10			Cost:1500		Time:120000		
	End
	
	Behavior = AutoHealBehavior ModuleTag_FaramirHealing
		StartsActive = Yes
		HealingAmount = HERO_HEAL_AMOUNT
		HealingDelay = 1000
		StartHealingDelay = HERO_HEAL_DELAY
		HealOnlyIfNotInCombat = Yes
	End
	
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = FighterHorde
    End
  
   

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS STEALTHED
		MoodAttackCheckRate        = 500
		HoldGroundCloseRangeDistance = 41
	End

	LocomotorSet
		Locomotor = HeroHumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_HERO_SPEED
	End

	;;; KINGS FAVOUR ;;;	
	;Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KingsFavorEnabler
	;	SpecialPowerTemplate = SpecialAbilityKingsFavor
	;	TriggeredBy = Upgrade_FaramirCaptainOfGondor
	;End
 	;Behavior = SpecialPowerModule ModuleTag_KingsFavorSpecialPowerModule
    ;    SpecialPowerTemplate		= SpecialAbilityKingsFavor 
    ;    StartsPaused				= Yes
	;	UpdateModuleStartsAttack	= Yes
    ;    InitiateSound				= FaramirKnightVoiceCaptain
    ;End
 	;Behavior = LevelGrantSpecialPower ModuleTag_KingsFavor
	;	SpecialPowerTemplate		= SpecialAbilityKingsFavor
	;	UnpackingVariation			= 2
	;	StartAbilityRange			= 200.0
	;	LevelFX = FX_PorterDeliver
    ;   LevelFX						= FX_LevelUp
	;
	;	Experience					= 50
	;	RadiusEffect				= 150
	;	AcceptanceFilter			= ANY +CAVALRY +INFANTRY -STRUCTURE -CASTLE_KEEP -BASE_FOUNDATION -HERO -MOVE_ONLY
	;
	;	UnpackTime					= 2000
	;	PreparationTime				= 1   
	;	FreezeAfterTriggerDuration	= 2000 ; Hold AI for this long after we fire.		
	;End	

;	Behavior = TransportContain	ModuleTag_TransportContainTag
;		ObjectStatusOfContained	= UNSELECTABLE
;		PassengerFilter	= NONE +HOBBIT
;		Slots =	1
;		ShowPips = No
;		AllowEnemiesInside = No
;		AllowNeutralInside = Yes
;		AllowAlliesInside  = Yes
;		DamagePercentToUnits = 0%
;		TypeOneForWeaponSet	= HOBBIT
;		PassengerBonePrefix	= PassengerBone:PASSENGERBONE	  KindOf:HOBBIT
;		EjectPassengersOnDeath = Yes
;		ConditionForEntry =	ModelConditionState: MOUNTED
;	End
    
	Behavior = SpecialPowerModule	ModuleTag_SpecialAbilityGrabPassenger					   
		SpecialPowerTemplate	  =	SpecialAbilityGrabPassenger
		UpdateModuleStartsAttack  =	Yes
		;InitiateSound			 = 
	End
  
	Behavior = SpecialAbilityUpdate ModuleTag_SpecialAbilityGrabPassengerUpdate               
		SpecialPowerTemplate    = SpecialAbilityGrabPassenger
		StartAbilityRange       = 8.0

		UnpackTime              = 300 ; This does not match the animation, but looks good.
		PreparationTime         = 1   ; touching it to grabbing it
		PersistentPrepTime      = 630 ; grabbing it to whacking it on the ground (if shrubbery)
		PackTime                = 1000 ; whacking it to holding it nice
		;GrabPassengerAnimAndDuration   = AnimState:EATING AnimTime:3000 TriggerTime:1400

	;    PackSound               = 
	;    UnpackSound             = 
	;    TriggerSound            = 
	;    PrepSoundLoop           = 
		AwardXPForTriggering    = 0
	End

	Behavior = AttributeModifierAuraUpdate ModuleTag_BoromirLeadership
		StartsActive	= No ;If no, requires upgrade to turn on.
		BonusName		= DamrodPassiveLeadership
		TriggeredBy		= Upgrade_DamrodLeadership
		RefreshDelay	= 2000
		Range			= 200
		ObjectFilter	= ANY +INFANTRY +CAVALRY  -STRUCTURE -BASE_FOUNDATION -HERO
	End
	
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseLeadership
		SpecialPowerTemplate = SpecialAbilityFakeLeadership
		TriggeredBy = Upgrade_DamrodLeadership
	End
	Behavior = SpecialPowerModule ModuleTag_BoromirLeadershipUpdate   
		SpecialPowerTemplate      = SpecialAbilityFakeLeadership
		UpdateModuleStartsAttack  = No
		StartsPaused = Yes
	End
	
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SpecialPowerRallyRangers
		SpecialPowerTemplate = SpecialPowerRallyRangers
		TriggeredBy = Upgrade_DamrodRallyRangers
	End
	Behavior = OCLSpecialPower ModuleTag_08
		SpecialPowerTemplate = SpecialPowerRallyRangers ;SuperweaponSpawnOrcs
		OCL                  = OCL_SpawnGondorRangersEgg
		TriggerFX			 = FX_ElvenAlliesSummon
		CreateLocation       = USE_OWNER_OBJECT
		StartsPaused		 = Yes
	End
	
	;;; DEADLY SNIPER SPECIAL POWER (Rank 6) ;;;
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DeadlySniperEnabler
		SpecialPowerTemplate = SpecialAbilityDamrodHeroMode
		TriggeredBy = Upgrade_DamrodDeadlySniper
	End
	Behavior = SpecialPowerModule ModuleTag_DeadlySniperStarter                      
		SpecialPowerTemplate      = SpecialAbilityDamrodHeroMode
		UpdateModuleStartsAttack  = Yes
		StartsPaused = Yes
	End
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_DeadlySniper  
		SpecialPowerTemplate    = SpecialAbilityDamrodHeroMode
		UnpackingVariation		= 1

		UnpackTime              = 1 ;instant unpack
		PreparationTime         = 0    ;  
		PackTime                = 0 ;

		AwardXPForTriggering    = 0
		
		;HeroAttributeModifier = DamrodDeadlySniper
		HeroEffectDuration = 10000
		StopUnitBeforeActivating = Yes
	End
	
	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior
	End
	
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FaramirSpeechThing
		SpecialPowerTemplate		= SpecialAbilityRousingSpeech
		TriggeredBy					= Upgrade_FaramirWarSpeech
	End
	Behavior = SpecialPowerModule ModuleTag_10   
		SpecialPowerTemplate      = SpecialAbilityRousingSpeech
		UpdateModuleStartsAttack  = Yes
		InitiateSound             = TheodenRousingSpeech
		StartsPaused				= Yes
	End	
	
    Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	300		; max distance to taunted/pointed objet
 		TauntAndPointUpdateDelay	=	1000	; how often scan (milliseconds)
 		
		AddEmotion	=	Alert_Base
 	End	
	
;	Behavior = DualWeaponBehavior ModuleTag_13
;		SwitchWeaponOnCloseRangeDistance = 81
;		UseCloseRangeWhileMounted = yes
;	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime		= 2533	;msec
	End
	 
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 30000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL FaramirRangerVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 1500 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2 = 1500 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3 = 1500 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1 = 5.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
		
		FastHitsResetReaction = Yes    If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End
	

;--------------------------------------------------------------------------
; Faramir Wounding Arrow - AKA: FaramirWoundArrow
;--------------------------------------------------------------------------
	
	;Behavior = SpecialPowerModule ModuleTag_WoundArrow
	;	SpecialPowerTemplate      = SpecialAbilityWoundArrow
	;	UpdateModuleStartsAttack  = Yes
    ;		InitiateSound             = FaramirRangerVoiceWoundingArrow
	;End
	;
	;Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WoundArrowUpdate
	;	SpecialPowerTemplate    = SpecialAbilityWoundArrow
	;	ForbiddenConditions  = MOUNTED
	;
	;	SkipContinue			= Yes
	;	UnpackTime              = 2000 
	;	PreparationTime         = 1   
	;	PersistentPrepTime      = 1000 
	;	PackTime                = 1
		
	;	AwardXPForTriggering    = 0
	;	StartAbilityRange = 325.0 ; Note: This has to be smaller than the weapon range or it'll never succeed
	;	
	;	ApproachRequiresLOS		= Yes		
	;	
	;	SpecialWeapon = FaramirWoundArrow
	;	WhichSpecialWeapon = 1
	;End
	
	
	;///////////////////
	; AISpecialPowers
	;///////////////////
	
	Behavior = AISpecialPowerUpdate SpecialPowerDamrodRallyRangersAI
		CommandButtonName = Command_SpecialPowerRallyRangers
		SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
		SpecialPowerRadius = 30.0
	End
	
	Behavior = AISpecialPowerUpdate SpecialPowerDamrodDeadlySniperAI
		CommandButtonName = Command_SpecialAbilityDamrodDeadlySniper
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_RANGED
	End


	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 20;
  ShadowSizeY = 20;
  ShadowTexture = ShadowI;
End


;----------------------------------------------------------------------------------------------------------------------
;
;	GoblinSpiderRider
;
;----------------------------------------------------------------------------------------------------------------------
Object GoblinSpiderRiderBanner
	; ***ART Parameters ***

	SelectPortrait         = UPWild_SpiderRider

	Draw = W3DHordeModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    LodOptions							= LOW
		AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
		MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
		MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
		MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
	End
	
	LodOptions							= MEDIUM
		AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
		MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
		MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
		MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
	End
	
	LodOptions							= HIGH
		AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
		MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
		MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
		MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
	End
    
;;====================== MODELS ================================================================
		DefaultModelConditionState
			Model						= MUSpdBnr_SKN
			Skeleton					= MUSpidRdr_SKL
			WeaponLaunchBone			= PRIMARY ARROW
			WeaponLaunchBone			= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
 			  
		End

; --------- With Sword ------------
		ModelConditionState				= WEAPONSET_TOGGLE_1
			Model						= MUSpdBnr_SKN
			Skeleton					= MUSpidRdr_SKL
			ParticleSysBone Sword01 SpiderRiderPoison FollowBone:Yes    ;  to be added to poison spear upgrade
			ParticleSysBone Sword01 SpiderRiderPoison2 FollowBone:Yes   ;  to be added to poison spear upgrade
		End

; --------- With Fire arrows Upgrade  ------------
		ModelConditionState				= WEAPONSET_PLAYER_UPGRADE USER_4
			Model						= MUSpdBnr_SKN
			Skeleton					= MUSpidRdr_SKL
			WeaponLaunchBone			= PRIMARY ARROW
			WeaponLaunchBone			= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
		;	ParticleSysBone				= FireArowTip arrowFire FollowBone:Yes
		;	ParticleSysBone				= FireArowTip arrowFire FollowBone:Yes
		End

;;================== ANIMATIONS =================================================================

		
		;//--------------WallScaling---------------

		AnimationState						= CLIMBING
			StateName						= STATE_Climbing
			Animation						= Climbing
				AnimationName				= MUSpidRdr_WALB
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
			BeginScript;script to set transition from moving
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Running"  then CurDrawableSetTransitionAnimState("Trans_RunningToClimbing") return end
				;if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToClimbing") return end
			EndScript
		End
		TransitionState = Trans_RunningToClimbing
			Animation = Transition
				AnimationName = MUSpidRdr_WALC
				AnimationMode = ONCE
			End
		End
		;TransitionState = Trans_RappellingToClimbing
		;	Animation = Transition
		;		AnimationName = MUSpidRdr_UNKNOWN
		;		AnimationMode = ONCE_BACKWARDS
		;	End
		;End
		AnimationState						= RAPPELLING
			StateName						= STATE_Rappelling
			Animation						= Rapelling
				AnimationName				= MUSpidRdr_WALD
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
			BeginScript;script to set transition from moving
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Running"  then CurDrawableSetTransitionAnimState("Trans_RunningToRappelling") return end
				;if Prev == "STATE_Climbing"  then CurDrawableSetTransitionAnimState("Trans_ClimbingToRappelling") return end
			EndScript
		End
		TransitionState = Trans_RunningToRappelling
			Animation = Transition
				AnimationName = MUSpidRdr_WALG
				AnimationMode = ONCE
			End
		End
		;TransitionState = Trans_ClimbingToRappelling
		;	Animation = Transition
		;		AnimationName = MUSpidRdr_UNKNOWN
		;		AnimationMode = ONCE
		;	End
		;End		
		TransitionState = Trans_ClimbingToRunning
			Animation = Transition
				AnimationName = MUSpidRdr_WALF
				AnimationMode = ONCE
			End
		End
		TransitionState = Trans_RappellingToRunning
			Animation = Transition
				AnimationName = MUSpidRdr_WALE
				AnimationMode = ONCE
			End
		End
			
			
		; ------ Flying ------- ;
			
		AnimationState					= PASSENGER WEAPONSET_TOGGLE_1
			StateName					= STATE_Grabbed
			Animation					= Sword
				AnimationName			= MUSpidRdr_FLYA
				AnimationMode			= LOOP
			End
		End
		
		AnimationState					= PASSENGER
			StateName					= STATE_Grabbed
			Animation					= Bow
				AnimationName			= MUSpidRdr_FLYB
				AnimationMode			= LOOP
			End
		End
		
		AnimationState					= FREEFALL WEAPONSET_TOGGLE_1
			StateName					= STATE_Falling
			Animation					= Sword
				AnimationName			= MUSpidRdr_FLYA
				AnimationMode			= LOOP
				AnimationBlendTime		= 10
;				AnimationSpeedFactorRange	= 0.24	0.24
			End
		End
		
		AnimationState					= FREEFALL
			StateName					= STATE_Falling
			Animation					= Bow
				AnimationName			= MUSpidRdr_FLYB
				AnimationMode			= LOOP
				AnimationBlendTime		= 10
;				AnimationSpeedFactorRange	= 0.5	0.5
			End
		End
		
		AnimationState        			= STUNNED_FLAILING WEAPONSET_TOGGLE_1
			StateName					= STATE_Fly
			Animation           		= Sword
				AnimationName       	= MUSpidRdr_FLYA
				AnimationMode       	= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES2
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "Ready_Bow" or PrevState == "Moving_Bow" or PrevState == "Bored_Bow"								;;;;;;#TODO put in various bow states here
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				elseif PrevState == "STATE_Fly"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
					
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End

		AnimationState        			= STUNNED_FLAILING
			StateName					= STATE_Fly
			Animation
				AnimationName       	= MUSpidRdr_FLYB
				AnimationMode       	= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES2
		End
		
		AnimationState					= DYING  SPLATTED WEAPONSET_TOGGLE_1 ;DEATH_1
			StateName					= STATE_Dead
			Animation					= Sword
				AnimationName			= MUSpidRdr_LNDA
				AnimationMode			= ONCE
			End
		End
		
		AnimationState					= DYING DEATH_1 SPLATTED
			StateName					= STATE_Dead
			Animation					= Bow
				AnimationName			= MUSpidRdr_LNDB
				AnimationMode			= ONCE
			End
		End
		
				; ------ Dying ------- ;

		AnimationState        			= DYING  WEAPONSET_TOGGLE_1 ;DEATH_1
			Animation           		= Sword1
				AnimationName       	= MUSpidRdr_DIEA
				AnimationMode       	= ONCE
			End
			Animation           		= WantSword
				AnimationName       	= MUSpidRdr_DIEB
				AnimationMode       	= ONCE
			End
			
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				end
			
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if GetClientRandomNumberReal(0,2) < 1
				then
					return "Sword1"
				else
					return "Sword2"
				end
			EndScript
		End
		
;		AnimationState        			= DYING DEATH_2 WEAPONSET_TOGGLE_1
;			Animation           		= FadeOut
;				AnimationName       	= RUElfWar_IDLG
;				AnimationMode       	= LOOP
;			End
;		End
		
		AnimationState        			= DYING ;DEATH_1
			Animation           		= Bow1
				AnimationName       	= MUSpidRdr_DIEB
				AnimationMode       	= ONCE
			End
			Animation           		= Bow2
				AnimationName       	= MUSpidRdr_DIEB
				AnimationMode       	= ONCE
			End
			Animation           		= WantBow
				AnimationName       	= MUSpidRdr_LNDB
				AnimationMode       	= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				
				if PrevState == "STATE_Fly"
				then
					CurDrawableHideSubObject("ArrowNock")
					CurDrawableHideSubObject("arrow")
					return "WantBow"
				end
				
				if GetClientRandomNumberReal(0,2) < 1
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow1"
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow2"
				end
			EndScript
		End
		
;		AnimationState        			= DYING DEATH_2
;			Animation					= FadeOut
;				AnimationName			= RUElfWar_IDLDX1
;				AnimationMode			= ONCE
;			End
;		End
		

		AnimationState        			= STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
			StateName					= STATE_GetUp
			Animation           		= Sword
				AnimationName       	= MUSpidRdr_GTPA
				AnimationMode       	= ONCE
			End
			Animation           		= WantSword
				AnimationName       	= MUSpidRdr_GTPB
				AnimationMode       	= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then	
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End
		
		
		
		AnimationState        			= STUNNED_STANDING_UP
			StateName					= STATE_GetUp
			Animation           		= Bow
				AnimationName       	= MUSpidRdr_GTPB
				AnimationMode       	= ONCE
			End
			Animation           		= WantBow
				AnimationName       	= MUSpidRdr_GTPA
				AnimationMode       	= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow"
				end
			EndScript
		End

		AnimationState        			= STUNNED WEAPONSET_TOGGLE_1
			StateName					= STATE_Land
			Animation           		= Sword
				AnimationName       	= MUSpidRdr_LNDA
				AnimationMode       	= ONCE
			End
			Animation           		= WantSword
				AnimationName       	= MUSpidRdr_LNDB
				AnimationMode       	= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantSword" or PrevAnim == "Bow"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				Flags						= MAINTAIN_FRAME_ACROSS_STATES3
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End
		
		AnimationState        			= STUNNED
			StateName					= STATE_Land
			Animation           		= Bow
				AnimationName       	= MUSpidRdr_LNDA
				AnimationMode       	= ONCE
			End
			Animation           		= WantBow
				AnimationName       	= MUSpidRdr_LNDB
				AnimationMode       	= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES3
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				end
				
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				return "Bow"
			EndScript
		End


				
;;======== TERROR

;		AnimationState					= MOVING EMOTION_TERROR WEAPONSET_TOGGLE_1
;			StateName					= Moving_Sword
;			Animation					= Terror
;				AnimationName			= RUElfWar_RUNN
;				AnimationMode			= LOOP
;				Distance				= 40
;			End
;			Animation					= finishrun_b
;				AnimationName       	= RUElfWar_RUNB
;				AnimationMode       	= ONCE
;				AnimationBlendTime		= 0
;				Distance				= 40
;			End
;			Animation					= runtrans_bs
;				AnimationName       	= RUElfWar_RUNC
;				AnimationMode       	= ONCE
;				AnimationBlendTime		= 5
;				Distance				= 70
;			End
;			Animation					= runtrans_sb_finish
;				AnimationName       	= RUElfWar_RUNT
;				AnimationMode       	= ONCE
;				AnimationBlendTime		= 0
;				Distance				= 70
;			End
;			Animation					= runnoblend_s
;				AnimationName       	= RUElfWar_RUNN
;				AnimationMode       	= LOOP
;				AnimationBlendTime		= 0
;				Distance				= 40
;			End
;			Flags						= RESTART_ANIM_WHEN_COMPLETE MAINTAIN_FRAME_ACROSS_STATES
;			BeginScript
;				PrevAnim	= CurDrawablePrevAnimation()
;				PrevState	= CurDrawablePrevAnimationState()
;				CurDrawableHideSubObject("ARROW")
;				CurDrawableHideSubObject("ARROWNOCK")
;				
;				if PrevState == "Moving_Bow"
;				then
;					if PrevAnim == "runtrans_sb"
;					then
;						return "runtrans_sb_finish"
;					elseif PrevAnim == "finishrun_s"
;					then
;						return "runnoblend_s"
;					else
;						return "finishrun_b"
;					end
;				elseif PrevAnim == "finishrun_b" or PrevAnim == "runtrans_sb_finish"
;				then
;					return "runtrans_bs"
;				elseif PrevAnim == "runtrans_bs" or PrevAnim == "run_s" or PrevAnim == "runnoblend_s"
;				then
;					return "runnoblend_s"
;				else
;					return "Terror"
;				end				
;			EndScript
;		End
;		AnimationState					= MOVING EMOTION_TERROR
;			StateName					= Moving_Bow
;			Animation					= RunAway_3
;				AnimationName			= RUElfWar_RUNOT3
;				AnimationMode			= ONCE
;				Distance				= 40
;			End
;			Animation					= RunAway_2
;				AnimationName			= RUElfWar_RUNOT4
;				AnimationMode			= ONCE
;				Distance				= 40
;			End
;			Animation					= RunAway
;				AnimationName			= RUElfWar_RUNB
;				AnimationMode			= ONCE
;				Distance				= 40
;			End
;			Animation					= finishrun_s
;				AnimationName       	= RUElfWar_RUNN
;				AnimationMode       	= ONCE
;				AnimationBlendTime		= 0
;				Distance				= 40
;			End
;			Animation					= runtrans_sb
;				AnimationName       	= RUElfWar_RUNT
;				AnimationMode       	= ONCE
;				AnimationBlendTime		= 5
;				Distance				= 70
;			End
;			Animation					= runtrans_bs_finish
;				AnimationName       	= RUElfWar_RUNC
;				AnimationMode       	= ONCE
;				AnimationBlendTime		= 0
;				Distance				= 70
;			End
;			Animation					= RunAway_noblend
;				AnimationName			= RUElfWar_RUNB
;				AnimationMode			= ONCE
;				AnimationBlendTime		= 0
;				Distance				= 40
;			End
;			Flags						= RESTART_ANIM_WHEN_COMPLETE MAINTAIN_FRAME_ACROSS_STATES
;			BeginScript
;				PrevAnim	= CurDrawablePrevAnimation()
;				PrevState	= CurDrawablePrevAnimationState()
;				CurDrawableShowSubObject("arrow")
;				CurDrawableShowSubObject("arrownock")
;				
;				if PrevState == "Moving_Sword"
;				then
;					if PrevAnim == "runtrans_bs"
;					then
;						return "runtrans_bs_finish"
;					elseif PrevAnim == "finishrun_b"
;					then
;						return "RunAway_noblend"
;					else
;						return "finishrun_s"
;					end
;				elseif PrevAnim == "finishrun_s" or PrevAnim == "runtrans_bs_finish"
;				then
;					return "runtrans_sb"
;				elseif PrevAnim == "runtrans_sb" or PrevAnim == "run_b" or PrevAnim == "runnoblend_b"
;				then
;					return "RunAway_noblend"
;				else
;					Num = GetClientRandomNumberReal(0,7)
;					if Num < 1 
;					then
;						return "RunAway_2"
;					elseif Num > 6
;					then
;						return "RunAway_3"
;					else
;						return "RunAway"
;					end
;				end			
;			EndScript
;		End


		
		


		AnimationState        			= ATTACKING TURN_LEFT WEAPONSET_TOGGLE_1 
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TRNLH
				AnimationMode       	= LOOP
			End
		End

		AnimationState        			= ATTACKING TURN_LEFT  
			StateName					= Moving_Bow
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TNLBH
				AnimationMode       	= LOOP
			End
		End

		AnimationState        			= ATTACKING TURN_RIGHT WEAPONSET_TOGGLE_1 
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TRNRH
				AnimationMode       	= LOOP
			End
		End

		AnimationState        			= ATTACKING TURN_RIGHT  
			StateName					= Moving_Bow
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TNRBH
				AnimationMode       	= LOOP
			End
		End
		
		

		; ------ Attacking ------- ;
		
		AnimationState        			= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation           		= AttackWithSwordA
				AnimationName       	= MUSpidRdr_ATKA
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordB
				AnimationName       	= MUSpidRdr_ATKA
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordD
				AnimationName       	= MUSpidRdr_ATKA
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
			EndScript
		End
;;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

		AnimationState					= PREATTACK_A 
			Animation					= ReadyToDrawn
				AnimationName			= MUSpidRdr_ATKB
				AnimationMode			= ONCE
				AnimationBlendTime		= 20				; Must be 0 blend time otherwise the arrow will linger for the duration of the blend!
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End

;		AnimationState					= FIRING_OR_RELOADING_A
;			StateName					= STATE_Firing
;			Animation					= OneFrameOfShooting
;				AnimationName			= MUSpidRdr_ATKB
;				AnimationMode			= ONCE
;				AnimationBlendTime		= 0
;				AnimationSpeedFactorRange	= 1.5 1.5
;			End
;			Flags						= START_FRAME_FIRST			
;			BeginScript
;				CurDrawableShowSubObject("arrow")
;				CurDrawableShowSubObject("ArrowNock")
;			EndScript
;		End
;;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


;;------------------------- BACKUP --------------------------------------------------------------------


		AnimationState					= MOVING BACKING_UP WEAPONSET_TOGGLE_1
			StateName					= STATE_BackingUp
			Animation					= Sword
				AnimationName			= MUSpidRdr_BAKA
				AnimationMode			= LOOP
			End
			Animation					= WantSword
				AnimationName			= MUSpidRdr_BAKB
				AnimationMode			= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						return "WantSword"
					end
				end
				
				return "Sword"			
			EndScript
		End
		AnimationState					= MOVING BACKING_UP
			StateName					= STATE_BackingUp
			Animation					= Bow
				AnimationName			= MUSpidRdr_BAKB
				AnimationMode			= LOOP
			End
			Animation					= WantBow
				AnimationName			= MUSpidRdr_BAKA
				AnimationMode			= LOOP
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						return "WantBow"
					end
				end
				
				return "Bow"
			EndScript
		End
		
		; -------- Turning -----------------;
		
		AnimationState        			= TURN_LEFT_HIGH_SPEED WEAPONSET_TOGGLE_1 
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TRNLH
				AnimationMode       	= LOOP
			End
		End

		AnimationState        			= TURN_LEFT_HIGH_SPEED  
			StateName					= Moving_Bow
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TNLBH
				AnimationMode       	= LOOP
			End
		End

		AnimationState        			= TURN_RIGHT_HIGH_SPEED WEAPONSET_TOGGLE_1 
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TRNRH
				AnimationMode       	= LOOP
			End
		End

		AnimationState        			= TURN_RIGHT_HIGH_SPEED  
			StateName					= Moving_Bow
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TNRBH
				AnimationMode       	= LOOP
			End
		End



		AnimationState        			= TURN_LEFT WEAPONSET_TOGGLE_1 
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TRNLH
				AnimationMode       	= LOOP
			End
		End

		AnimationState        			= TURN_LEFT  
			StateName					= Moving_Bow
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TNLBH
				AnimationMode       	= LOOP
			End
		End

		AnimationState        			= TURN_RIGHT WEAPONSET_TOGGLE_1 
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TRNRH
				AnimationMode       	= LOOP
			End
		End

		AnimationState        			= TURN_RIGHT  
			StateName					= Moving_Bow
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_TNRBH
				AnimationMode       	= LOOP
			End
		End


									
		; ------------ Moving ------------- ;
		
		AnimationState        			= MOVING WEAPONSET_TOGGLE_1
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= MUSpidRdr_RUNC
				AnimationMode       	= LOOP
			End
			Animation					= finishrun_b
				AnimationName       	= MUSpidRdr_RUND
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
			End
			Animation					= runtrans_bs
				AnimationName       	= MUSpidRdr_RUND
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
			End
			Animation					= runtrans_sb_finish
				AnimationName       	= MUSpidRdr_RUND
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
			End
			Animation					= runnoblend_s
				AnimationName       	= MUSpidRdr_RUNC
				AnimationMode       	= LOOP
				AnimationBlendTime		= 0
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				
				if PrevState == "Moving_Bow"
				then
					if PrevAnim == "runtrans_sb"
					then
						return "runtrans_sb_finish"
					elseif PrevAnim == "finishrun_s"
					then
						return "runnoblend_s"
					else
						return "finishrun_b"
					end
				elseif PrevAnim == "finishrun_b" or PrevAnim == "runtrans_sb_finish" or PrevAnim == "WantSword"
				then
					return "runtrans_bs"
				elseif PrevAnim == "runtrans_bs" or PrevAnim == "run_s" or PrevAnim == "runnoblend_s"
				then
					return "runnoblend_s"
				else
					return "run_s"
				end				
			EndScript
		End
		
		AnimationState        			= MOVING
			StateName					= Moving_Bow
			SimilarRestart				= Yes
			Animation           		= run_b
				AnimationName       	= MUSpidRdr_RUND
				AnimationMode       	= LOOP
;				Distance				= 40
			End
			Animation					= finishrun_s
				AnimationName       	= MUSpidRdr_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
;				Distance				= 40
			End
			Animation					= runtrans_sb
				AnimationName       	= MUSpidRdr_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
;				Distance				= 70
			End
			Animation					= runtrans_bs_finish
				AnimationName       	= MUSpidRdr_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
;				Distance				= 70
			End
			Animation					= runnoblend_b
				AnimationName       	= MUSpidRdr_RUND
				AnimationMode       	= LOOP
				AnimationBlendTime		= 0
;				Distance				= 40
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				
				
				
				Prev = CurDrawablePrevAnimationState()
				if PrevState == "STATE_Climbing"
				then
					CurDrawableSetTransitionAnimState("Trans_ClimbingToRunning")
					return
				elseif PrevState == "STATE_Rappelling"
				then
					CurDrawableSetTransitionAnimState("Trans_RappellingToRunning")
					return
				elseif PrevState == "Moving_Sword"
				then
					if PrevAnim == "runtrans_bs"
					then
						return "runtrans_bs_finish"
					elseif PrevAnim == "finishrun_b"
					then
						return "runnoblend_b"
					else
						return "finishrun_s"
					end
				elseif PrevAnim == "finishrun_s" or PrevAnim == "runtrans_bs_finish" or PrevAnim == "WantBow"
				then
					return "runtrans_sb"
				elseif PrevAnim == "runtrans_sb" or PrevAnim == "run_b" or PrevAnim == "runnoblend_b"
				then
					return "runnoblend_b"
				else
					return "run_b"
				end
			EndScript
		End
		
		
;;-----------------------------------------------------------------------------------<<<<<<<<<<<<<<<<<<<<<<<<<<<

		AnimationState					= CONTINUOUS_FIRE_MEAN		;;;;;;;;;HACK TO STOP JITTERS
			Animation					= HangFrameWhileCoasting
				AnimationName			= MUSpidRdr_ATKB
				AnimationMode			= LOOP ;MANUAL
				AnimationBlendTime		= 0
			End
			Flags						= START_FRAME_LAST
						
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
				if CurDrawablePrevAnimationState() == "STATE_Firing" then CurDrawableAllowToContinue() end
			EndScript
			;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
			;;;;
			;;;;	VERY IMPORTANT ARCHER INFORMATION
			;;;;	THIS WILL STOP THE JITTERS, AND BEST
			;;;;	YET, IT'S A COMPLETE HACK! Just look above.
			;;;;	We say that if we get into this state
			;;;;	from firing, just continue to fire. DONE.
			;;;;
			;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
		End
		
		AnimationState					= CONTINUOUS_FIRE_SLOW
			StateName					= Ready_Bow
			Animation					= PutAwayArrow
				AnimationName			= MUSpidRdr_ATKB
				AnimationMode			= ONCE
			End
						
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
			EndScript
		End
;;;--------------------------------------------------------------------------------------<<<<<<<<<<<<<<<<<<<<<<<		
	
		AnimationState					= EMOTION_UNCONTROLLABLY_AFRAID WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= MUSpidRdr_FERA
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= MUSpidRdr_FERB
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				end
			EndScript
		End
		AnimationState					= EMOTION_UNCONTROLLABLY_AFRAID 
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= MUSpidRdr_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End	
			Animation					= Bow2
				AnimationName			= MUSpidRdr_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				end
			EndScript	
		End
		
	
		; -------- Alert ------- ;
		
		AnimationState					= EMOTION_ALERT WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= MUSpidRdr_TGLB
				AnimationMode			= LOOP
			End
			
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End
		AnimationState					= ENGAGED WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= MUSpidRdr_TGLB
				AnimationMode			= LOOP
			End
			
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End
		AnimationState					= ATTACKING WEAPONSET_TOGGLE_1
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= MUSpidRdr_TGLB
				AnimationMode			= LOOP
			End
			
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End
		
;		AnimationState					= EMOTION_ALERT
;			StateName					= Ready_Bow
;			
;			Animation					= IDLB
;				AnimationName			= RUElfWar_IDLB
;				AnimationMode			= LOOP
;			End
;			
;			BeginScript
;				CurDrawableShowSubObject("arrow")
;				CurDrawableShowSubObject("arrownock")
;				PrevAnim = CurDrawablePrevAnimation()
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
;				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SR_Bow")				end
;				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
;				then 
;					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
;				end				
;			EndScript
;		End 
;		AnimationState					= ENGAGED
;			StateName					= Ready_Bow
;			
;			Animation					= IDLB
;				AnimationName			= RUElfWar_IDLB
;				AnimationMode			= LOOP
;			End
;			
;			BeginScript
;				CurDrawableShowSubObject("arrow")
;				CurDrawableShowSubObject("arrownock")
;				PrevAnim = CurDrawablePrevAnimation()
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
;				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SR_Bow")				end
;				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
;				then 
;					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
;				end				
;			EndScript
;		End
		AnimationState					= ATTACKING
			StateName					= Ready_Bow
			
			Animation					= IDLB
				AnimationName			= MUSpidRdr_ATKB
				AnimationMode			= LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SR_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end				
			EndScript
		End
		
		
		
;;------------ EMOTIONS ------------------------------------------------------------------
;;======= AFRAID

		AnimationState					= EMOTION_AFRAID WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= MUSpidRdr_FERA
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= MUSpidRdr_FERA
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				end
			EndScript
		End
		AnimationState					= EMOTION_AFRAID 
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= MUSpidRdr_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End	
			Animation					= Bow2
				AnimationName			= MUSpidRdr_FERB
				AnimationMode			= ONCE
				AnimationBlendTime		= 15
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				end
			EndScript	
		End
		
;;====== CELEBRATING		
;
;		AnimationState					= EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
;			StateName					= STATE_Emotion_Sword
;			Animation					= Sword
;				AnimationName			= RUElfWar_CHRST2
;				AnimationMode			= ONCE
;			End
;			Animation					= Sword2
;				AnimationName			= RUElfWar_CHRST2
;				AnimationMode			= ONCE
;			End
;			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
;			BeginScript
;				PrevState = CurDrawablePrevAnimationState()
;				CurDrawableHideSubObject("arrow")
;				CurDrawableHideSubObject("arrownock")
;				
;				if PrevState == "STATE_Emotion_Bow"
;				then
;					CurDrawableAllowToContinue()
;					if( CurDrawablePrevAnimFraction() > .89 )
;					then
;						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
;					end
;				elseif PrevState == "STATE_Emotion_Sword"
;				then
;					CurDrawableAllowToContinue()
;				elseif PrevState == "Selected_Sword"
;				then
;					CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
;				elseif PrevState == "Bored_Sword"
;				then
;					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
;				end
;			EndScript
;		End
;		AnimationState					= EMOTION_CELEBRATING
;			StateName					= STATE_Emotion_Bow
;			Animation					= Bow
;				AnimationName			= RUElfWar_CHRB
;				AnimationMode			= ONCE
;			End
;			Animation					= Bow2
;				AnimationName			= RUElfWar_CHRB
;				AnimationMode			= ONCE
;			End
;			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
;			BeginScript
;				PrevState = CurDrawablePrevAnimationState()
;				CurDrawableShowSubObject("arrow")
;				CurDrawableShowSubObject("arrownock")
;				
;				if PrevState == "STATE_Emotion_Sword"
;				then
;					CurDrawableAllowToContinue()
;					if( CurDrawablePrevAnimFraction() > .89 )
;					then
;						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
;					end
;				elseif PrevState == "STATE_Emotion_Bow"
;				then
;					CurDrawableAllowToContinue()
;				elseif PrevState == "Selected_Bow"
;				then
;					CurDrawableSetTransitionAnimState("TRANS_SR_Bow")
;;				elseif PrevState == "Bored_Bow"
;;				then
;;					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
;				end
;			EndScript	
;		End
;
;;====== TAUNTING
;
;		AnimationState					= EMOTION_TAUNTING WEAPONSET_TOGGLE_1
;			StateName					= STATE_Emotion_Sword
;			Animation					= Sword
;				AnimationName			= RUElfWar_TNTSV1
;				AnimationMode			= ONCE
;			End
;			Animation					= Sword2
;				AnimationName			= RUElfWar_TNTSV1
;				AnimationMode			= ONCE
;			End
;			Flags						= RESTART_ANIM_WHEN_COMPLETE ;MAINTAIN_FRAME_ACROSS_STATES
;			BeginScript
;				PrevState = CurDrawablePrevAnimationState()
;				CurDrawableHideSubObject("arrow")
;				CurDrawableHideSubObject("arrownock")
;				
;				if PrevState == "STATE_Emotion_Bow"
;				then
;					CurDrawableAllowToContinue()
;					if( CurDrawablePrevAnimFraction() > .89 )
;					then
;						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
;					end
;				elseif PrevState == "STATE_Emotion_Sword"
;					then
;						CurDrawableAllowToContinue()
;				elseif PrevState == "Selected_Sword"
;				then
;					CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
;				elseif PrevState == "Bored_Sword"
;				then
;					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
;				end
;			EndScript
;		End
;		AnimationState					= EMOTION_TAUNTING
;			StateName					= STATE_Emotion_Bow
;			Animation					= Bow1
;				AnimationName			= RUElfWar_TNTB
;				AnimationMode			= ONCE
;			End
;			Animation					= Bow2
;				AnimationName			= RUElfWar_TNTB		; RUElfWar_TNTBX anim does not exist
;				AnimationMode			= ONCE
;			End
;			Flags						= RESTART_ANIM_WHEN_COMPLETE ;MAINTAIN_FRAME_ACROSS_STATES
;			BeginScript
;				PrevState = CurDrawablePrevAnimationState()
;				CurDrawableShowSubObject("arrow")
;				CurDrawableShowSubObject("arrownock")
;				
;				if PrevState == "STATE_Emotion_Sword"
;				then
;					CurDrawableAllowToContinue()
;					if( CurDrawablePrevAnimFraction() > .89 )
;					then
;						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
;					end
;				elseif PrevState == "STATE_Emotion_Bow"
;				then
;					CurDrawableAllowToContinue()
;				elseif PrevState == "Selected_Bow"
;				then
;					CurDrawableSetTransitionAnimState("TRANS_SR_Bow")
;				elseif PrevState == "Bored_Bow"
;				then
;					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
;				end
;			EndScript
;		End
;
;;====== POINTING

		AnimationState					= EMOTION_POINTING WEAPONSET_TOGGLE_1
			StateName					= STATE_Emotion_Sword
			Animation					= Sword
				AnimationName			= MUSpidRdr_PNTA
				AnimationMode			= ONCE
			End
			Animation					= Sword2
				AnimationName			= MUSpidRdr_PNTB
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End
		AnimationState					= EMOTION_POINTING
			StateName					= STATE_Emotion_Bow
			Animation					= Bow
				AnimationName			= MUSpidRdr_PNTB
				AnimationMode			= ONCE
			End
			Animation					= Bow2
				AnimationName			= MUSpidRdr_PNTB
				AnimationMode			= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SR_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript
		End
		
		; ------ Selected ------ ;

		AnimationState				=	SELECTED WEAPONSET_TOGGLE_1
			StateName				=	Selected_Sword
			
			Animation				=	ATNA
				AnimationName		=	MUSpidRdr_ATNB
				AnimationMode		=	LOOP
			End
			
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BS_Sword")		end
				if Prev == "Ready_Sword"		then CurDrawableSetTransitionAnimState("TRANS_RS_Sword")		end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")	
				end
				
			EndScript
		End

		AnimationState				=	SELECTED 
			StateName           	=	Selected_Bow
			
			Animation				=	ATNE
				AnimationName		=	MUSpidRdr_ATNF
				AnimationMode		=	LOOP
			End
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Bow" then CurDrawableSetTransitionAnimState("TRANS_BS_Bow")				end
				if Prev == "Ready_Bow" then CurDrawableSetTransitionAnimState("TRANS_RS_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")	
				end	
			EndScript
		End
		
		
		; --------- Hit Reactions ---------- ;
		
		AnimationState						= HIT_REACTION HIT_LEVEL_1 WEAPONSET_TOGGLE_1
			StateName						= Bored_Sword
			Animation						= Hit_Level_1_a
				AnimationName				= MUSpidRdr_HITA
				AnimationMode				= ONCE
			End
		End

		AnimationState 						= HIT_REACTION HIT_LEVEL_1
			StateName						= Bored_Bow
			Animation 						= Hit_Level_1_a
				AnimationName				= MUSpidRdr_HITB
				AnimationMode 				= ONCE
;				AnimationSpeedFactorRange	= .9 .9
			End
		End
		
		
		; ------- Bored -------- ;
		
		AnimationState					= WEAPONSET_TOGGLE_1
			StateName					= Bored_Sword
			
			Animation           		= Idle_Sword1
				AnimationName       	= MUSpidRdr_IDLA
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword2
				AnimationName       	= MUSpidRdr_IDLA
				AnimationMode       	= ONCE
			End
			Animation           		= Idle_Sword3
				AnimationName       	= MUSpidRdr_IDLA
				AnimationMode       	= ONCE
			End
			Animation					= IdleNoFidget
				AnimationName			= MUSpidRdr_IDLA
				AnimationMode			= ONCE
				AnimationPriority		= 20
			End
			Animation					= IdleNoFidget2
				AnimationName			= MUSpidRdr_IDLA
				AnimationMode			= ONCE
				AnimationPriority		= 0
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")				

				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SB_Sword" or Prev == "TRANS_RB_Sword" then return "IdleNoFidget" end
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SB_Sword")		end
				if Prev == "Ready_Sword"		then CurDrawableSetTransitionAnimState("TRANS_RB_Sword")		end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")	
				end
			EndScript
		End
		
		IdleAnimationState
			StateName					= Bored_Bow
			
			Animation					= IdleBowB
				AnimationName			= MUSpidRdr_IDLB
				AnimationMode			= ONCE
			End
			Animation					= IdleBowD
				AnimationName			= MUSpidRdr_IDLB
				AnimationMode			= ONCE
			End
			Animation					= IdleNoFidget
				AnimationName			= MUSpidRdr_IDLB
				AnimationMode			= ONCE
				AnimationPriority		= 20
			End
			Animation					= IdleNoFidget2
				AnimationName			= MUSpidRdr_IDLB
				AnimationMode			= ONCE
				AnimationPriority		= 10
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			BeginScript	
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")			
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SB_Bow" or Prev == "TRANS_RB_Bow" then return "IdleNoFidget" end
				if Prev == "Selected_Bow"		then CurDrawableSetTransitionAnimState("TRANS_SB_Bow")		end
				if Prev == "Ready_Bow"			then CurDrawableSetTransitionAnimState("TRANS_RB_Bow")		end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")	
				end	
			EndScript
		End

		
		;----------------- Bow Transitions -------------------------;

		TransitionState       			= TRANS_BS_Bow
			Animation           		= ATND
				AnimationName     		= MUSpidRdr_TGLA
				AnimationMode     		= ONCE
				AnimationBlendTime		= 10
			End
		End
		
		TransitionState       			= TRANS_SR_Bow
			Animation           		= ATNE
				AnimationName     		= MUSpidRdr_TGLA
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SB_Bow
			Animation           		= ATND
				AnimationName     		= MUSpidRdr_TGLA
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_RS_Bow
			Animation           		= ATNF
				AnimationName     		= MUSpidRdr_TGLA
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_BR_Bow
			Animation           		= IDLB
				AnimationName     		= MUSpidRdr_TGLA
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		TransitionState       			= TRANS_RB_Bow
			Animation           		= IDLD
				AnimationName     		= MUSpidRdr_TGLA
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		;----------------- Sword Transitions -------------------------;
		
		TransitionState       			= TRANS_BS_Sword
			Animation           		= ATNA
				AnimationName     		= MUSpidRdr_TGLB
				AnimationMode     		= ONCE
			End
			Animation           		= ATNAX1
				AnimationName     		= MUSpidRdr_TGLB
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SR_Sword
			Animation           		= ATNC
				AnimationName     		= MUSpidRdr_TGLB
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SB_Sword
			Animation           		= ATNA
				AnimationName     		= MUSpidRdr_TGLB
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_RS_Sword
			Animation           		= ATNC
				AnimationName     		= MUSpidRdr_TGLB
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_BR_Sword
			Animation           		= ATNS
				AnimationName     		= MUSpidRdr_TGLB
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		TransitionState       			= TRANS_RB_Sword
			Animation           		= IDLG
				AnimationName     		= MUSpidRdr_TGLB
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		

		;-------------- Weapon Change Transitions --------------------------;		

		TransitionState       			= TRANS_BowToSword_Ready
			Animation           		= DrawSwords
				AnimationName       	= MUSpidRdr_TGLB
				AnimationMode       	= ONCE
			End
		End

		TransitionState       			= TRANS_SwordToBow_Ready
			Animation           		= DrawBow
				AnimationName       	= MUSpidRdr_TGLA
				AnimationMode       	= ONCE
			End
		End
		
		TransitionState       			= TRANS_BowToSword_Selected
			Animation           		= DrawSwords
				AnimationName       	= MUSpidRdr_TGLB
				AnimationMode       	= ONCE
			End
		End

		TransitionState       			= TRANS_SwordToBow_Selected
			Animation           		= DrawBow
				AnimationName       	= MUSpidRdr_TGLA
				AnimationMode       	= ONCE
			End
		End
	End
	
	; ***DESIGN parameters ***
	Side			= Wild
	IsTrainable		= Yes
	EditorSorting	= UNIT
	ThreatLevel		= 1.0
	ThingClass		= HORDE_UNIT
	CommandPoints	= 1
	
	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    WildSpiderRiderBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1					; CONTESTING_BUILDING
		Weapon = PRIMARY WildSpiderRiderSword					;GondorRangerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
		
	ArmorSet
		Conditions      = None
		Armor           = WildSpiderRiderArmor
		DamageFX        = NormalDamageFX
	End

	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = SpecialistHeavyArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange			= VISION_STANDARD_MELEE
	DisplayName			= OBJECT:WildSpiderRider
	BountyValue			= WILD_SPIDERRIDER_BOUNTTY_VALUE	
	CrushableLevel		= 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel		= 1
	CrushWeapon			= SpiderRiderCrush

	MinCrushVelocityPercent		= 40 ; Has to be moving at at least 35% of full speed.
	CrushDecelerationPercent	= 20 ; Lose 20 percent of max velocity when crushing.

	CrushKnockback = 40;
	CrushZFactor = 1.0;
	
	CommandSet			= WildSpiderRiderCommandSet	

	
	; *** AUDIO Parameters ***;

	VoiceAttack			= SpiderRiderVoiceAttack
	VoiceAttackCharge		= SpiderRiderVoiceAttackCharge
	VoiceAttackMachine	= SpiderRiderVoiceAttack
	VoiceAttackStructure	= SpiderRiderVoiceAttackBuilding
	VoiceGuard			= SpiderRiderVoiceGuard
	VoiceMove			= SpiderRiderVoiceMove
	VoiceSelect			= SpiderRiderVoiceSelectMS
	VoiceSelectBattle		= SpiderRiderVoiceSelectBattleMS

	SoundImpact 		= ImpactHorse
	SoundMoveLoop		= WildSpiderRiderMoveLoop

	;UnitSpecificSounds
	;End

	CrowdResponseKey = Goblin

    #include "..\includes\StandardUnitEvaEvents.inc"

	;ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_ModelConditionAudioLoop
	;	ModelCondition = Required:MOVING Sound:WildSpiderRiderMoveLoop
	;End

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU		;Tie into LargeGroupAudio system
		Key = SpiderRider
	End

	; *** ENGINEERING Parameters ***

  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE THROWN_OBJECT ARCHER ATTACK_NEEDS_LINE_OF_SIGHT GRAB_AND_DROP ;PATH_THROUGH_EACH_OTHER
  CamouflageDetectionMultiplier = 0.8
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = WILD_SPIDERRIDER_HEALTH
    MaxHealthDamaged  = 5
  End
 
	;-------------------------Units Upgrades-------------------
	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade Weapon_Upgrade1
		TriggeredBy = Upgrade_WildFireArrows
	End
	
	; Switch arrows being displayed.
	Behavior = SubObjectsUpgrade Weapon_UpgradeSwap1
		TriggeredBy		= Upgrade_WildFireArrows
		ShowSubObjects	= FireArowTip
	End	
	
	Behavior = WeaponSetUpgrade Weapon_Upgrade2
		TriggeredBy = Upgrade_WildForgedBlades
	End
	
	Behavior = SubObjectsUpgrade Weapon_UpgradeSwap2
		TriggeredBy		= Upgrade_WildForgedBlades
		ShowSubObjects	= FireArowTip
	End	
	;----------------------------------------------------------
;	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
;		TriggeredBy = Upgrade_RohanForgedBladesForElves
;		CustomAnimAndDuration   = AnimState:USER_5 AnimTime:0 TriggerTime:0 ;set flag forever
;	End

;	Behavior = SubObjectsUpgrade Armor_Upgrade
;		TriggeredBy		= Upgrade_RohanHeavyArmorForElves
;		UpgradeTexture	= RUElvnWorrior.tga 0 RUElvnWorriorHA.tga
;		UpgradeTexture	= RUElvnWorrior_L.tga 0 RUElvnWorriorHA.tga
;		RecolorHouse	= Yes
;	End
	
;	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
;		TriggeredBy = Upgrade_RohanHeavyArmorForElves
;	End
	
;	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
;		TriggeredBy		= Upgrade_RohanForgedBladesForElves
;		ShowSubObjects	= Forged_Blade
;	End

 	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	INFANTRY_TAUNT_POINT_RADIUS		; max distance to taunted/pointed objet
		TauntAndPointUpdateDelay	=	1000	; how often scan (milliseconds)
		TauntAndPointExcluded		=	NONE
		AfraidOf					=	EMOTION_AFRAIDOF_OBJECTFILTER
		AlwaysAfraidOf				=	EMOTION_ALWAYS_AFRAIDOF_OBJECTFILTER +CloudBreakSunbeam +SunflareSunbeam
		PointAt						=	EMOTION_POINTAT_OBJECTFILTER
		HeroScanDistance			=	150
		FearScanDistance			=	ARCHER_FEAR_SCAN_RADIUS ;250

		AddEmotion	=	Terror_Base
		AddEmotion	=	Doom_Base
		AddEmotion	=   BraceForBeingCrushed_Base
		AddEmotion	=	UncontrollableFear_Base_Evil
		AddEmotion	=	FearIdle_Base
		AddEmotion	=	FearBusy_Base
		AddEmotion	=	Point_Base
		AddEmotion	=	Taunt_Base	
		AddEmotion	=	CheerIdle_Base
		AddEmotion	=	CheerBusy_Base
		AddEmotion	=	HeroCheerIdle_Base
		AddEmotion	=	HeroCheerBusy_Base
		AddEmotion	=	Alert_Base
	End	


	#include "..\includes\CaptureBuilding.inc"

	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = FighterHorde
    End
 
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle	=	Yes ATTACK_BUILDINGS
    MoodAttackCheckRate			=	500
	AILuaEventsList				=	WildSpiderFunctions
    AttackPriority				= 	AttackPriority_Cavalry
  End

	;LocomotorSet
		;Locomotor = NormalHorseHordeMemberLocomotor
		;Condition = SET_NORMAL 
		;Speed     = NORMAL_WILD_CAVALRY_MEMBER_SPEED
	;End

	LocomotorSet
		Locomotor     = TestWallScalingHordeLocomotor
		Condition     = SET_NORMAL
		Speed         = NORMAL_WILD_FAST_MEMBER_SPEED
	End

	LocomotorSet
		Locomotor = NormalHorseHordeMemberLocomotor
		Condition = SET_COMBO
		Speed     = NORMAL_WILD_CAVALRY_MEMBER_SPEED
	End


	; Fire arrow upgrade
;	Behavior = WeaponSetUpgrade ModuleTag_14
;		TriggeredBy = Upgrade_WildFireArrows
;	End
	
;	;Behavior = DualWeaponBehavior ModuleTag_13
;	;	SwitchWeaponOnCloseRangeDistance = 41
;	;End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult				= 1.0
    ShockStunnedTimeLow		= 800	;msec
    ShockStunnedTimeHigh	= 1000	;msec
    ShockStandingTime		= 2133	;msec
  End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes			= ALL -KNOCKBACK
    SinkDelay			= 3000
    SinkRate			= 4.0     ; in Dist/Sec
    DestructionDelay	= 8000
    Sound				= INITIAL GoblinVoiceDie
  End

  
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight					= 24	; Height of Bezier control points above highest intervening terrain
    SecondHeight				= 24
    FirstPercentIndent			= 30%	; Percentage of shot distance control points are placed
    SecondPercentIndent			= 70%
    TumbleRandomly				= Yes

    CrushStyle					= Yes	; I don't detonate, I just hit
    DieOnImpact					= Yes
    BounceCount					= 1		; When I hit the ground, I'll arc again
    BounceDistance				= 40	; this far
    BounceFirstHeight			= 24	; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight			= 24
    BounceFirstPercentIndent	= 20%	; Percentage of shot distance control points are placed
    BounceSecondPercentIndent	= 80%

    GroundHitFX       = FX_ThrownRockGroundHit
    GroundBounceFX    = FX_ThrownRockBounceHit
  End	
  
	;-----------------

    
  Geometry				= CYLINDER
  GeometryMajorRadius	= 8.0
  GeometryMinorRadius	= 8.0
  GeometryHeight		= 19.2
  GeometryIsSmall		= Yes
  
  Shadow				= SHADOW_VOLUME
;  ShadowSizeX			= 11
;  ShadowSizeY			= 11
;  ShadowTexture			= ShadowI

End




;------------------------------------------------------------------------------
; Rohirrim Banner Rider
Object RohanRohirrimBannerRider
	; *** ART Parameters ***
	; NOTE: If you are updating any of the art parameters, you should really check
	; GondorCavalryRiderless in FactionSubObject.ini and see if it needs to be updated

	SelectPortrait         = SP_Gondor_Horseman

	Draw = W3DScriptedModelDraw ModuleTag_01 
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		;--------------------------------------------------
		; new method
		RandomTexture = RUHorse01.tga 0 RUHorse03.tga
		RandomTexture = RUHorse02.tga 0 RUHorse03.tga
		RandomTexture = RUHorse03.tga 0 RUHorse03.tga
		RandomTexture = RUHorse04.tga 0 RUHorse03.tga
		
		;--------------------------------------------------
		;Random Rohirrim Riders textures - new method
		RandomTexture = RURohrm01.tga 0 RURohrm02.tga
		RandomTexture = RURohrm02.tga 0 RURohrm02.tga
		RandomTexture = RURohrm03.tga 0 RURohrm02.tga
		RandomTexture = RURohrm04.tga 0 RURohrm02.tga

		DefaultModelConditionState
			Model					= RURrmBnr_SKN
		End

		IdleAnimationState
			Animation				=	IdleA
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_IDLA
				AnimationPriority	=	20
				AnimationMode		=	ONCE
				AnimationBlendTime	=	20
				AnimationSpeedFactorRange	= 0.9 1.2
			End
			Animation				=	IdleB
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_IDLB
				AnimationPriority	=	20
				AnimationMode		=	ONCE
				AnimationBlendTime	=	1
				AnimationSpeedFactorRange	= 0.9 1.2
			End
			Flags						= RANDOMSTART
		End

		; --- stunned anims
		AnimationState				=	STUNNED_FLAILING 
			Animation				=	JustDie
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_FLYA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End

		AnimationState				=	DYING SPLATTED
			Animation				=	Land
				AnimationName		=	RUHHs_Theo_SKL.RUHHs_Theo_LNDA
				AnimationMode		=	ONCE
			End
		End

		AnimationState				=	DYING
			Animation				=	JustDie
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_DIEA
				AnimationMode		=	ONCE
			End
		End
		
		AnimationState				=	STUNNED_STANDING_UP
			Animation				=	StandUp
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_GTPA
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End
		
		AnimationState				=	STUNNED 
			Animation				=	Land
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_LNDA
				AnimationMode		=	ONCE
			End
		End
		
		
		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
;				AnimationName       = RURrmBnr_SKL.RURrmBnr_ATRA	anim does not exist
				AnimationName       = RURrmBnr_SKL.RURrmBnr_ATRB
				AnimationMode       = LOOP
				Distance		=	70
			End
			Flags               = RANDOMSTART 
		End

;;===== TERROR

		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
			Animation					= TerrorFromTheSky
				AnimationName			= RURrmBnr_SKL.RURrmBnr_RUNB
				AnimationMode			= LOOP
			End
		End
		AnimationState					= MOVING EMOTION_TERROR
			Animation					= TerrorFromTheSky
				AnimationName			= RURrmBnr_SKL.RURrmBnr_RUNB
				AnimationMode			= LOOP
			End
		End
		
;;======= BACKING UP
		
		AnimationState					= MOVING BACKING_UP
			Animation					= BACKING UP
				AnimationName			= RURrmBnr_SKL.RURrmBnr_BAKA
				AnimationMode			= LOOP
			End
		End		
		
		
		AnimationState					= MOVING ENGAGED
			Animation					= Moving_Engaged
				AnimationName			= RURrmBnr_SKL.RURrmBnr_TNL1
				AnimationMode			= LOOP
			End
			Flags						= RANDOMSTART
		End
		
		AnimationState				=	TURN_LEFT_HIGH_SPEED
			Animation				=	TurnLeft
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_TNL1
				AnimationMode		=	LOOP
				AnimationSpeedFactorRange= 1.8 1.8
				AnimationBlendTime	=	20
			End
		End
		
		AnimationState				=	TURN_RIGHT_HIGH_SPEED
			Animation				=	TurnLeft
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_TNR1
				AnimationMode		=	LOOP
				AnimationSpeedFactorRange= 1.8 1.8
				AnimationBlendTime	=	20
			End
		End

		AnimationState				=	MOVING TURN_LEFT 
			Animation				=	TurnLeft
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_TRNL
				AnimationMode		=	LOOP
			End
;			;ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOVING TURN_RIGHT 
			Animation				=	TurnRight
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_TRNR
				AnimationMode		=	LOOP
			End
;			;ParticleSysBone			=	None CalvaryDustTrails
		End
	
		AnimationState				=	MOVING ACCELERATE
			Animation				=	Accelerate
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_ACCL
				AnimationMode		=	LOOP
			End
			;;ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOVING DECELERATE
			Animation				=	Decelerate
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_DECL
				AnimationMode		=	ONCE
			End
			;;ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOVING
			Animation				=	RunA
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_RUNA
				AnimationMode		=	LOOP
				Distance				=   40
			End
			Flags					=	RANDOMSTART
			;;ParticleSysBone			=	None CalvaryDustTrails  
		End

;		AnimationState				=	ATTACKING
;			Animation				=	AttackA1
;				AnimationName		=	RURrmBnr_SKL.RURrmBnr_ATKA
;				AnimationMode		=	ONCE
;			End
;			Animation				=	AttackA2
;				AnimationName		=	RURrmBnr_SKL.RURrmBnr_ATKA
;				AnimationMode		=	ONCE
;			End
;			
;			Flags					=	RESTART_ANIM_WHEN_COMPLETE
;		End

;;--------------------------- EMOTIONS ------------------------------------------------------
;;======== APPREHENSIVE

		AnimationState					=	EMOTION_ALERT EMOTION_AFRAID
			Animation					=	Apprehensive
				AnimationName			=	RURrmBnr_SKL.RURrmBnr_APPA
				AnimationMode			=	LOOP	;Change this to ONCE if adding additional anims
			End
		End
		
;;======= AFRAID
	
		AnimationState					= EMOTION_AFRAID
			Animation					= FERA
				AnimationName			=RURrmBnr_SKL.RURrmBnr_FERA
				AnimationMode			= LOOP
			End
		;	Animation					= FERB
		;		AnimationName			=RURrmBnr_SKL.RURrmBnr_FERB
		;		AnimationMode			= LOOP
		;	End
		End

;;======= CELEBRATING
		
		; This is what happens when Theo gives his rousing speech
		AnimationState				=	EMOTION_CELEBRATING
			Animation				=	CheerA
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_CHRA
				AnimationMode		=	ONCE
				AnimationBlendTime	=	74
                AnimationMustCompleteBlend = yes
			End
			Animation				=	CheerB
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_CHRB
				AnimationMode		=	ONCE
				AnimationBlendTime	=	74
                AnimationMustCompleteBlend = yes
			End
			Animation				=	CheerC
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_CHRC
				AnimationMode		=	ONCE
				AnimationBlendTime	=	74
                AnimationMustCompleteBlend = yes
			End
			Animation				=	CheerD
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_CHRD
				AnimationMode		=	ONCE
				AnimationBlendTime	=	74
                AnimationMustCompleteBlend = yes
			End
			Animation				=	Salute
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_SLTA
				AnimationMode		=	ONCE
				AnimationBlendTime	=	74
                AnimationMustCompleteBlend = yes
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End

;;======= TAUNTING
			
		AnimationState					= EMOTION_TAUNTING
			Animation					= Taunting
				AnimationName			= RURrmBnr_SKL.RURrmBnr_TNTA
				AnimationMode			= ONCE
			End
			Animation					= Taunting2
				AnimationName			= RURrmBnr_SKL.RURrmBnr_TNTB
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End

;;======= POINTING
		
		AnimationState				= EMOTION_POINTING
			Animation				= Pointing1
				AnimationName		= RURrmBnr_SKL.RURrmBnr_PNTA
				AnimationMode		= LOOP
			End
		End

;;======= ALERT

		AnimationState				= EMOTION_ALERT
			Animation				= IDLA
				AnimationName		= RURrmBnr_SKL.RURrmBnr_IDLA
				AnimationMode		= LOOP
			End
		End

;;------------------- SELECTED -----------------------------------------------------------------		
		AnimationState				=	SELECTED
			SimilarRestart			=   Yes	
			Animation				=	AtAttention
				AnimationName		=	RURrmBnr_SKL.RURrmBnr_ATNA
				AnimationMode		=	ONCE
			End
		End
	End
	



	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState = MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None GenericSiegeTrailDust
	    End
	    AnimationState = MOVING DECELERATE
			ParticleSysBone = None GenericSiegeTrailDust
	    End
	    AnimationState = MOVING
	    End
	End
	
	; NOTE, PLEASE: If you are changing this unit in any way, you should consider changing 
	; GondorCavalryRiderless in FactionSubObject.ini

	; ***DESIGN parameters ***
	Side = Men
	EditorSorting = UNIT
	ThreatLevel = 1.0
	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

	ArmorSet
		Conditions      = None
		Armor           = CavalryLineFormationArmor
		DamageFX        = NormalDamageFX
	End

	ArmorSet			
		Conditions		= PLAYER_UPGRADE
		Armor			= KnightShieldHeavyArmor   ;CavalryHorseShieldArmor
		DamageFX		= NormalDamageFX
	End

	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    RohanRohirrimSpear
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	VisionRange = VISION_STANDARD_HORSE
	VisionSide = 35%
	VisionRear = 25%
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

	BountyValue = ROHAN_BANNERRIDER_BOUNTY_VALUE
	DisplayName = OBJECT:RohirrimBannerRider
	CrushableLevel = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 1
	CrushWeapon		= RohirrimCrush
	
	MinCrushVelocityPercent = 50 ; Has to be moving at at least 50% of full speed.
	CrushDecelerationPercent = 20 ; Lose 20 percent of max velocity when crushing.
	
	CrushKnockback = 40;
	CrushZFactor = 1.0;
	
	RamPower = 30;
	RamZMult = 0.5;
	CommandPoints = 0


	; *** AUDIO Parameters ***;

	;VoiceAmbushed		= RohirrimVoiceAmbushed  (not recorded)
	VoiceAttack		= RohirrimVoiceAttack		
	VoiceAttackCharge	= RohirrimVoiceAttackCharge
	VoiceAttackStructure 	= RohirrimVoiceAttack		
 	VoiceAttackMachine	= RohirrimVoiceAttack		
	VoiceCreated		= RohanBannerVoiceSalute
	VoiceMove		= RohirrimVoiceMove		
	VoiceMoveToCamp 	= RohirrimVoiceMoveCamp
	VoiceMoveWhileAttacking = RohirrimVoiceDisengage
	VoicePriority		= 53	
	VoiceRetreatToCastle 	= RohirrimVoiceRetreat
	VoiceSelect		= RohanBannerVoiceSelectMS		
	VoiceSelectBattle	= RohirrimVoiceSelectBattle
	VoiceGuard			= RohirrimVoiceMove
	
	SoundCrushing		= RohirrimCrushing 		;Sound made when crushing another unit underhoof
	SoundImpact 		= ImpactHorse
	;SoundMoveLoop 		= HorseMoveLoop
	;SoundMoveStart 	= GondorHorseMoveStart
	
	;UnitSpecificSounds
	;End
	
	CrowdResponseKey = Horse

    #include "..\Includes\StandardUnitEvaEvents.inc"


	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: HorseMoveFootsteps	Animation: RURrmBnr_SKL.RURrmBnr_ACCL		Frames: 8 30
		AnimationSound = Sound: HorseMoveFootsteps	Animation: RURrmBnr_SKL.RURrmBnr_RUNA		Frames: 0
		AnimationSound = Sound: HorseMoveFootsteps	Animation: RURrmBnr_SKL.RURrmBnr_RUNB		Frames: 0
		AnimationSound = Sound: HorseMoveFootsteps	Animation: RURrmBnr_SKL.RURrmBnr_TNL1		Frames: 0
		AnimationSound = Sound: HorseMoveFootsteps	Animation: RURrmBnr_SKL.RURrmBnr_TNR1		Frames: 0
		AnimationSound = Sound: HorseMoveFootsteps	Animation: RURrmBnr_SKL.RURrmBnr_TRNL		Frames: 0
		AnimationSound = Sound: HorseMoveFootsteps	Animation: RURrmBnr_SKL.RURrmBnr_TRNR		Frames: 0
		AnimationSound = Sound: HorseWhinny		Animation: RURrmBnr_SKL.RURrmBnr_CHRB		Frames: 8
		AnimationSound = Sound: HorseWhinny		Animation: RURrmBnr_SKL.RURrmBnr_CHRC		Frames: 18
		AnimationSound = Sound: HorseWhinny		Animation: RURrmBnr_SKL.RURrmBnr_DIEA		Frames: 0
		AnimationSound = Sound: HorseWhinny		Animation: RURrmBnr_SKL.RURrmBnr_TNTB		Frames: 38
		AnimationSound = Sound: BodyFallGeneric1	Animation: RURrmBnr_SKL.RURrmBnr_DIEA		Frames: 10 46
		AnimationSound = Sound: BodyFallGeneric1	Animation: RURrmBnr_SKL.RURrmBnr_LNDA		Frames: 3 11
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	ThingClass = CAVALRY_UNIT

	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE INFANTRY
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = ROHAN_BANNERRIDER_HEALTH                  ;BALANCE Knight Health
		MaxHealthDamaged  = ROHAN_BANNERRIDER_HEALTH_DAMAGED
		RecoveryTime      = ROHAN_BANNERRIDER_HEALTH_RECOVERY_TIME
	End

	;shield upgrade
	Behavior = ArmorUpgrade SetUpgradeModuleTag2
		TriggeredBy = Upgrade_RohanHorseShield
		CustomAnimAndDuration   = AnimState:USER_1 AnimTime:0 TriggerTime:0 ;set flag forever
	End
	
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = FighterHorde
    End
  
	#include "..\includes\CaptureBuilding.inc"
   
		
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		AttackPriority				= AttackPriority_Cavalry
	End

	LocomotorSet
		Locomotor = NormalHorseHordeMemberLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_CAVALRY_MEMBER_SPEED
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = SlowDeathBehavior ModuleTag_08
		; Die and don't spawn horse
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 10000
		;ProbabilityModifier = 33
		Sound = INITIAL RohanBannerVoiceDie
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Cavalry Rohirrim_Banner
	End
	
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	300 ;500		; max distance to taunted/pointed objet
 		TauntAndPointUpdateDelay	=	1000	; how often scan (milliseconds)
 		TauntAndPointExcluded		=	NONE
 		AfraidOf				=	EMOTION_AFRAIDOF_OBJECTFILTER
		AlwaysAfraidOf			=	EMOTION_ALWAYS_AFRAIDOF_OBJECTFILTER
 		PointAt					=	EMOTION_POINTAT_OBJECTFILTER
 		HeroScanDistance		=	150
 		FearScanDistance		=	30 ;250
 		
		AddEmotion					=	Terror_Base
 		AddEmotion					=	OVERRIDE Point_Base
 			Duration			=	2500
 		End
 		
 		AddEmotion					=	Taunt_Base
		AddEmotion					=	CheerIdle_Base
 		AddEmotion					=	CheerBusy_Base
 		
 		AddEmotion					=	OVERRIDE HeroCheerIdle_Base
			;StartFXList				=	RohirrimHeroCheerSound 			
 		End
 		AddEmotion					=	OVERRIDE HeroCheerBusy_Base
 			;StartFXList				=	RohirrimHeroCheerSound 			
 		End
		AddEmotion	=	Alert_Base
		
 	End
	
	Geometry = CYLINDER
	GeometryMajorRadius = 8
	GeometryMinorRadius = 8
	GeometryHeight = 20.0
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL
	ShadowSizeX = 30;
	ShadowSizeY = 21;
	ShadowTexture = ShadowI;
End


;//------------------------------------------------------------------------------
;// aka Mordor Banner Orc
;// i just replaced the name of the old mordor banner orc, this needs a proper hookup
Object WildBannerSpiderling_old

  
	;// *** ART Parameters ***
	SelectPortrait         = UPMordor_Banner
  
	;// This is required for garrisoned objects - please put in all objects.
	ButtonImage = BMOrcPit_RedEyeBanner

	Draw = W3DScriptedModelDraw ModuleTag_01

		OkToChangeModelColor = Yes
	  
		StaticModelLODMode = Yes
	  
		DefaultModelConditionState
			Model = MUOrcBanr_SKN
			Skeleton = IUBanner_SKL			
		End

		;// morph for Haradrim ( see BannerCarrierUpdate below for reference )
		ModelConditionState = USER_2
			Model = MUHaraBanr_SKN
			Skeleton = GUBanner_SKL
		End
								
		;// morph for Solders of Rhun ( see BannerCarrierUpdate below for reference )
		ModelConditionState = USER_3
			Model = MUEastBan_SKN
			Skeleton = IUBanner_SKL				
		End

		;// ------------------------- Haradrim Anims ------------------------------------
		
		AnimationState							= PASSENGER USER_2
			Animation							= ATKA
				AnimationName					= GUBanner_FLLA
				AnimationMode					= LOOP
			End
		End
		
		AnimationState							= FREEFALL USER_2
			Animation							= ATKA
				AnimationName					= GUBanner_FLYA
				AnimationMode					= LOOP
				AnimationBlendTime				= 5
				AnimationSpeedFactorRange		= 0.5	0.5
			End
		End
		
			
		AnimationState = MOVING FIRING_OR_PREATTACK_A USER_2
			Animation = TrotAndFire
				AnimationName = GUBanner_ATRA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			;ParticleSysBone = None InfantryDustTrails
		End
		
				
		AnimationState        = FIRING_OR_PREATTACK_A USER_2
			Animation           = ATKA
				AnimationName     = GUBanner_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming	  = Yes
			End
			StateName           = Attack
		End
		
		AnimationState				=	MOVING BACKING_UP USER_2
			Animation				=	BackingUp
				AnimationName		= GUBanner_BAKA
				AnimationMode		=	LOOP
				AnimationBlendTime  = 15
			End
			Flags					=	RANDOMSTART
		End
		
		AnimationState        = MOVING USER_2 EMOTION_TERROR
			Animation           = RUNA
				AnimationName     = GUBanner_RUNB
				AnimationMode     = LOOP
                               ; AnimationSpeedFactorRange = .8 .8 ;--- JGS
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End

		AnimationState        = MOVING USER_2
			Animation           = RUNA
				AnimationName     = GUBanner_RUNA
				AnimationMode     = LOOP
                                AnimationSpeedFactorRange = .8 .8 ;--- JGS
			End
			Flags               = RANDOMSTART
			;ParticleSysBone     = None InfantryDustTrails
		End
		
		AnimationState        = STUNNED_FLAILING USER_2
			Animation           = StunFlail
				AnimationName     = GUBanner_FLYA
				AnimationMode      = LOOP
			End
			Flags               = RANDOMSTART
		End
		
		AnimationState							= SPLATTED USER_2
			Animation							= ATKA
				AnimationName					= GUBanner_LNDA
				AnimationMode					= ONCE
			End
		End


		AnimationState = DYING AFLAME USER_2
			Animation = Flaming_Death
			AnimationName = GUBanner_MFDA
				AnimationMode = ONCE
			End
		End

		AnimationState        = DYING USER_2
			Animation           = DIEA
				AnimationName     = GUBanner_DIEA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState        = STUNNED_STANDING_UP USER_2
			Animation           = GTPA
				AnimationName     = GUBanner_GTPA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState        = STUNNED USER_2
			Animation           = LNDA
				AnimationName     = GUBanner_LNDA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState = MOVING CLIMBING BACKING_UP
			Animation = Climb Up
				AnimationName = GUBanner_FLLA
				AnimationMode = LOOP_BACKWARDS
			End
		End
		
		AnimationState = MOVING CLIMBING
			Animation = Climb Down
				AnimationName = GUBanner_FLLA
				AnimationMode = LOOP
			End
		End
		
		AnimationState = PASSENGER USER_2
			Animation = Wiggle
				AnimationName = GUBanner_FLLA
				AnimationMode = LOOP
			End
		End
		
		AnimationState = HIT_REACTION HIT_LEVEL_1 USER_2
			Animation = Hit_Level_1_a
				AnimationName = GUBanner_HITA
				AnimationMode = ONCE
			End
		End
		
		AnimationState = WAR_CHANT USER_2
			Animation = Chant
				AnimationName = GUBanner_TNTA
				AnimationMode = LOOP
			End
		End
		
		;//---emotion animations
		AnimationState					=	EMOTION_ALERT EMOTION_AFRAID USER_2
			Animation					=	Apprehensive
				AnimationName			=	GUBanner_APPA
				AnimationMode			=	LOOP	;Change this to ONCE if adding additional anims
			End
		End	
		AnimationState					= EMOTION_AFRAID USER_2
			Animation					= FERA
				AnimationName			= GUBanner_FERA
				AnimationMode			= LOOP
			End
		End
		
		AnimationState					= MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY USER_2
			Animation					= TerrorFromTheSky
				AnimationName			= GUBanner_RUNB
				AnimationMode			= LOOP
			End
		End

		AnimationState							= EMOTION_TAUNTING USER_2
			Animation							= TNTA
				AnimationName					= GUBanner_TNTA
				AnimationMode					= LOOP
			End
		End

		AnimationState							= EMOTION_CELEBRATING USER_2
			Animation                           = CHRA
				AnimationName					= GUBanner_CHRA
				AnimationMode					= LOOP
			End
			;Flags								= RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState							= EMOTION_ALERT USER_2
			Animation							= ALERT
				AnimationName					= GUBanner_IDLA
				AnimationMode					= LOOP
			End
			Flags								= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
		End
		
		AnimationState				=	SELECTED USER_2
			StateName				=	STATE_Selected2
			Animation				=	ATNB
				AnimationName		=	GUBanner_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle2"   then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected2") return end
			EndScript
		End
	
		AnimationState				=	USER_2
			StateName				=	Idle2
			Animation				=	IdleB
				AnimationName		=	GUBanner_IDLB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected2"  then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle2") return end
			EndScript		
		End
		
		;// ------------------------- End Haradrim Anims ------------------------------------	
		
		AnimationState							= PASSENGER
			Animation							= FLLA
				AnimationName					= IUBanner_FLLA
				AnimationMode					= LOOP
			End
		End
		
		AnimationState							= FREEFALL
			Animation							= FLYA
				AnimationName					= IUBanner_FLYA
				AnimationMode					= LOOP
				AnimationBlendTime				= 10
				AnimationSpeedFactorRange		= 0.5	0.5
			End
		End
		
		IdleAnimationState
			Animation = IDLD
				AnimationName = IUBanner_IDLD
				AnimationMode = ONCE
				AnimationPriority = 5
				AnimationBlendTime  = 15
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE
			StateName = Idle
		    BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "CloseRange"	then CurDrawableSetTransitionAnimState("Trans_Sword_To_Idle") return end
				if Prev == "STATE_Selected"   then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") return end
			EndScript
		End

		AnimationState = MOVING FIRING_OR_PREATTACK_A
			Animation = TrotAndFire
				AnimationName = IUBanner_RUNB		; IUBanner_ATRA does not exist...
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			;ParticleSysBone = None InfantryDustTrails
		End
		
		AnimationState = MOVING BACKING_UP EMOTION_TERROR
			Animation = Moving
				AnimationName = IUBanner_BAKA
				AnimationMode = LOOP
				AnimationSpeedFactorRange 1.4 1.4
			End
			StateName = Moving
			Flags = RANDOMSTART
;			ParticleSysBone = None InfantryDustTrails
		End

		AnimationState = MOVING EMOTION_TERROR
			Animation = Moving
				AnimationName = IUBanner_RUNA
				AnimationMode = LOOP
			End
			StateName = Moving
			Flags = RANDOMSTART
;			ParticleSysBone = None InfantryDustTrails
		End
		
		AnimationState = MOVING USER_3 ALTERNATE_FORMATION
			Animation = MovingSlowInPorcupine
				AnimationName = IUBanner_RUNA
				AnimationMode = LOOP
                AnimationSpeedFactorRange = .5 .5
			End
			StateName = Moving
			Flags = RANDOMSTART
;			ParticleSysBone = None InfantryDustTrails
		End
		
		AnimationState = MOVING
			Animation = Moving
				AnimationName = IUBanner_RUNA
				AnimationMode = LOOP
			End
			StateName = Moving
			Flags = RANDOMSTART
;			ParticleSysBone = None InfantryDustTrails
		End
		
		AnimationState = STUNNED_FLAILING
 				Animation = Flying
					AnimationName = IUBanner_FLYB
			AnimationMode = LOOP
				End
		Flags = RANDOMSTART
		End


		AnimationState = DYING SPLATTED
 				Animation = Splattered_On_Ground_1
					AnimationName = IUBanner_LNDA
			AnimationMode = ONCE
				End
		End

		AnimationState = DYING AFLAME
				Animation = Flaming_Death
			AnimationName = MUHarOvr_MFDA
				AnimationMode = ONCE
				End
		End
    
		AnimationState = DYING WEAPONSTATE_CLOSE_RANGE
				Animation = Dying_1
			AnimationName = IUBanner_DIEC
				AnimationMode = ONCE
				End
				Animation = Dying_2
			AnimationName = IUBanner_DIED
				AnimationMode = ONCE
				End
		End

		AnimationState = DYING
				Animation = Dying_1
			AnimationName = IUBanner_DIEA
				AnimationMode = ONCE
				End
				Animation = Dying_2
			AnimationName = IUBanner_DIEB
				AnimationMode = ONCE
				End
		End
 
		;// --- stunned anims
		AnimationState = STUNNED_STANDING_UP
 				Animation = Standing_Back_Up
					AnimationName = IUBanner_GTPA
			AnimationMode = ONCE
			AnimationSpeedFactorRange = 1.5 1.5
				End
		End
		AnimationState = STUNNED
 				Animation = Splattered_On_Ground_1
					AnimationName = IUBanner_LNDA
			AnimationMode = ONCE
				End
		End

		TransitionState = Trans_Idle_To_Sword
				Animation = Transition
			AnimationName = IUBanner_STHA
				AnimationMode = ONCE
				End
		End

		TransitionState = Trans_Moving_To_Sword
				Animation = Transition
				AnimationName = IUBanner_STHC
					AnimationMode = ONCE
				End
		End

		TransitionState = Trans_Sword_To_Idle
			Animation = Transition
				AnimationName = IUBanner_STHB
				AnimationMode = ONCE
			End
		End

		;// --------- With Sword ------------

		AnimationState = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
			Animation = ATKA1
				AnimationName = IUBanner_ATKA
				AnimationMode = ONCE
				UseWeaponTiming		= Yes
			End
			StateName = CloseRange
		End
		
		AnimationState				=	SELECTED
			StateName				=	STATE_Selected
			Animation				=	ATNB
				AnimationName		=	IUBanner_IDLA
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle"   then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") return end
			EndScript
		End

		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	IUBanner_ATNA
				AnimationMode			=	ONCE
			End
		End
	
		TransitionState					=	TRANS_Selected_to_Idle
			Animation					=	ATNB
				AnimationName			=	IUBanner_ATNB
				AnimationMode			=	ONCE
			End
		End
		
		AnimationState = WAR_CHANT
			Animation = Chant
				AnimationName = IUBanner_IDLC ;maybe TNTA
				AnimationMode = LOOP
			End
		End
		
		;//-emotions--
		AnimationState							= EMOTION_AFRAID
			Animation							= FERA
				AnimationName					= IUBanner_FERA
				AnimationMode					= LOOP
			End
			Flags = RANDOMSTART
		End

		AnimationState							= EMOTION_TAUNTING
			Animation							= TNTA
				AnimationName					= IUBanner_IDLC
				AnimationMode					= LOOP
			End
		End

		AnimationState							= EMOTION_CELEBRATING
			Animation                           = CHRA
				AnimationName					= IUBanner_CHRA
				AnimationMode					= ONCE
			End
		End
		
		AnimationState							= EMOTION_ALERT
			Animation							= ALERT
				AnimationName					= IUBanner_IDLB
				AnimationMode					= LOOP
			End
			Flags								= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
		End
		
		AnimationState = WEAPONSTATE_CLOSE_RANGE
 			Animation = Close_Range_Idle
					AnimationName = IUBanner_IDLB
					AnimationMode = ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Moving" then CurDrawableSetTransitionAnimState("Trans_Moving_To_Sword") return end
				if Prev == "Idle"   then CurDrawableSetTransitionAnimState("Trans_Idle_To_Sword") return end
			EndScript
			StateName = CloseRange
		End
	End
 
	;// ***DESIGN parameters ***
	Side = Wild
	EditorSorting = UNIT
	ThreatLevel = 1.0
	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	
	WeaponSet
		Conditions			= None 
		Weapon				= PRIMARY    MordorWarriorAxe
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = SoldierArmor
		DamageFX        = NormalDamageFX
	End
	
	BuildCost	 		= MORDOR_BANNER_BUILDCOST
	BuildTime			= MORDOR_BANNER_BUILDTIME
	  
	VisionRange = GOBLIN_FIGHTER_VISION_RANGE
	VisionSide = 35%
	VisionRear = 25%
	ShroudClearingRange = GOBLIN_FIGHTER_SHROUD_RANGE
	  
	BountyValue			= MORDOR_BANNER_BOUNTY_VALUE
	DisplayName			= OBJECT:MordorBanner
	CrushableLevel		= 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel		= 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
 	CrushRevengeWeapon	= BasicInfantryCrushRevenge

	CommandSet		= EmptyCommandSet
	CommandPoints	= 0


	;// *** AUDIO Parameters ***;
	VoiceAttack				= MordorBannerOrcVoiceAttackMS
	VoiceAttackStructure		= MordorBannerOrcVoiceAttack
	VoiceAttackMachine		= MordorBannerOrcVoiceAttack
	VoiceAttackCharge			= MordorBannerOrcVoiceAttack
	VoiceCombineWithHorde 		= IsengardBannerVoiceJoin
	VoiceCreated			= CampOrcCreateRedEyeBanner
	VoiceFullyCreated 		= CampOrcCreateRedEyeBanner
	VoiceMove				= MordorBannerOrcVoiceMoveMS
	VoiceMoveWhileAttacking		= MordorBannerOrcVoiceMove
	VoiceMoveToCamp			= MordorBannerOrcVoiceMove
	VoicePriority			= 9
	VoiceSelect				= MordorBannerOrcVoiceSelectMS
	VoiceGuard				= MordorBannerOrcVoiceMove
	

	SoundImpact				= ImpactHorse

    #include "..\includes\StandardUnitEvaEvents.inc"

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU				; Tie into LargeGroupAudio system
		Key = Orc_Infantry Mordor_Banner
	End

	;// *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER SCORE THROWN_OBJECT BANNER GRAB_AND_DROP IGNORES_SELECT_ALL
 
	Body = ActiveBody ModuleTag_02
		MaxHealth         = MORDOR_BANNER_HEALTH
		MaxHealthDamaged  = MORDOR_BANNER_HEALTH_DAMAGED
		;RecoveryTime      = MORDOR_BANNER_HEALTH_RECOVERY_TIME
	End
 
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle		= No
		MoodAttackCheckRate				= 500
		HoldGroundCloseRangeDistance	= 40
		AttackPriority					= AttackPriority_Infantry
		AILuaEventsList					= MordorFighterFunctions
		FadeOnPortals					= Yes
	End

	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	350		; max distance to taunted/pointed objet
		TauntAndPointUpdateDelay	=	1000	; how often scan (milliseconds)
		TauntAndPointExcluded		=	NONE
		AfraidOf					=	EMOTION_AFRAIDOF_OBJECTFILTER
		AlwaysAfraidOf				=	EMOTION_ALWAYS_AFRAIDOF_OBJECTFILTER
		PointAt						=	EMOTION_POINTAT_OBJECTFILTER

		HeroScanDistance			=	150
		FearScanDistance			=	250

		AddEmotion	=	Terror_Base
		AddEmotion	=	Doom_Base
		AddEmotion	=   BraceForBeingCrushed_Base
		AddEmotion	=	UncontrollableFear_Base_Evil
		AddEmotion	=	FearIdle_Base
		AddEmotion	=	FearBusy_Base
		AddEmotion	=	Point_Base
		AddEmotion	=	Taunt_Base	
		AddEmotion	=	CheerIdle_Base
		AddEmotion	=	CheerBusy_Base
		AddEmotion	=	HeroCheerIdle_Base
		AddEmotion	=	HeroCheerBusy_Base
		AddEmotion	=	Alert_Base
	End	
  
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_WILD_FAST_MEMBER_SPEED
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStunnedTimeLow		= 1400	;msec
		ShockStunnedTimeHigh	= 2400	;msec
		ShockStandingTime		= 2133	;msec
	End
 
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL OrcVoiceDie				;MordorBannerOrcVoiceDie
	End
 
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
 
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		Sound = INITIAL OrcVoiceDie				;MordorBannerOrcVoiceDie
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	;/////////////////////////////////////////////////////////
	;// BannerCarrierUpdate module
	;/////////////////////////////////////////////////////////
	Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
		IdleSpawnRate			= 10000							; spawn a new member every n seconds when idle (in miliseconds)
		MeleeFreeUnitSpawnTime		= 20000							; n miliseconds units must not have been fighting to be able to spawn units when idle (in miliseconds)
		DiedRespawnTime			= 10000							; how much time must pass after Banner Carrier dies before horde can spawn another
		MeleeFreeBannerReSpawnTime	= 20000							; how much time since horde has been fighting before a new Banner Carrier can be respawned
		
		BannerMorphFX		= FX_BannerCarrierMorph					; name of particle FX to use when the BannerCarrier morphs into the dest unit type
		UnitSpawnFX			= FX_BannerCarrierSpawnUnit				; name of particle FX to use when the BannerCarrier spawns a new unit
		
		; Depending on the unit type selected, we will morph into one of the following 
		; unitTypes by setting the appropriate model condition state
		
		; Red Eye Banner - no morph needed
		;MorphCondition		= UnitType:MordorFighter				ModelState:"USER_1"
		;MorphCondition		= UnitType:MordorArcher					ModelState:"USER_2"
		
		; Harad Banner
		MorphCondition		= UnitType:MordorHaradrimArcher			ModelState:"USER_2"
		MorphCondition		= UnitType:MordorHaradrim				ModelState:"USER_2"

		; Rhun Banner
		MorphCondition		= UnitType:MordorEasterling				ModelState:"USER_3"
		
		; show/hide subobjects based on various experience levels
		;ExpLevelDraw		= Level:1		SubObject:Hide:Adornment		SubObject:Hide:Streamers			SubObject:Hide:Glow
		;ExpLevelDraw		= Level:2		SubObject:Hide:Adornment		SubObject:Hide:Streamers			SubObject:Hide:Glow
		;ExpLevelDraw		= Level:3		SubObject:Hide:Adornment		SubObject:Hide:Streamers			SubObject:Hide:Glow
		;ExpLevelDraw		= Level:4		SubObject:Hide:Adornment		SubObject:Hide:Streamers			SubObject:Hide:Glow
		
		;ExpLevelDraw		= Level:5		SubObject:Show:Adornment		SubObject:Show:Streamers			SubObject:Hide:Glow
		;ExpLevelDraw		= Level:6		SubObject:Show:Adornment		SubObject:Show:Streamers			SubObject:Hide:Glow	
		;ExpLevelDraw		= Level:7		SubObject:Show:Adornment		SubObject:Show:Streamers			SubObject:Hide:Glow	
		;ExpLevelDraw		= Level:8		SubObject:Show:Adornment		SubObject:Show:Streamers			SubObject:Hide:Glow	
		;ExpLevelDraw		= Level:9		SubObject:Show:Adornment		SubObject:Show:Streamers			SubObject:Hide:Glow
		
		;ExpLevelDraw		= Level:10		SubObject:Show:Adornment		SubObject:Show:Streamers			SubObject:Show:Glow
	End
	
	Geometry			= CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight		= 19.2
	GeometryIsSmall		= Yes
	Shadow				= SHADOW_DECAL
	ShadowSizeX			= 19
	ShadowSizeY			= 19
	ShadowTexture		= ShadowI
End


;------------------------------------------------------------------------------
; aka Morannan Orc
ObjectReskin MordorMoranOrc MordorFighter
  Draw = W3DScriptedModelDraw ModuleTag_01
  

	  OkToChangeModelColor = Yes
	  
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
	ShowShadowWhileContained = No
    DefaultModelConditionState
      Model               = MUOrcMorA_SKN
    End
    IdleAnimationState
      Animation = Idle1
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLA
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle2
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLL
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle3
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLM
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle4
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLN
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLO
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLB
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLC
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLD
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLE
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLF
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLG
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLH
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLI
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLJ
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLK
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
    End
 
    AnimationState     = PASSENGER
      Animation        = Carried
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLLA
        AnimationMode    = LOOP
      End
    End


    AnimationState = THROWN_PROJECTILE
      Animation        = Thrown
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLYB
        AnimationMode    = LOOP
      End
    End

    AnimationState        = MOVING CLIMBING BACKING_UP
      Animation         = ClimbingBackwards
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_CLMA
        AnimationMode    = LOOP_BACKWARDS
      End
    End
    
    AnimationState = MOVING BACKING_UP
    	Animation = BackingUp
    		AnimationName = MUOrcWarr_SKL.MUOrcWarr_BAKA
    		AnimationMode = LOOP
    	End
    	Flags = RANDOMSTART
    End
    
    AnimationState        = MOVING CLIMBING
      Animation         = Climbing
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_CLMA
        AnimationMode    = LOOP
      End
    End

;    AnimationState        = MOVING DAMAGED
 ;     Animation         = Moving
 ;       AnimationName    = MUOrcWarr_SKL.MUOrcWarr_IWKA
 ;       AnimationMode    = LOOP
 ;     End
 ;     Flags               = RANDOMSTART
 ;     ParticleSysBone     = None InfantryDustTrails
 ;   End

    AnimationState        = MOVING WANDER
      Animation         = Moving1
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_WLKA
        AnimationMode    = LOOP
      End
      Animation         = Moving2
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_WLKB
        AnimationMode    = LOOP
      End
      Animation         = Moving3
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_WLKC
        AnimationMode    = LOOP
      End
      Animation         = Moving4
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_WLKD
        AnimationMode    = LOOP
      End
      ParticleSysBone     = None InfantryDustTrails
    End
    
    AnimationState        = MOVING EMOTION_TERROR
      Animation         = Moving
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_RUNE
        AnimationMode    = LOOP
      End
      Animation         = Moving
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_RUND
        AnimationMode    = LOOP
      End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End
 
    AnimationState        = MOVING
      Animation         = Moving
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_RUNA
        AnimationMode    = LOOP
      End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End

	AnimationState        = FIRING_OR_PREATTACK_A
		Animation         = ATA
			AnimationName    = MUOrcWarr_SKL.MUOrcWarr_ATKA
			AnimationMode    = ONCE
			UseWeaponTiming		= Yes
		End
		Animation         = ATB1
			AnimationName    = MUOrcWarr_SKL.MUOrcWarr_ATKB
			AnimationMode    = ONCE
			UseWeaponTiming		= Yes
		End
		Animation         = ATC1
			AnimationName    = MUOrcWarr_SKL.MUOrcWarr_ATKC
			AnimationMode    = ONCE
			UseWeaponTiming		= Yes
		End
	End
 
    AnimationState      = DYING AFLAME
      Animation         = Flaming
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_MFDA
        AnimationMode    = ONCE
      End
    END
    
    AnimationState      = DYING
      Animation         = Dying1
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_DIEA
        AnimationMode    = ONCE
      End
      Animation         = Dying2
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_DIEB
        AnimationMode    = ONCE
      End
    End


    ; --- stunned anims
    AnimationState      = STUNNED_FLAILING 
      ;Animation         = Stunned1
      ;  AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLYA
      ;  AnimationMode    = LOOP
      ;End
      Animation         = Stunned2
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLYB
        AnimationMode    = LOOP
      End
      Animation         = Stunned3
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLYC
        AnimationMode    = LOOP
      End
      Flags             = RANDOMSTART
    End

    AnimationState      = STUNNED 
      Animation         = Stunned
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_LNDA
        AnimationMode    = ONCE
      End
     End

    AnimationState      = DYING SPLATTED 
      Animation         = Splatted
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_LNDA
        AnimationMode    = ONCE
      End
    End

    AnimationState      = STUNNED_STANDING_UP 
      Animation         = StunnedStandUp
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_LNDA
        AnimationMode    = ONCE_BACKWARDS
      End
      Flags             = START_FRAME_LAST
    End
    AnimationState = WAR_CHANT
		Animation = Chant
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLB
			AnimationMode = LOOP
		End
	End
  End
End

;------------------------------------------------------------------------------
; aka Morannan Orc Fat
ObjectReskin MordorMoranOrcFat MordorFighter
  Draw = W3DScriptedModelDraw ModuleTag_01


	  OkToChangeModelColor = Yes
	  
    DefaultModelConditionState
      Model               = MUOrcMorB_SKN
    End
    IdleAnimationState
      Animation = Idle1
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLA
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle2
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLL
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle3
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLM
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle4
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLN
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLO
        AnimationPriority   = 20
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLB
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLC
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLD
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLE
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLF
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLG
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLH
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLI
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLJ
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
      Animation = Idle5
        AnimationName       = MUOrcWarr_SKL.MUOrcWarr_IDLK
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
        AnimationBlendTime  = 15
        AnimationSpeedFactorRange = 0.8 1.2
      End
    End
 
    AnimationState     = PASSENGER
      Animation        = Carried
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLLA
        AnimationMode    = LOOP
      End
    End


    AnimationState = THROWN_PROJECTILE
      Animation        = Thrown
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLYB
        AnimationMode    = LOOP
      End
    End

    AnimationState        = MOVING CLIMBING BACKING_UP
      Animation         = ClimbingBackwards
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_CLMA
        AnimationMode    = LOOP
      End
    End

    AnimationState        = MOVING CLIMBING
      Animation         = Climbing
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_CLMA
        AnimationMode    = LOOP
      End
    End

 ;   AnimationState        = MOVING DAMAGED
 ;     Animation         = Moving
 ;       AnimationName    = MUOrcWarr_SKL.MUOrcWarr_IWKA
 ;       AnimationMode    = LOOP
 ;     End
 ;     Flags               = RANDOMSTART
 ;     ParticleSysBone     = None InfantryDustTrails
 ;   End
 
	AnimationState			= MOVING BACKING_UP
		Animation			= BackingUp
			AnimationName	= MUOrcWarr_SKL.MUOrcWarr_BAKA
			AnimationMode	= LOOP
		End
		Flags = RANDOMSTART
	End

    AnimationState        = MOVING WANDER
      Animation         = Moving1
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_WLKA
        AnimationMode    = LOOP
      End
      Animation         = Moving2
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_WLKB
        AnimationMode    = LOOP
      End
      Animation         = Moving3
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_WLKC
        AnimationMode    = LOOP
      End
      Animation         = Moving4
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_WLKD
        AnimationMode    = LOOP
      End
      ParticleSysBone     = None InfantryDustTrails
    End
    
	AnimationState        = MOVING EMOTION_TERROR
		Animation         = Moving
			AnimationName    = MUOrcWarr_SKL.MUOrcWarr_RUND
			AnimationMode    = LOOP
		End
		Animation         = Moving
			AnimationName    = MUOrcWarr_SKL.MUOrcWarr_RUNE
			AnimationMode    = LOOP
		End

		Flags               = RANDOMSTART
		ParticleSysBone     = None InfantryDustTrails
    End
 
    AnimationState        = MOVING
      Animation         = Moving
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_RUNA
        AnimationMode    = LOOP
      End
      Flags               = RANDOMSTART
      ParticleSysBone     = None InfantryDustTrails
    End

    AnimationState        = FIRING_OR_PREATTACK_A
      Animation         = ATKA
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_ATKA
        AnimationMode    = ONCE
        UseWeaponTiming		= Yes
      End
      Animation         = ATKB
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_ATKB
        AnimationMode    = ONCE
        UseWeaponTiming		= Yes
      End
      Animation         = ATKC
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_ATKC
        AnimationMode    = ONCE
        UseWeaponTiming		= Yes
      End
    End

    AnimationState      = DYING AFLAME
      Animation         = Flaming
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_MFDA
        AnimationMode    = ONCE
      End
    END
    
    AnimationState      = DYING
      Animation         = Dying1
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_DIEA
        AnimationMode    = ONCE
      End
      Animation         = Dying2
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_DIEB
        AnimationMode    = ONCE
      End
    End


    ; --- stunned anims
    AnimationState      = STUNNED_FLAILING 
      ;Animation         = Stunned1
      ;  AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLYA
      ;  AnimationMode    = LOOP
      ;End
      Animation         = Stunned2
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLYB
        AnimationMode    = LOOP
      End
      Animation         = Stunned3
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_FLYC
        AnimationMode    = LOOP
      End
      Flags             = RANDOMSTART
    End

    AnimationState      = STUNNED 
      Animation         = Stunned
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_LNDA
        AnimationMode    = ONCE
      End
     End

    AnimationState      = DYING SPLATTED 
      Animation         = Splatted
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_LNDA
        AnimationMode    = ONCE
      End
    End

    AnimationState      = STUNNED_STANDING_UP 
      Animation         = StunnedStandUp
        AnimationName    = MUOrcWarr_SKL.MUOrcWarr_LNDA
        AnimationMode    = ONCE_BACKWARDS
      End
      Flags             = START_FRAME_LAST
    End
    AnimationState = WAR_CHANT
		Animation = Chant
			AnimationName = MUOrcWarr_SKL.MUOrcWarr_IDLB
			AnimationMode = LOOP
		End
	End

  End
End

;------------------------------------------------------------------------------
ChildObject IsengardWargBannerRider IsengardWargRider
End

;------------------------------------------------------------------------------
ChildObject IsengardWargRider_Slaved IsengardWargRider

	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CAVALRY SCORE PATH_THROUGH_INFANTRY HAS_HEALTH_BAR

	DisplayName = OBJECT:GenericWargRider
	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 75.0
		GuardWanderRange	= 75.0
		UseSlaverAsControlForEvaObjectSightedEvents = No ; Not a creep
	End

	Body = ActiveBody ModuleTag_02
		MaxHealth         = 200                  
		MaxHealthDamaged  = 200
		;RecoveryTime      = 10000
	End
	
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
	End

	CrushableLevel = 1  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0
	IsTrainable		= No

End


;------------------------------------------------------------------------------
; aka WildmanIsengard, Dunland
Object IsengardWildmanBanner
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  
  	SelectPortrait  =  UPIsengard_WildmenofDunland
  	ButtonImage = BCInn_WildmenofDunland
  
  Draw = W3DHordeModelDraw ModuleTag_01

	OkToChangeModelColor = Yes	  
	StaticModelLODMode = Yes
	; specify options for static LODs
	LodOptions	= LOW
		AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
		MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
		MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
		MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
	End
	
	LodOptions	= MEDIUM
		AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
		MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
		MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
		MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
	End
	
	LodOptions	= HIGH
		AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
		MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
		MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
		MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
	End
	
    DefaultModelConditionState
      Model = IUWldBnr_SKN
    End

		IdleAnimationState
			Animation = IDL
	      AnimationName = IUBanner_SKL.IUBanner_IDLA
	      AnimationMode = ONCE
			End
			StateName = Idle
		End

    AnimationState = DYING
			Animation = Dying
	      AnimationName = IUBanner_SKL.IUBanner_DIEA
		    AnimationMode = ONCE
			End
    End
    
	AnimationState						= PARALYZED
		Animation
			AnimationName				= IUBanner_SKL.IUBanner_IDLA
			AnimationMode				= LOOP
		End
	End

	AnimationState = MOVING BACKING_UP
		Animation = BackingUp
			AnimationName = IUBanner_SKL.IUBanner_BAKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End
	
	AnimationState = MOVING EMOTION_TERROR
		Animation = Moving
			AnimationName = IUBanner_SKL.IUBanner_RUNA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End
	
    AnimationState = MOVING DAMAGED
			Animation = Moving
	      AnimationName = IUBanner_SKL.IUBanner_WLK
		    AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
    End
 
    AnimationState = MOVING
			Animation = Moving
	      AnimationName = IUBanner_SKL.IUBanner_RUNA
		    AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
    End
    
	AnimationState							= EMOTION_UNCONTROLLABLY_AFRAID
		Animation							= FERA
			AnimationName					= IUBanner_SKL.IUBanner_FERA
			AnimationMode					= LOOP
		End
		Flags = RANDOMSTART
	End

    AnimationState = ATTACKING
			Animation = Attacking
	      AnimationName = IUBanner_SKL.IUBanner_ATA
		    AnimationMode = LOOP
			End
    End

    AnimationState = WAR_CHANT
		Animation = Chant
			AnimationName = IUBanner_SKL.IUBanner_TNTA
			AnimationMode = LOOP
		End
	End

			
	;-emotions--
	
	AnimationState							= EMOTION_AFRAID
		Animation							= FERA
			AnimationName					= IUBanner_SKL.IUBanner_FERA
			AnimationMode					= LOOP
		End
		Flags = RANDOMSTART
	End
	AnimationState							= EMOTION_TAUNTING
		Animation							= TNTA
			AnimationName					= IUBanner_SKL.IUBanner_TNTA
			AnimationMode					= LOOP
		End
	End
	AnimationState							= EMOTION_POINTING
		Animation							= Pointing1
			AnimationName					= IUBanner_SKL.IUBanner_PNTA
			AnimationMode					= LOOP
		End
	End
	AnimationState							= EMOTION_CELEBRATING
		Animation                           = CHRA
			AnimationName					= IUBanner_SKL.IUBanner_CHRA
			AnimationMode					= ONCE
		End
	End
	
	AnimationState							= EMOTION_ALERT
		Animation							= ALERT
			AnimationName					= IUBanner_SKL.IUBanner_IDLA
			AnimationMode					= LOOP
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
	End
    
    
  End

;//    #include "..\..\..\includes\StunDrawModuleSmall.inc"


	; ***DESIGN parameters ***
	Side = Isengard
	EditorSorting = UNIT
		ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 1
	BountyValue = ISENGARD_WILDMAN_BOUNTY_VALUE


	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardWildmanCudgel
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CONTAINED
		Weapon = PRIMARY    GarrisonedWildmanRockThrow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CONTAINED PLAYER_UPGRADE
		Weapon = PRIMARY    GarrisonedWildmanTorchThrow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = IsengardWargPelt
		DamageFX        = NormalDamageFX
	End

	ShroudClearingRange = SHROUD_CLEAR_STANDARD       
	VisionRange = ISENGARD_WILDMAN_VISION_RANGE
	
	VisionSide = 35%
	VisionRear = 25%
	
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 2.0%
	

	DisplayName = OBJECT:IsengardWildman
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
	  
	CommandSet		= IsengardWildmanCommandSet
	 

	; *** AUDIO Parameters ***;

	;VoiceSelect = NoSound
	;VoiceMove = NoSound
	;VoiceAttack = NoSound
	;VoiceFear = NoSound
	;VoiceGuard = NoSound
  
	;UnitSpecificSounds
	;  VoiceGarrison         = NoSound
	;  VoiceEnter            = NoSound
	;  VoiceEnterHostile     = NoSound
	;  VoiceGetHealed        = NoSound
	;End

	CrowdResponseKey = EvilMen1

;//    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU	;Tie into LargeGroupAudio system
		Key = Orc_Infantry
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER 
	CamouflageDetectionMultiplier = CAMOUFLAGE_DETECTION_DISTANCE_SHORT
	  
	 
	Body = ActiveBody ModuleTag_02
		MaxHealth         = ISENGARD_WILDMAN_VISION_RANGE
		MaxHealthDamaged  = ISENGARD_WILDMAN_HEALTH_DAMAGED
		;RecoveryTime      = ISENGARD_WILDMAN_HEALTH_RECOVERY_TIME
	End
	 
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
	End

	LocomotorSet
		Locomotor     = HumanLocomotor
		Condition     = SET_NORMAL
		Speed         = NORMAL_ISENGARD_INFANTRY_MEMBER_SPEED
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	 
	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight				= 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight			= 24
		FirstPercentIndent		= 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent		= 70%
		TumbleRandomly			= Yes

		CrushStyle				= Yes ; I don't detonate, I just hit
		DieOnImpact				= Yes
		BounceCount				= 1   ; When I hit the ground, I'll arc again
		BounceDistance			= 40 ; this far
		BounceFirstHeight		= 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight		= 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End
 
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		;Sound = INITIAL UrukVoiceDie
	End
	 
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End 
		
  	;;; Pillage ;;;
	Behavior = PillageModule ModuleTag_Test1
		PillageAmount				= WILDMAN_PILLAGE_AMOUNT
		NumDamageEventsPerPillage	= WILDMAN_PILLAGE_NUM_DAMAGES
		PillageFilter				= WILDMAN_PILLAGE_FILTER 
	End
    
	;;; BannerCarrierUpdate module ;;;

	Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
		IdleSpawnRate				= 10000							; spawn a new member every n seconds when idle (in miliseconds)
		MeleeFreeUnitSpawnTime		= 20000							; n miliseconds units must not have been fighting to be able to spawn units when idle (in miliseconds)
		DiedRespawnTime				= 10000							; how much time must pass after Banner Carrier dies before horde can spawn another
		MeleeFreeBannerReSpawnTime	= 20000							; how much time since horde has been fighting before a new Banner Carrier can be respawned
		
		BannerMorphFX		= FX_BannerCarrierMorph					; name of particle FX to use when the BannerCarrier morphs into the dest unit type
		UnitSpawnFX			= FX_BannerCarrierSpawnUnit				; name of particle FX to use when the BannerCarrier spawns a new unit
		
		; Depending on the unit type selected, we will morph into one of the following 
		; unitTypes by setting the appropriate model condition state
		;MorphCondition		= UnitType:IsengardWargRider		Locomotor:SET_MOUNTED	ModelState:"USER_2 MOUNTED"		
	End
   
    ;;; Upgrades ;;;
    
    ; Flaming Torches
	Behavior = StatusBitsUpgrade ModuleTag_ProductionLegality
		TriggeredBy = Upgrade_IsengardTorches
	End
	
	Behavior = SubObjectsUpgrade FireArrows_Upgrade
		TriggeredBy		= Upgrade_IsengardTorches
		ShowSubObjects	= FlamingTorch
		HideSubObjects	= Torch
	End
	
	
	
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy			= Upgrade_IsengardHeavyArmor
		ArmorSetFlag		= PLAYER_UPGRADE
	End
	
	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy			= Upgrade_IsengardHeavyArmor
		UpgradeTexture		= IUWildMen2.tga 0 GUManAtArms_HA.tga									; Need correct tga here//.......;;;;;-----
		RecolorHouse		= Yes
	End

 

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;
End


;------------------------------------------------------------------------------
; Soldier of Rhun
Object MordorSoldOfRhun
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = WOR_Easterling
  SelectPortrait         = UPMordor_Haradrim

  Draw = W3DScriptedModelDraw ModuleTag_01

    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

    DefaultModelConditionState
      Model = MUSldrRhun
    End

		IdleAnimationState
			Animation = IDLA
	      AnimationName = MUSauron_SKL.MUSauron_IDLA
	      AnimationMode = ONCE
				AnimationPriority = 25
			End
			StateName = Idle
		End
		
	AnimationState = MOVING TURN_LEFT
			Animation = Moving
	      AnimationName = MUSauron_SKL.MUSauron_TRNL
		    AnimationMode = LOOP
			End
    End

    AnimationState = MOVING TURN_RIGHT
			Animation = Moving
	      AnimationName = MUSauron_SKL.MUSauron_TRNR
		    AnimationMode = LOOP
			End
    End
 
	AnimationState = MOVING FIRING_OR_PREATTACK_A
		Animation = WLKB1
			AnimationName = MUSauron_SKL.MUSauron_WLKB
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
	End
	
	AnimationState = MOVING BACKING_UP
		Animation = BackingUp
			AnimationName = MUSauron_SKL.MUSauron_BAKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End
    
    AnimationState = MOVING
			Animation = Moving
	      AnimationName = MUSauron_SKL.MUSauron_WLKA
		    AnimationMode = LOOP
	      AnimationSpeedFactorRange = 1.5 1.5
			End
      Flags = RANDOMSTART
    End


	AnimationState = FIRING_OR_PREATTACK_A
		Animation = ATKA1
			AnimationName = MUSauron_SKL.MUSauron_ATKA
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		Animation = ATKB1
			AnimationName = MUSauron_SKL.MUSauron_ATKB
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
	End
	
	AnimationState = WAR_CHANT
		Animation = Chant
			AnimationName = MUSauron_SKL.MUSauron_TNTA
			AnimationMode = LOOP
		End
	End
			
	;-emotions--
	AnimationState							= EMOTION_AFRAID
		Animation							= FERA
			AnimationName					= MUSauron_SKL.MUSauron_FERA
			AnimationMode					= LOOP
		End
		Flags = RANDOMSTART
	End
	AnimationState							= EMOTION_TAUNTING
		Animation							= TNTA
			AnimationName					= MUSauron_SKL.MUSauron_TNTA
			AnimationMode					= LOOP
		End
	End
	AnimationState							= EMOTION_POINTING
		Animation							= Pointing1
			AnimationName					= MUSauron_SKL.MUSauron_PNTA
			AnimationMode					= LOOP
		End
	End
	AnimationState							= EMOTION_CELEBRATING
		Animation                           = CHRA
			AnimationName					= MUSauron_SKL.MUSauron_CHRA
			AnimationMode					= ONCE
		End
	End

  End
 
;  Draw = W3DLightDraw ModuleTag_02
;    Ambient = R:0 G:0 B:0
;    Diffuse = R:128 G:128 B:255
;    Radius = 25
;    Intensity = 10
;    AttachToBoneInAnotherModule = Staff
;  End 

  ; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
	ThreatLevel = 1.0
  ThingClass = CHARACTER_UNIT

  TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
  ShockwaveResistance = SHOCKWAVE_RESISTANCE_IMMUNE
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    SauronMace
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = SauronArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 280.0
  DisplayName = OBJECT:MordorGothmog
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushAllies = yes

  RamPower = 25
;  RamZMult = 1.0
 
  CommandSet = MordorSpawnOrcs
  CommandPoints = 1


  ; *** AUDIO Parameters ***;

	;VoiceAmbushed				= SoldierOfRhunVoiceAmbushed	  OBSOLETE VOICE
	VoiceAttack					= SoldierOfRhunVoiceAttack
	VoiceAttackCharge			= SoldierOfRhunVoiceAttackCharge
	VoiceAttackMachine			= SoldierOfRhunVoiceAttack
	VoiceAttackStructure		= SoldierOfRhunVoiceAttackBuilding
	VoiceCreated				= EVA:SoldiersOfRhunCreated
	VoiceFullyCreated 			= EVA:SoldiersOfRhunCreated
	VoiceMove					= SoldierOfRhunVoiceMove
	VoiceMoveToCamp				= SoldierOfRhunVoiceMoveCamp
	VoiceMoveWhileAttacking		= SoldierOfRhunVoiceDisengage
	VoicePriority				= 55
	VoiceRetreatToCastle		= SoldierOfRhunVoiceRetreat
	VoiceSelect					= SoldierOfRhunVoiceSelect
	VoiceSelectBattle 			= SoldierOfRhunVoiceSelectBattle
	VoiceGuard					= SoldierOfRhunVoiceMove	

	VoiceEnterStateAttack				= SoldierOfRhunVoiceEnterStateAttack
	VoiceEnterStateAttackCharge			= SoldierOfRhunVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine		= SoldierOfRhunVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure		= SoldierOfRhunVoiceEnterStateAttackBuilding
	VoiceEnterStateMove					= SoldierOfRhunVoiceEnterStateMove
	VoiceEnterStateMoveToCamp			= SoldierOfRhunVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking	= SoldierOfRhunVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle		= SoldierOfRhunVoiceEnterStateRetreat
	
	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= SoldierOfRhunVoiceMove
		VoiceEnterUnitMordorMumakil			= SoldierOfRhunVoiceMove
		VoiceEnterUnitSlaughterHouse		= SoldierOfRhunVoiceMove
		VoiceGarrison						= SoldierOfRhunVoiceGarrison              
		VoiceInitiateCaptureBuilding		= SoldierOfRhunVoiceMove
	End

	CrowdResponseKey = EvilMen2

    #include "..\includes\StandardUnitEvaEvents.inc"
	;EvaEventDieOwner			= GroupSoldiersOfRhunDie	;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths
										;For deaths you can respawn from, use the DeathFX


  ; *** ENGINEERING Parameters ***

  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY MONSTER SCORE PATH_THROUGH_INFANTRY
 
  Body = ActiveBody ModuleTag_03
    MaxHealth         = 10                  ;BALANCE Sauron Health
    MaxHealthDamaged  = 5
    ;RecoveryTime      = 5000
  End
 
	Behavior = StancesBehavior ModuleTag_StancesBehavior
		StanceTemplate = FighterHorde
	End

  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
    AttackPriority				= 	AttackPriority_Spearman
  End

  LocomotorSet
    Locomotor = BasicSauronLocomotor
    Condition = SET_NORMAL 
    Speed     = 32
  End
 
  Behavior = PhysicsBehavior ModuleTag_05
    GravityMult = 1.0
  End

  Behavior = SlowDeathBehavior ModuleTag_06
	DeathTypes			= ALL 
	SinkDelay			= 3000
	SinkRate			= 0.40			;in Dist/Sec
	DestructionDelay		= 8000
	Sound				= INITIAL ManEvilGenericVoiceDie
  End
 
  Behavior = SquishCollide ModuleTag_07
    ;nothing
  End
 
  Behavior = OCLSpecialPower ModuleTag_08
    SpecialPowerTemplate = SuperweaponSpawnOrcs
    OCL                  = SUPERWEAPON_SpawnOrcs
    CreateLocation       = USE_OWNER_OBJECT
  End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
  	Key = Easterling_Infantry
     ;UnitWeight = 2 ; Saur-head counts as 2 infantry when computing group size
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 11.2
  GeometryMinorRadius = 11.2
  GeometryHeight = 32.0
  GeometryIsSmall = No
  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;
End


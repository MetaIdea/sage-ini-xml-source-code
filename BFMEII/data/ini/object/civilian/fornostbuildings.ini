


;------------------------------------------------------------------------------ 
;Fornost Wall 1
Object ForBWall1

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = ForBWall1		
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= WallConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= WallConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  IGNORED_IN_GUI WALK_ON_TOP_OF_WALL  WALL_SEGMENT IGNORED_IN_GUI

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 3500.0
		MaxHealthDamaged		= 1700.0
		MaxHealthReallyDamaged  = 800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostWalls
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 80.0
	GeometryMinorRadius   = 40.0
	GeometryHeight        = 60.0
;	GeometryOffset		= X:0 Y:0 Z:0
	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End



;------------------------------------------------------------------------------ 
;Fornost Wall 2
Object ForBWall2

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = ForBWall2	
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= WallConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= WallConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  IGNORED_IN_GUI WALK_ON_TOP_OF_WALL  WALL_SEGMENT

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 3500.0
		MaxHealthDamaged		= 1700.0
		MaxHealthReallyDamaged  = 800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostWalls  
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 45.0
	GeometryMinorRadius   = 40.0
	GeometryHeight        = 60.0
;	GeometryOffset		= X:0 Y:0 Z:0
	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End





;------------------------------------------------------------------------------ 
;Fornost Wall 3
Object ForBWall3

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = ForBWall3	
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= WallConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= WallConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE   IGNORED_IN_GUI WALK_ON_TOP_OF_WALL  WALL_SEGMENT

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 3500.0
		MaxHealthDamaged		= 1700.0
		MaxHealthReallyDamaged  = 800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostWalls
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 50.0
	GeometryMinorRadius   = 50.0
	GeometryHeight        = 60.0
;	GeometryOffset		= X:0 Y:0 Z:0
	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End







;------------------------------------------------------------------------------ 
;Fornost Wall 4
Object ForBWall4

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = ForBWall4	
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= WallConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= WallConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE IGNORED_IN_GUI WALK_ON_TOP_OF_WALL  WALL_SEGMENT

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 3500.0
		MaxHealthDamaged		= 1700.0
		MaxHealthReallyDamaged  = 800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostWalls
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 90.0
	GeometryMinorRadius   = 55.0
	GeometryHeight        = 60.0
;	GeometryOffset		= X:0 Y:0 Z:0
	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End





;------------------------------------------------------------------------------ 
;Fornost Wall 5
Object ForBWall5

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = ForBWall5	
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= WallConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= WallConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  IGNORED_IN_GUI WALL_SEGMENT SCALEABLE_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 3500.0
		MaxHealthDamaged		= 1700.0
		MaxHealthReallyDamaged  = 800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostWalls
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 10.0
	GeometryMinorRadius   = 80.0
	GeometryHeight        = 60.0
;	GeometryOffset		= X:0 Y:0 Z:0
	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End



;------------------------------------------------------------------------------ 
;Fornost Wall 5
Object ForBWallPosternGate

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

		ExtraPublicBone = Post01
		ExtraPublicBone = Post02
		ExtraPublicBone = Post03
		ExtraPublicBone = Post04
		
    DefaultModelConditionState
      Model = ForBWall5_PG	
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End
  
  Draw = W3DScriptedModelDraw ModuleTag_WallDraw

		; Don't want to change the hidden state of this when the postern gate is stealthed.
		AffectedByStealth		= No
		OkToChangeModelColor  = Yes
		UseStandardModelNames = Yes
		
		DefaultModelConditionState
			Model = ForBWall5
		End

	End
  
  
  

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:FornostWallPosternGate
  DisplayNameInvisibleForEnemy         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= WallConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= WallConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  WALL_HUB WALL_SEGMENT SCALEABLE_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 2500.0
		MaxHealthDamaged		= 1500.0
		MaxHealthReallyDamaged  = 750.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostWalls
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End

	Behavior = DynamicPortalBehaviour PosternGatePortal
		ActivationDelaySeconds	= 0.0
		GenerateNow				= Yes
		
		ObjectFilter	= POSTERNGATE_ALLOWABLE_OBJECTFILTER
		BonePrefix		= Post
		NumberOfBones	= 4
		WayPoint		= Index:0	Type:Walk	; 0
		WayPoint		= Index:1	Type:Walk	; 1
		WayPoint		= Index:2	Type:Walk	; 2
		WayPoint		= Index:3	Type:Walk	; 3
		WayPoint		= Index:2	Type:Walk	; 4
		WayPoint		= Index:1	Type:Walk	; 5
		Link			= From:0 Via:4 Via:5 To:3
		Link			= From:3 Via:1 Via:2 To:0
	End
	  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
	
	
	#include "..\includes\DefaultPosternGateInvisibilityUpdate.inc"
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 10.0
	GeometryMinorRadius   = 80.0
	GeometryHeight        = 60.0
;	GeometryOffset		= X:0 Y:0 Z:0
	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End


;------------------------------------------------------------------------------ 
;Fornost Ramp 1
Object ForBRamp1

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = ForBRamp1	
    End
    
	WallBoundsMesh = P1
	RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= WallConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= WallConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  IGNORED_IN_GUI WALK_ON_TOP_OF_WALL  WALL_SEGMENT

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 3500.0
		MaxHealthDamaged		= 1700.0
		MaxHealthReallyDamaged  = 800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostWalls
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 45.0
	GeometryMinorRadius   = 40.0
	GeometryHeight        = 60.0
;	GeometryOffset		= X:0 Y:0 Z:0
	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End




;------------------------------------------------------------------------------ 
;Fornost Ramp 2
Object ForBRamp2

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = ForBRamp2	
    End
    
	WallBoundsMesh = P1
	RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= WallConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= WallConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  IGNORED_IN_GUI WALK_ON_TOP_OF_WALL  WALL_SEGMENT

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 3500.0
		MaxHealthDamaged		= 1700.0
		MaxHealthReallyDamaged  = 800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostWalls
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 50.0
	GeometryMinorRadius   = 40.0
	GeometryHeight        = 60.0
;	GeometryOffset		= X:0 Y:0 Z:0
	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End



;------------------------------------------------------------------------------ 
;Fornost Stronghold
Object ForStronghold

	SelectPortrait = BPCFornostCitadel
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = ForStrong	
    End
   

	    
	;--damaged building

    ModelConditionState  = DAMAGED
      Model         = ForStrong_D1
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingMedium
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 FireBuildingSmall
		ParticleSysBone FireSmall05 SmokeBuildingLarge
    End
    AnimationState = DAMAGED
		EnteringStateFX	= FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = ForStrong_D2
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 SmokeBuildingLarge
		ParticleSysBone FireSmall05 SmokeBuildingLarge
    End
    AnimationState = REALLYDAMAGED
      	Animation				=	RubbleAnimation
			AnimationName		=	ForStrong_D2.ForStrong_D2
			AnimationMode		=	ONCE
  		End
		EnteringStateFX	= FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = ForStrong_D3
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = RUBBLE
      	Animation				=	RubbleAnimation
			AnimationName		=	ForStrong_D3.ForStrong_D3
			AnimationMode		=	ONCE
  		End
	  EnteringStateFX	= FX_BuildingReallyDamagedWithSound	;FX_BuildingReallyDamaged
	End

    ModelConditionState  = POST_RUBBLE
      Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
      Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End  
  		
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:ForStronghold
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

  CommandSet          = EmptyCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
	VoiceSelect = MenFortressSelect
 
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = STRUCTURE
	KindOf              = STRUCTURE SELECTABLE IMMOBILE NOT_AUTOACQUIRABLE SELECTABLE

	Body						= StructureBody ModuleTag_Body ;ActiveBody ModuleTag_05 ;
		MaxHealth				= 3500.0
		MaxHealthDamaged		= 1700.0
		MaxHealthReallyDamaged  = 800.0
	End

	ArmorSet
		Conditions		= None
		Armor			= StructureArmor
	End
	
	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
;	Behavior                  = StructureCollapseUpdate ModuleTag_08
;		MinCollapseDelay        = 000
;		MaxCollapseDelay        = 000
;		CollapseDamping         = .5
;		MaxShudder              = 0.6
;		MinBurstDelay           = 250
;		MaxBurstDelay           = 800
;		BigBurstFrequency       = 4
;		FXList                  = INITIAL   FX_StructureMediumCollapse
;		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
;		DestroyObjectWhenDone	= Yes
;		CollapseHeight			= 155
;	End
  
;	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 41
	GeometryMinorRadius   = 110
	GeometryHeight        = 81
	GeometryOffset		= X:-21 Y:-7 Z:0

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 61
	GeometryMinorRadius   = 51
	GeometryHeight        = 148
	GeometryOffset		  = X:-19 Y:-7 Z:0

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object Fornost_FallingTower

	; *** ART Parameters ***
	
	
	
	Draw = W3DScriptedModelDraw ModuleTag_01
		UseStandardModelNames = Yes
		OkToChangeModelColor = Yes
		
		StaticModelLODMode = yes
  
		DefaultModelConditionState
			Model         = FBTower
		End

		ModelConditionState = POST_COLLAPSE
			Model         = FBTower_D2
		End

	;	ModelConditionState = POST_COLLAPSE NIGHT
	;		Model         = OSFallTower
	;	End
	;	ModelConditionState = POST_COLLAPSE SNOW
	;		Model         = OSFallTower
	;	End
	;	ModelConditionState = POST_COLLAPSE SNOW NIGHT
	;		Model         = OSFallTower
	;	End
	End

	; ***DESIGN parameters ***
	DisplayName      = OBJECT:FornostTower
	Side                = Civilian
	EditorSorting       = STRUCTURE
	Browser = REGION Minas_Morgul STRUCTURE
	;ArmorSet
	;	Conditions      = None
	;	Armor           = StructureArmor
	;	DamageFX        = StructureDamageFXNoShake
	;End

	; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***  
	KindOf                = STRUCTURE SELECTABLE IMMOBILE CAN_CAST_REFLECTIONS
	Body                  = StructureBody ModuleTag_02
		MaxHealth       = 1500.0
	End
    
	Behavior                = StructureToppleUpdate ModuleTag_04
		MinToppleDelay        = 50		 ;The delay between the time we die to the beginning of the collapse.
		MaxToppleDelay        = 50
		MinToppleBurstDelay   = 1500
		MaxToppleBurstDelay   = 2500
		ToppleAccelerationFactor = 0.25  ;Increase this value to speed up the collapse.
		StructuralIntegrity   = 0.75
		StructuralDecay       = 1.0
		DamageFXTypes         = ALL -WATER
		ToppleStartFX         = FX_FornostFallingTowerToppleStart	;FX_DefaultStructureToppleStart
		ToppleDelayFX         = FX_DefaultStructureToppleDelay
		CrushingFX            = FX_DefaultStructureCrushing
		AngleFX               = 20.0 FX_StructureToppleAngle20
		ToppleDoneFX          = FX_DefaultStructureToppleDone
		CrushingWeaponName    = ToppledStructureWeapon
	End

  Behavior = SlowDeathBehavior ModuleTag_51
    DeathTypes = ALL 
    DestructionDelay = 30000
    DecayBeginTime = 5000
    SinkDelay = 14000
    SinkRate = 0.84     ; in Dist/Sec
    ProbabilityModifier = 50
  End

  Geometry              = BOX
  GeometryMajorRadius   = 31.20
  GeometryMinorRadius   = 30.8
  GeometryHeight        = 139.60
  GeometryIsSmall       = No
  
  GeometryContactPoint = X:0 Y:0 Z:139 Swoop
  
  Shadow                = SHADOW_VOLUME

End


;------------------------------------------------------------------------------ 
;Fornost Gate
Object FornostGate

	SelectPortrait = BPCFornostGate
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = FBGate		
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End


; ---------Door 

 	Draw = W3DScriptedModelDraw ModuleTag_Draw_Door
 		OkToChangeModelColor  = Yes
 		UseStandardModelNames = Yes
 		DefaultModelConditionState
 			Model = FBGate_Door_SKN
 		End
 		
 		ModelConditionState  = DYING DOOR_1_OPENING
			Model         = FBGDoorOpen_D3
		End
		
		AnimationState = DYING DOOR_1_OPENING
      		Animation				=	RubbleAnimation
				AnimationName		=	FBGDoorOpen_D3.FBGDoorOpen_D3
				AnimationMode		=	ONCE
  			End
		End
		
		ModelConditionState  = DYING
			Model         = FBGate_Door_D3
		End
		
		AnimationState = DYING
      		Animation				=	RubbleAnimation
				AnimationName		=	FBGate_Door_D3.FBGate_Door_D3
				AnimationMode		=	ONCE
  			End
		End
		
		AnimationState = DOOR_1_OPENING 
			Flags = START_FRAME_LAST
			StateName = Door_Open
			Animation				=	Death
				AnimationName		=	FBGate_Door_SKL.FBGate_Door_OP
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Close" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
			EndScript
		End
		TransitionState = TRANS_Closed_To_Open
			Animation = Open 
				AnimationName	=	FBGate_Door_SKL.FBGate_Door_OPN
				AnimationMode	=	ONCE 
			End
		End
    
		AnimationState = DOOR_1_CLOSING 
			Flags = START_FRAME_LAST
			StateName = Door_Close
			Animation				=	Death
				AnimationName		=	FBGate_Door_SKL.FBGate_Door_CL
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
			EndScript
		End
		TransitionState = TRANS_Open_To_Closed
			Animation = Open 
				AnimationName	=	FBGate_Door_SKL.FBGate_Door_CLS
				AnimationMode	=	ONCE 
			End
		End
		
		ModelConditionState  = DAMAGED
			Model         = FBGate_Door_D1  
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = FBGate_Door_D2
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		End
 
 		ModelConditionState  = COLLAPSING
			Model         = FBGate_Door_D2
		End
		
		AnimationState = COLLAPSING
      		Animation				=	RubbleAnimation
				AnimationName		=	FBGate_Door_D3.FBGate_Door_D3
				AnimationMode		=	ONCE
  			End
  			;EnteringStateFX	= FX_BuildingSinkSound	;this didn't work
		End
		
 	End
 	
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:FornostGate
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

   CommandSet			= CastleGateCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_PlayCollapseSound
		ModelCondition = REQUIRED:RUBBLE Sound:BuildingSink
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 3000.0
		MaxHealthDamaged		= 1700.0
		MaxHealthReallyDamaged  = 800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostGates
		DamageFX          = GateDamageFX
	End

	Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
		ResetTimeInMilliseconds			= 2000				;important! this must be longer than the gates animation, ir it will twitch
		RepelCollidingUnits				= No
		OpenByDefault					= No
		PercentOpenForPathing			= 50
		SoundOpeningGateLoop			= GateOpenStart
		SoundClosingGateLoop			= GateCloseStart
		SoundFinishedOpeningGate		= GateOpenEnd
		SoundFinishedClosingGate		= GateCloseEnd
		TimeBeforePlayingOpenSound		= 9500
		TimeBeforePlayingClosedSound	= 9500
	End
	
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92
	AttackContactPoint = X:-30 Y:-37 Z:35
	AttackContactPoint = X:-30 Y:45 Z:35
	AttackContactPoint = X:-30 Y:0 Z:35
	AttackContactPoint = X:-30 Y:-72 Z:24
	AttackContactPoint = X:-30 Y:72 Z:24

	Geometry              = BOX
	GeometryMajorRadius   = 90.0
	GeometryMinorRadius   = 25.0
	GeometryHeight        = 90.0
	GeometryOffset		  = X:26 Y:110 Z:0
;	GeometryRotationAnchorOffset = X:0.0 Y:0.0	

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 90.0
	GeometryMinorRadius   = 25.0
	GeometryHeight        = 90.0
	GeometryOffset		  = X:26 Y:-110 Z:0
;	GeometryRotationAnchorOffset = X:0.0 Y:0.0		
	
	; Main
	AdditionalGeometry    = BOX
	GeometryName		  = "Closed"
	GeometryMajorRadius   = 5.0  
	GeometryMinorRadius   = 100.0  
	GeometryHeight        = 85.0
	GeometryOffset        = X:-30 Y:0 Z:0
		
	; Left open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenLeft"
	GeometryMajorRadius   = 50.0  
	GeometryMinorRadius   = 5.0  
	GeometryHeight        = 85
	GeometryOffset        = X:20 Y:95 Z:0
	
	; Right open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenRight"
	GeometryMajorRadius   = 50.0  
	GeometryMinorRadius   = 5.0  
	GeometryHeight        = 85
	GeometryOffset        = X:20 Y:-95 Z:0
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End



;------------------------------------------------------------------------------ 
;Fornost Gate No Horses
Object FornostGate2

	SelectPortrait = BPCFornostGate
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = FBGate2	
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End




; ---------Door 

 	Draw = W3DScriptedModelDraw ModuleTag_Draw_Door
 		OkToChangeModelColor  = Yes
 		UseStandardModelNames = Yes
 		DefaultModelConditionState
 			Model = FBGate_Door_SKN
 		End
 		
 		ModelConditionState  = DYING DOOR_1_OPENING
			Model         = FBGDoorOpen_D3
		End
		
		AnimationState = DYING DOOR_1_OPENING
      		Animation				=	RubbleAnimation
				AnimationName		=	FBGDoorOpen_D3.FBGDoorOpen_D3
				AnimationMode		=	ONCE
  			End
		End
		
		ModelConditionState  = DYING
			Model         = FBGate_Door_D3
		End
		
		AnimationState = DYING
      		Animation				=	RubbleAnimation
				AnimationName		=	FBGate_Door_D3.FBGate_Door_D3
				AnimationMode		=	ONCE
  			End
		End		
 		
		
		AnimationState = DOOR_1_OPENING 
			Flags = START_FRAME_LAST
			StateName = Door_Open
			Animation				=	Death
				AnimationName		=	FBGate_Door_SKL.FBGate_Door_OP
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Close" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
			EndScript
		End
		TransitionState = TRANS_Closed_To_Open
			Animation = Open 
				AnimationName	=	FBGate_Door_SKL.FBGate_Door_OPN
				AnimationMode	=	ONCE 
			End
		End
    
		AnimationState = DOOR_1_CLOSING 
			Flags = START_FRAME_LAST
			StateName = Door_Close
			Animation				=	Death
				AnimationName		=	FBGate_Door_SKL.FBGate_Door_CL
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
			EndScript
		End
		TransitionState = TRANS_Open_To_Closed
			Animation = Open 
				AnimationName	=	FBGate_Door_SKL.FBGate_Door_CLS
				AnimationMode	=	ONCE 
			End
		End
		
		ModelConditionState  = DAMAGED
			Model         = FBGate_Door_D1  
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = FBGate_Door_D2
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		End
 
 		ModelConditionState  = COLLAPSING
			Model         = FBGate_Door_D2
		End
		
		AnimationState = COLLAPSING
      		Animation				=	RubbleAnimation
				AnimationName		=	FBGate_Door_D3.FBGate_Door_D3
				AnimationMode		=	ONCE
  			End
			;EnteringStateFX	= FX_BuildingSinkSound	;this didn't work
		End
		
 	End
	
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:FornostGate2
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

   CommandSet			= CastleGateCommandSet
 
  ; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_PlayCollapseSound
		ModelCondition = REQUIRED:RUBBLE Sound:BuildingSink
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE


	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 2500.0
		MaxHealthDamaged		= 1500.0
		MaxHealthReallyDamaged  = 700.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostGates
		DamageFX          = GateDamageFX
	End

	Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
		ResetTimeInMilliseconds			= 2000				;important! this must be longer than the gates animation, ir it will twitch
		RepelCollidingUnits				= No
		OpenByDefault					= No
		PercentOpenForPathing			= 50
		SoundOpeningGateLoop			= GateOpenStart
		SoundClosingGateLoop			= GateCloseStart
		SoundFinishedOpeningGate		= GateOpenEnd
		SoundFinishedClosingGate		= GateCloseEnd
		TimeBeforePlayingOpenSound		= 9500
		TimeBeforePlayingClosedSound	= 9500
	End
	
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 90.0
	GeometryMinorRadius   = 25.0
	GeometryHeight        = 90.0
	GeometryOffset		  = X:26 Y:110 Z:0
;	GeometryRotationAnchorOffset = X:0.0 Y:0.0	

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 90.0
	GeometryMinorRadius   = 25.0
	GeometryHeight        = 90.0
	GeometryOffset		  = X:26 Y:-110 Z:0
;	GeometryRotationAnchorOffset = X:0.0 Y:0.0		


	; Main
	AdditionalGeometry    = BOX
	GeometryName		  = "Closed"
	GeometryMajorRadius   = 5.0  
	GeometryMinorRadius   = 100.0  
	GeometryHeight        = 85.0
	GeometryOffset        = X:-30 Y:0 Z:0
		
	; Left open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenLeft"
	GeometryMajorRadius   = 50.0  
	GeometryMinorRadius   = 5.0  
	GeometryHeight        = 85
	GeometryOffset        = X:20 Y:95 Z:0
	
	; Right open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenRight"
	GeometryMajorRadius   = 50.0  
	GeometryMinorRadius   = 5.0  
	GeometryHeight        = 85
	GeometryOffset        = X:20 Y:-95 Z:0
 
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End


;------------------------------------------------------------------------------ 
;Fornost Gate
Object FornostGateLarge

	SelectPortrait = BPCFornostGate
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = FBGate_Large	
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:FornostGateLarge
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
	; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 10000.0
		MaxHealthDamaged		= 5000.0
		MaxHealthReallyDamaged  = 2500.0
	End

	ArmorSet
		Conditions        = None
		Armor             = FornostGates
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 135.0
	GeometryMinorRadius   = 41.0
	GeometryHeight        = 223.0
	GeometryOffset		  = X:40 Y:-156 Z:0

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 135.0
	GeometryMinorRadius   = 41.0
	GeometryHeight        = 223.0
	GeometryOffset		  = X:41 Y:156 Z:0
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 13.0
	GeometryMinorRadius   = 119.0
	GeometryHeight        = 223.0
	GeometryOffset		  = X:-43 Y:2 Z:0
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Fornost Broken Statue 1
Object FornostBrokenStatue1

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = BKStatue		
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
	; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  IGNORED_IN_GUI NOT_AUTOACQUIRABLE SELECTABLE

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = HelmsDeepGates
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 15.0
	GeometryMinorRadius   = 16.0
	GeometryHeight        = 36.0
	GeometryOffset		  = X:-8.5 Y:2.5 Z:0
;	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
End



;------------------------------------------------------------------------------ 
;Fornost Broken Statue 2
Object FornostBrokenStatue2

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = BKStatue2
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
	; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  IGNORED_IN_GUI NOT_AUTOACQUIRABLE SELECTABLE

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = HelmsDeepGates
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 18.0
	GeometryMinorRadius   = 11.0
	GeometryHeight        = 12.0
	GeometryOffset		  = X:3.3 Y:2.5 Z:0
;	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------ 
;Fornost Broken Statue 3
Object FornostBrokenStatue3

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = BKStatue3
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
	; *** AUDIO Parameters ***

  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  IGNORED_IN_GUI NOT_AUTOACQUIRABLE SELECTABLE

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = HelmsDeepGates
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 17.0
	GeometryMinorRadius   = 18.0
	GeometryHeight        = 45.0
	GeometryOffset		  = X:-1.5 Y:8.5 Z:0
;	GeometryRotationAnchorOffset = X:0.0 Y:0.0	
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
End



;------------------------------------------------------------------------------ 
;Fornost Broken Statue 3
Object FornostSuperWeapon

	SelectPortrait = BPCSuperweapon
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    //Default just sit here please
	DefaultModelConditionState
      Model = ForBSuper
    End
	
	IdleAnimationState		
	End
	    
	//--damaged building    
    ModelConditionState  = DAMAGED
      Model         = ForBSuper_D1  
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingMedium
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 SmokeBuildingLarge
    End
    AnimationState = DAMAGED
	EnteringStateFX	= FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = ForBSuper_D2  
		ParticleSysBone FireSmall01 FireBuildingLarge
		ParticleSysBone FireSmall02 FireBuildingLarge
		ParticleSysBone FireSmall03 FireBuildingMedium
		ParticleSysBone FireSmall04 FireBuildingMedium
		ParticleSysBone FireSmall05 SmokeBuildingLarge
	
    End
    AnimationState = REALLYDAMAGED
	EnteringStateFX	= FX_BuildingReallyDamaged
	  Animation				=	RubbleAnimation
			AnimationName		=	ForBSuper_D2.ForBSuper_D2
			AnimationMode		=	ONCE
  	  End
    End

    ModelConditionState  = RUBBLE
      Model         = ForBSuper_D3  
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = RUBBLE
      Animation				=	RubbleAnimation
			AnimationName		=	ForBSuper_D3.ForBSuper_D3
			AnimationMode		=	ONCE
  	  End
    End

    ModelConditionState  = POST_RUBBLE
		Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
		 Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

	//Weapon firing
	ModelConditionState = USER_1
		Model = ForBSuper
	End

	AnimationState = USER_1
		StateName				=   STATE_Idle
		Animation = IdleA
			AnimationName		=	ForBSuper.ForBSuper
			AnimationMode		=	ONCE
		End
		FXEvent	= Frame:9 Name:FX_SuperWeaponAttack
	End
  End

;----------------------------
; THIS IS THE ANIMATED PART
;----------------------------

  Draw = W3DScriptedModelDraw ModuleTag_Draw_Weapon
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    //Default just sit here please
	DefaultModelConditionState
      Model = ForBSuper2_SKN
    End
	
	IdleAnimationState		
		Animation = IdleA
			AnimationName		=	ForBSuper2_SKL.ForBSuper2_IDLA
			AnimationMode		=	ONCE
		End
	End
	    
	//--damaged building    
    ModelConditionState  = DAMAGED
      Model         = ForBSuper2_SKND
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = ForBSuper2_SKND  
    End

    ModelConditionState  = RUBBLE
      Model         = None  
    End
    
    AnimationState = RUBBLE
    End

    ModelConditionState  = POST_RUBBLE
		Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
		 Model         = None
		ParticleSysBone NONE SmokeBuildingMediumRubble
    End

	//Weapon firing
;	ModelConditionState = USER_1
;		Model = ForBSuper
;	End

	AnimationState = USER_1
		StateName				=   STATE_Idle
		Animation = IdleA
			AnimationName		=	ForBSuper2_SKL.ForBSuper2_ATKA
			AnimationMode		=	ONCE
		End
		FXEvent	= Frame:9 Name:FX_SuperWeaponAttack
	End
	
  End
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:FornostSuperWeapon
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

  CommandSet          = EmptyCommandSet
 
  ; *** AUDIO Parameters ***
  
  	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone
 
	UnitSpecificSounds
		UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:EarthHammerImpactMS		Animation:ForBSuper2_SKL.ForBSuper2_ATKA	Frames:8
		AnimationSound = Sound:EarthHammerClickStart	Animation:ForBSuper2_SKL.ForBSuper2_ATKA	Frames:45
		AnimationSound = Sound:EarthHammerRelease		Animation:ForBSuper2_SKL.ForBSuper2_ATKA	Frames:0
		AnimationSound = Sound:EarthHammerWinchUp		Animation:ForBSuper2_SKL.ForBSuper2_ATKA	Frames:70
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 5000.0
		MaxHealthDamaged		= 2500.0
		MaxHealthReallyDamaged  = 1200.0
	End

	ArmorSet
		Conditions		= None
		Armor			= StructureArmor
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 100.0
	GeometryMinorRadius   = 25.0
	GeometryHeight        = 160.0
	GeometryOffset		  = X:-50.0 Y:0 Z:0

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 15.0
	GeometryMinorRadius   = 32.5
	GeometryHeight        = 145.0
	GeometryOffset		  = X:-3.3 Y:60 Z:0

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 15.0
	GeometryMinorRadius   = 32.5
	GeometryHeight        = 145.0
	GeometryOffset		  = X:-3.3 Y:-60 Z:0
		
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
End



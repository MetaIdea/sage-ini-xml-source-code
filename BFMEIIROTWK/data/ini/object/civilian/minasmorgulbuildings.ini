;------------------------------------------------------------------------------ 
;Minas Morgal Temp
Object MBMMTemp

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMTemp		
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160


;  CommandSet          = GondorBarracksCommandSet

 
  ; *** AUDIO Parameters ***

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


	; *** ENGINEERING Parameters ***

  RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  ;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

;	Geometry              = BOX
;	GeometryMajorRadius   = 110.0
;	GeometryMinorRadius   = 45.0
;	GeometryHeight        = 70.0
;	GeometryOffset		= X:0 Y:0 Z:60
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Bridge
Object MBMMBridge

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMBridge		
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	;#include "..\Includes\StandardBuildingEvaEvents.inc"		;too close to the enemy to be worthy of an EVA

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  DONT_HIDE_IF_FOGGED ;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 99.0
	GeometryMinorRadius   = 35.0
	GeometryHeight        = 116.0
	GeometryOffset		= X:1 Y:156 Z:-94
;	GeometryRotationAnchorOffset = X:1076.832 Y:0.0	

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 99.0
	GeometryMinorRadius   = 35.0
	GeometryHeight        = 116.0
	GeometryOffset		= X:1 Y:-151 Z:-94
;	GeometryRotationAnchorOffset = X:1076.832 Y:0.0	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Gate A
Object MBMMGateA

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

; ---------Door 

 	Draw = W3DScriptedModelDraw ModuleTag_Draw_Door
 		OkToChangeModelColor  = Yes
 		UseStandardModelNames = Yes
 		DefaultModelConditionState
 			Model = MBMMGateA
 		End

		ModelConditionState = ACTIVELY_BEING_CONSTRUCTED
			Model	= MBMMGateA_D3
		End
 		
 		ModelConditionState  = DYING DOOR_1_OPENING
			Model         = MBMMGateA_D3
		End
		
;		AnimationState = DYING DOOR_1_OPENING
;      		Animation				=	RubbleAnimation
;				AnimationName		=	MBMMGateAOp_D3.MBMMGateAOp_D3
;				AnimationMode		=	ONCE
;  			End
;		End
		
		ModelConditionState  = DYING
			Model         = MBMMGateA_D3
		End
		
		AnimationState = DYING
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMGateA_D3.MBMMGateA_D3
				AnimationMode		=	ONCE
  			End
			;EnteringStateFX = FX_BuildingSinkSound		;this gets triggered again when the rubble sinks
		End
		
		AnimationState = DOOR_1_OPENING 
			Flags = START_FRAME_LAST
			StateName = Door_Open
			Animation				=	Death
				AnimationName		=	MBMMGateASKL.MBMMGateA_DO
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Close" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
			EndScript
		End
		TransitionState = TRANS_Closed_To_Open
			Animation = Open 
				AnimationName	=	MBMMGateASKL.MBMMGateA_DOA
				AnimationMode	=	ONCE 
			End
		End
    
		AnimationState = DOOR_1_CLOSING 
			Flags = START_FRAME_LAST
			StateName = Door_Close
			Animation				=	Death
				AnimationName		=	MBMMGateASKL.MBMMGateA_DC
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
			EndScript
		End
		TransitionState = TRANS_Open_To_Closed
			Animation = Open 
				AnimationName	=	MBMMGateASKL.MBMMGateA_DCA
				AnimationMode	=	ONCE 
			End
		End
		
		ModelConditionState  = DAMAGED
			Model         = MBMMGateA  
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMGateA
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		End
 
 		ModelConditionState  = RUBBLE
			Model         = MBMMGateA_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMGateA_D3.MBMMGateA_D3
				AnimationMode		=	ONCE
  			End
			;EnteringStateFX = FX_BuildingSinkSound		;this didn't work
		End
		
 	End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = MONUMENT_FORTRESS_GATE_BUILDCOST
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

   CommandSet			= CastleGateCommandSet_NoSell
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	VoiceSelect					= GateSelect

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_PlayCollapseSound
		ModelCondition = REQUIRED:DYING 	EXCLUDED:DOOR_1_OPENING		Sound:BuildingSink
	End

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR SELECTABLE WALL_GATE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED ;NEVER_CULL_FOR_MP WALK_ON_TOP_OF_WALL 
	KeepSelectableWhenDead = Yes

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 6000.0
		MaxHealthDamaged		= 4200.0
		MaxHealthReallyDamaged  = 1800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
		SelfBuildingLoop			= BuildingConstructionLoop		; Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop	= NoSound						; This doesn't cause an animation, so don't bother playing a sound
		SelfRepairFromRubbleLoop	= BuildingConstructionLoop
		SpawnTimer					= -1.0							; Negative means no 'autoheal'
		RebuildTimeSeconds			= 40
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
	
	Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
		ResetTimeInMilliseconds			= 3000				;important! this must be longer than the gates animation, ir it will twitch
		OpenByDefault					= No
		PercentOpenForPathing			= 50
		SoundOpeningGateLoop			= GateOpenStart
		SoundClosingGateLoop			= GateCloseStart
		SoundFinishedOpeningGate		= GateOpenEnd
		SoundFinishedClosingGate		= GateCloseEnd
		TimeBeforePlayingOpenSound		= 9500
		TimeBeforePlayingClosedSound	= 9500
	End
	
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End
	
	Behavior = FakePathfindPortalBehaviour ModuleTag_FAKEPATHFIND
		AllowEnemies			= No
		AllowNonSkirmishAIUnits	= No
	End
	
	Behavior = AIGateUpdate ModuleTage_AIGateUpdate
		TriggerWidthX = 450.0
		TriggerWidthY = 225.0
	End
  
;	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 50.0
	GeometryMinorRadius   = 27.0
	GeometryHeight        = 120.0
	GeometryOffset		  = X:-6 Y:114 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 50.0
	GeometryMinorRadius   = 27.0
	GeometryHeight        = 120.0
	GeometryOffset		  = X:-6 Y:-111 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0
		
	; Main
	AdditionalGeometry    = BOX
	GeometryName		  = "Closed"
	GeometryMajorRadius   = 7.0  
	GeometryMinorRadius   = 93.0  
	GeometryHeight        = 85.0
	GeometryOffset        = X:5 Y:0 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0		

	; Left open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenLeft"
	GeometryMajorRadius   = 50.0  
	GeometryMinorRadius   = 14.0  
	GeometryHeight        = 85
	GeometryOffset        = X:56 Y:95 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0		
	
	; Right open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenRight"
	GeometryMajorRadius   = 50.0  
	GeometryMinorRadius   = 14.0  
	GeometryHeight        = 85
	GeometryOffset        = X:56 Y:-95 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0		
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME
	
	GeometryContactPoint	=	X:28	Y:-58	Z:0 Ram
	GeometryContactPoint	=	X:14	Y:-58	Z:56
	GeometryContactPoint	=	X:0		Y:-58   Z:0
	GeometryContactPoint	=	X:0		Y:-28   Z:56
	GeometryContactPoint	=	X:0		Y:0	    Z:0 Ram
	GeometryContactPoint	=	X:0		Y:28	Z:56
	GeometryContactPoint	=	X:0		Y:58	Z:0
	GeometryContactPoint	=	X:14	Y:58	Z:56
	GeometryContactPoint	=	X:28	Y:58	Z:0 Ram

End

;------------------------------------------------------------------------------ 

;Minas Morgal Gate B
Object MBMMGateB

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

; ---------Door 

 	Draw = W3DScriptedModelDraw ModuleTag_Draw_Door
 		OkToChangeModelColor  = Yes
 		UseStandardModelNames = Yes
 		DefaultModelConditionState
 			Model = MBMMGateB
 		End

		ModelConditionState = ACTIVELY_BEING_CONSTRUCTED
			Model	= None
		End
 		
 		ModelConditionState  = DYING DOOR_1_OPENING
			Model         = MBMMGateB_D3
		End
		
;		AnimationState = DYING DOOR_1_OPENING
;      		Animation				=	RubbleAnimation
;				AnimationName		=	MBMMGateBOp_D3.MBMMGateBOp_D3
;				AnimationMode		=	ONCE
;  			End
;		End
		
		ModelConditionState  = DYING
			Model         = MBMMGateB_D3
		End
		
		AnimationState = DYING
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMGateB_D3.MBMMGateB_D3
				AnimationMode		=	ONCE
  			End
			;EnteringStateFX = FX_BuildingSinkSound		;this gets triggered again when the rubble sinks
		End
		
		AnimationState = DOOR_1_OPENING 
			Flags = START_FRAME_LAST
			StateName = Door_Open
			Animation				=	Death
				AnimationName		=	MBMMGateBSKL.MBMMGateB_DO
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Close" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
			EndScript
		End
		TransitionState = TRANS_Closed_To_Open
			Animation = Open 
				AnimationName	=	MBMMGateBSKL.MBMMGateB_DOA
				AnimationMode	=	ONCE 
			End
		End
    
		AnimationState = DOOR_1_CLOSING 
			Flags = START_FRAME_LAST
			StateName = Door_Close
			Animation				=	Death
				AnimationName		=	MBMMGateBSKL.MBMMGateB_DC
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
			EndScript
		End
		TransitionState = TRANS_Open_To_Closed
			Animation = Open 
				AnimationName	=	MBMMGateBSKL.MBMMGateB_DCA
				AnimationMode	=	ONCE 
			End
		End
		
		ModelConditionState  = DAMAGED
			Model         = MBMMGateB  
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMGateB
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		End
 
 		ModelConditionState  = RUBBLE
			Model         = MBMMGateB_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMGateB_D3.MBMMGateB_D3
				AnimationMode		=	ONCE
  			End
		End
		
 	End
 	
	// ***DESIGN parameters ***
	DisplayName         = OBJECT:Prop
	Side                = Civilian
	EditorSorting       = STRUCTURE
	Browser				= REGION Minas_Morgul STRUCTURE
	ThreatLevel			= 1.0
	 
	BuildCost           = MONUMENT_FORTRESS_GATE_BUILDCOST
	BuildTime           = 15.0           ; in seconds
	VisionRange         = 160.0          ; Shroud clearing distance
	ShroudClearingRange = 160

	CommandSet = CastleGateCommandSet_NoSell
 
	// *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	VoiceSelect					= GateSelect

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_PlayCollapseSound
		ModelCondition = REQUIRED:DYING 	EXCLUDED:DOOR_1_OPENING		Sound:BuildingSink
	End

	// *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR SELECTABLE WALL_GATE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED ;NEVER_CULL_FOR_MP WALK_ON_TOP_OF_WALL
	KeepSelectableWhenDead = Yes

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 6000.0
		MaxHealthDamaged		= 4200.0
		MaxHealthReallyDamaged  = 1800.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
		SelfBuildingLoop			= BuildingConstructionLoop		; Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop	= NoSound						; This doesn't cause an animation, so don't bother playing a sound
		SelfRepairFromRubbleLoop	= BuildingConstructionLoop
		SpawnTimer					= -1.0							; Negative means no 'autoheal'
		RebuildTimeSeconds			= 40
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End

	Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
		ResetTimeInMilliseconds			= 3000				;important! this must be longer than the gates animation, ir it will twitch
		OpenByDefault					= No
		PercentOpenForPathing			= 50
		SoundOpeningGateLoop			= GateOpenStart
		SoundClosingGateLoop			= GateCloseStart
		SoundFinishedOpeningGate		= GateOpenEnd
		SoundFinishedClosingGate		= GateCloseEnd
		TimeBeforePlayingOpenSound		= 9500
		TimeBeforePlayingClosedSound	= 9500
	End
	
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End
	
	Behavior = FakePathfindPortalBehaviour ModuleTag_FAKEPATHFIND
		AllowEnemies			= No
		AllowNonSkirmishAIUnits	= No
	End
	
	Behavior = AIGateUpdate ModuleTage_AIGateUpdate
		TriggerWidthX = 450.0
		TriggerWidthY = 225.0
	End
  
;	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 44.0
	GeometryMinorRadius   = 42.0
	GeometryHeight        = 160.0
	GeometryOffset		  = X:27 Y:-125 Z:0
	GeometryRotationAnchorOffset = X:810 Y:0.0

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 44.0
	GeometryMinorRadius   = 42.0
	GeometryHeight        = 160.0
	GeometryOffset		  = X:27 Y:126 Z:0
	GeometryRotationAnchorOffset = X:810 Y:0.0
	
	; Main
	AdditionalGeometry    = BOX
	GeometryName		  = "Closed"
	GeometryMajorRadius   = 7.0  
	GeometryMinorRadius   = 96.0  
	GeometryHeight        = 150.0
	GeometryOffset        = X:30 Y:0 Z:0
	GeometryRotationAnchorOffset = X:810 Y:0.0
		
	; Left open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenLeft"
	GeometryMajorRadius   = 51.0  
	GeometryMinorRadius   = 10.0  
	GeometryHeight        = 150
	GeometryOffset        = X:87 Y:90 Z:0
	GeometryRotationAnchorOffset = X:810 Y:0.0
	
	; Right open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenRight"
	GeometryMajorRadius   = 51.0  
	GeometryMinorRadius   = 10.0  
	GeometryHeight        = 150
	GeometryOffset        = X:87 Y:-89 Z:0
	GeometryRotationAnchorOffset = X:810 Y:0.0
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME
	
	GeometryContactPoint	=	X:29	Y:-90	Z:54 
	GeometryContactPoint	=	X:29	Y:90	Z:54
	GeometryContactPoint	=	X:29	Y:90   	Z:141
	GeometryContactPoint	=	X:29	Y:-90   Z:141
	GeometryContactPoint	=	X:29	Y:0	    Z:93 Ram
End

;------------------------------------------------------------------------------ 

;Minas Morgal Gate C
Object MBMMGateC

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

	Draw = W3DScriptedModelDraw ModuleTag_Draw
		OkToChangeModelColor  = Yes
		UseStandardModelNames = Yes

		DefaultModelConditionState
  			Model = MBMMGateC		
		End

;		WallBoundsMesh = P1
;		RampMesh1 = P2
;		RampMesh2 = P3   
		
		;-------Damaged------------
		ModelConditionState  = DAMAGED
			Model         = MBMMGateC  
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMGateC
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		End
 
 		ModelConditionState  = COLLAPSING
			Model         = MBMMGateC_D3
		End
		
		AnimationState = COLLAPSING
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMGateC_D3.MBMMGateC_D3
				AnimationMode		=	ONCE
  			End
			EnteringStateFX = FX_BuildingSinkSound
		End
		
		ModelConditionState  = RUBBLE
			Model         = MBMMGateC_R
		End
		
		AnimationState = RUBBLE
		End
		
	End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

	;CommandSet = CastleGateCommandSet_NoSell
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	VoiceSelect					= GateSelect

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE WALL_GATE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED;NEVER_CULL_FOR_MP	 ;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
	
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 45.0
	GeometryMinorRadius   = 22.0
	GeometryHeight        = 90.0
	GeometryOffset		  = X:0 Y:111 Z:0
;	GeometryRotationAnchorOffset = X:810 Y:0.0	

	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 45.0
	GeometryMinorRadius   = 22.0
	GeometryHeight        = 90.0
	GeometryOffset		  = X:0 Y:-113 Z:0
;	GeometryRotationAnchorOffset = X:810 Y:0.0	
	
	; Main
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 7.0  
	GeometryMinorRadius   = 96.0  
	GeometryHeight        = 85.0
	GeometryOffset        = X:15 Y:1 Z:0
;	GeometryRotationAnchorOffset = X:810 Y:0.0	
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Statue 1
Object MBMMStatue1

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMStatue1		
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	;#include "..\Includes\StandardBuildingEvaEvents.inc"		;too close to the enemy to be worthy of an EVA

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  DONT_HIDE_IF_FOGGED;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 22
	GeometryMinorRadius   = 16
	GeometryHeight        = 52
	GeometryOffset		= X:0 Y:0 Z:0
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Tower
Object MBMMTower

	SelectPortrait = BPCMinasMorgulTower
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMTower		
    End
    
	WallBoundsMesh	= P2
	RampMesh1		= P1
	RampMesh2		= P3


		;--damaged building

		ModelConditionState  = DAMAGED
		Model         = MBMMTower_D1
			ParticleSysBone FireSmall01 FireBuildingLarge
			ParticleSysBone FireSmall02 FireBuildingMedium
			ParticleSysBone FireSmall03 FireBuildingMedium
			ParticleSysBone FireSmall04 FireBuildingSmall
			ParticleSysBone FireSmall05 SmokeBuildingLarge
		End
		AnimationState = DAMAGED
			EnteringStateFX	= FX_BuildingDamaged
		End

		ModelConditionState  = REALLYDAMAGED
		Model         = MBMMTower_D2
			ParticleSysBone FireSmall01 FireBuildingLarge
			ParticleSysBone FireSmall02 FireBuildingLarge
			ParticleSysBone FireSmall03 FireBuildingMedium
			ParticleSysBone FireSmall04 SmokeBuildingLarge
			ParticleSysBone FireSmall05 SmokeBuildingLarge
		End
		AnimationState = REALLYDAMAGED
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMTower_D2.MBMMTower_D2
				AnimationMode		=	ONCE
  			End
			EnteringStateFX	= FX_BuildingReallyDamaged
		End

		ModelConditionState  = RUBBLE
		Model         = MBMMTower_D3
		ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMTower_D3.MBMMTower_D3
				AnimationMode		=	ONCE
  			End
		EnteringStateFX	= FX_BuildingReallyDamaged
		End

		ModelConditionState  = POST_RUBBLE
		Model         = MBMMTower_R
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End

		ModelConditionState  = POST_COLLAPSE
		Model         = MBMMTower_R
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End      
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MinasMorgalTower
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160
  HealthBoxHeightOffset = -200

;  CommandSet          = GondorBarracksCommandSet
 
	; *** AUDIO Parameters ***
	#include "..\Includes\StandardBuildingEvaEvents.inc"
    SoundOnDamaged		= BuildingLightDamageStone
    SoundOnReallyDamaged	= BuildingHeavyDamageStone
    VoiceSelectUnderConstruction	= BuildingEvilVoiceSelectUnderConstruction
    VoiceSelect = MordorFortressSelect

    UnitSpecificSounds
        UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
    End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_PlayCollapseSound
		ModelCondition = REQUIRED:RUBBLE Sound:BuildingSink
	End
	CampnessValue = CAMPNESS_DEFENSIVE_TOWER

	; *** ENGINEERING Parameters ***

  	//-----------------------------------------------
	//Used for hero revival and initial construction     
	Behavior = ProductionUpdate ProductionUpdateModuleTag
		// nothing, but is required if we have any Object-level Upgrades!
	End
	Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
		UnitCreatePoint			= X:40.0 Y:0.0 Z:130.0
		NaturalRallyPoint		= X:250.0 Y:0.0 Z:130.0	//NaturalRallyPointX must always match GeometryMajorRadius! 
		AllowAirborneCreation	= Yes
		ExitDelay				= 300					//Handles delays between units if multiple produced at a time. 
	End  
	//-----------------------------------------------

	                                                 
	//Commandset upgrades based on faction.  This is so the building will produce the proper units when necessary
	Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven
		TriggeredBy	= Upgrade_DwarfFaction
		CommandSet	= DwarvenMonumentFortressCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetMen
		TriggeredBy	= Upgrade_MenFaction
		CommandSet	= MenMonumentFortressCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetElven
		TriggeredBy	= Upgrade_ElfFaction
		CommandSet	= ElvenMonumentFortressCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard
		TriggeredBy	= Upgrade_IsengardFaction
		CommandSet	= IsengardMonumentFortressCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor
		TriggeredBy	= Upgrade_MordorFaction
		CommandSet	= MordorMonumentFortressCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetWild
		TriggeredBy	= Upgrade_WildFaction
		CommandSet	= WildMonumentFortressCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetAngmar
		TriggeredBy	= Upgrade_AngmarFaction
		CommandSet	= AngmarMonumentFortressCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetArnor
		TriggeredBy	= Upgrade_ArnorFaction
		CommandSet	= ArnorMonumentFortressCommandSet
	End
	//End Commandset upgrades

	RadarPriority       = NOT_ON_RADAR
	KindOf              = VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT WALK_ON_TOP_OF_WALL DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 0
	End

	Behavior = CitadelSlaughterHordeContain ModuleTag_SlaughterMe
		PassengerFilter					= GENERIC_FACTION_SLAUGHTERABLE
		ObjectStatusOfContained			= UNSELECTABLE ENCLOSED
		CashBackPercent					= 200%		
		ContainMax						= 99	// give it a huge capacity, just in case player sends his whole army in at once
		AllowEnemiesInside				= No
		AllowAlliesInside				= No
 		AllowNeutralInside				= No
 		AllowOwnPlayerInsideOverride	= Yes
		EnterSound						= MordorSlaughterhouseEnterSound
		EntryOffset						= X:270.0 Y:0.0 Z:0.0
		EntryPosition					= X:30.0 Y:0.0 Z:0.0
		
		ExitOffset						= X:270.0 Y:0.0 Z:0.0
		StatusForRingEntry				= HOLDING_THE_RING
		UpgradeForRingEntry				= Upgrade_RingHero Upgrade_FortressRingHero
		ObjectToDestroyForRingEntry		= NONE +TheDroppedRing
		FXForRingEntry					= FX_OneRingFlare
	End
	
	Behavior = CreateObjectDie ModuleTag_CreateRubble
		CreationList = OCL_MBMMTower
	End

	Behavior = ModelConditionUpgrade ModuleTag_ForHigherFX
		TriggeredBy			= Upgrade_RingHero Upgrade_FortressRingHero
		RequiresAllTriggers	= Yes
		AddConditionFlags	= BUILD_VARIATION_TWO
	End

 	#include "..\FortressRingFunc.inc"
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = CYLINDER
	GeometryMajorRadius   = 70.0	
	GeometryHeight        = 400.0
;	GeometryOffset			= X:0 Y:0 Z:60

;	AdditionalGeometry		= BOX
;	GeometryMajorRadius		= 115.0
;	GeometryMinorRadius		= 40.0
;	GeometryHeight			= 100.0
;	GeometryOffset			= X:100 Y:0 Z:30
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Tower
Object MBMMTowerRubble

	DisplayName  =  Object:Prop

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    

		DefaultModelConditionState
			Model = MBMMTower_R
		End
	End
	
	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD SELECTABLE STRUCTURE IMMOBILE NEVER_CULL_FOR_MP

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Geometry              = CYLINDER
	GeometryMajorRadius   = 220.0	
	GeometryHeight        = 400.0
;	GeometryOffset			= X:0 Y:0 Z:60

	AdditionalGeometry		= BOX
	GeometryMajorRadius		= 115.0
	GeometryMinorRadius		= 40.0
	GeometryHeight			= 100.0
	GeometryOffset			= X:100 Y:0 Z:30
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Tower
Object WOR_MBMMTower

	SelectPortrait = BPCMinasMorgulTower
 
; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMTower		
    End
    
	;WallBoundsMesh = P1

	;------------Build Up States
    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
      Model               = MBMMTower_A
      ParticleSysBone     = NONE BuildingContructDust
    End  

	AnimationState          = ACTIVELY_BEING_CONSTRUCTED
		Animation
			AnimationName	= MBMMTower_A.MBMMTower_A
			AnimationMode   = MANUAL
		End
	End

		;--damaged building
		ModelConditionState  = DAMAGED
		Model         = MBMMTower_D1
			ParticleSysBone FireSmall01 FireBuildingLarge
			ParticleSysBone FireSmall02 FireBuildingMedium
			ParticleSysBone FireSmall03 FireBuildingMedium
			ParticleSysBone FireSmall04 FireBuildingSmall
			ParticleSysBone FireSmall05 SmokeBuildingLarge
		End
		AnimationState = DAMAGED
			EnteringStateFX	= FX_BuildingDamaged
		End

		ModelConditionState  = REALLYDAMAGED
		Model         = MBMMTower_D2
			ParticleSysBone FireSmall01 FireBuildingLarge
			ParticleSysBone FireSmall02 FireBuildingLarge
			ParticleSysBone FireSmall03 FireBuildingMedium
			ParticleSysBone FireSmall04 SmokeBuildingLarge
			ParticleSysBone FireSmall05 SmokeBuildingLarge
		End
		AnimationState = REALLYDAMAGED
      			Animation			=	RubbleAnimation
				AnimationName		=	MBMMTower_D2.MBMMTower_D2
				AnimationMode		=	ONCE
  			End
			EnteringStateFX	= FX_BuildingReallyDamaged
		End

		ModelConditionState  = COLLAPSING
		Model         = MBMMTower_D3
		ParticleSysBone SmokeLarge01 SmokeBuildingLarge
		End
		
		AnimationState = COLLAPSING
      			Animation			=	RubbleAnimation
				AnimationName		=	MBMMTower_D3.MBMMTower_D3
				AnimationMode		=	ONCE
  			End
		EnteringStateFX	= FX_BuildingReallyDamaged
		End

		ModelConditionState  = POST_RUBBLE
		Model         = MBMMTower_R
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End

		ModelConditionState  = POST_COLLAPSE
		Model         = MBMMTower_R
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End      
  	End


; ***DESIGN parameters ***
	DisplayName		= OBJECT:MinasMorgalTower
	Side			= WOR
	EditorSorting		= STRUCTURE
	Browser			= REGION Minas_Morgul STRUCTURE
	ThreatLevel		= 1.0
	BuildCost		= 5000
	BuildTime		= 120.0		; in seconds
	VisionRange		= 400		; 160.0
	ShroudClearingRange	= 800		; 160

	ArmorSet
		Conditions	= None
		Armor		= DefaultWallArmor
		DamageFX	= GateDamageFX
	End

	; CommandSet		= GondorBarracksCommandSet

	HealthBoxHeightOffset	= -200

 
; *** AUDIO Parameters ***
	#include "..\Includes\StandardBuildingEvaEvents.inc"
	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone
	VoiceSelectUnderConstruction	= BuildingEvilVoiceSelectUnderConstruction
	VoiceSelect						= MordorFortressSelect
	UnitSpecificSounds
		UnderConstruction	= BuildingConstructionLoop	; Built first time
		; UnderRepairFromDamage	= NoSound			; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_PlayCollapseSound
		ModelCondition = REQUIRED:RUBBLE Sound:BuildingSink
	End

	CampnessValue = CAMPNESS_DEFENSIVE_TOWER


; *** ENGINEERING Parameters ***
	KindOf			= VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED
	RadarPriority		= STRUCTURE
	KeepSelectableWhenDead	= Yes

	//Commandset upgrades based on faction.  This is so the building will produce the proper units when necessary
	Behavior = CommandSetUpgrade ModuleTag_CommandSetMen
		TriggeredBy	= Upgrade_MenFaction
		CommandSet	= MenMonumentFortressRebuildCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetElven
		TriggeredBy	= Upgrade_ElfFaction
		CommandSet	= ElvenMonumentFortressRebuildCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetDwarven
		TriggeredBy	= Upgrade_DwarfFaction
		CommandSet	= DwarvenMonumentFortressRebuildCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetMordor
		TriggeredBy	= Upgrade_MordorFaction
		CommandSet	= MordorMonumentFortressRebuildCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetIsengard
		TriggeredBy	= Upgrade_IsengardFaction
		CommandSet	= IsengardMonumentFortressRebuildCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetWild
		TriggeredBy	= Upgrade_WildFaction
		CommandSet	= WildMonumentFortressRebuildCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetAngmar
		TriggeredBy	= Upgrade_AngmarFaction
		CommandSet	= AngmarMonumentFortressCommandSet
	End
	Behavior = CommandSetUpgrade ModuleTag_CommandSetArnor
		TriggeredBy	= Upgrade_ArnorFaction
		CommandSet	= ArnorMonumentFortressCommandSet
	End
	//End Commandset upgrades

  	//-----------------------------------------------
	//Used for hero revival and initial construction     
	Behavior = ProductionUpdate ProductionUpdateModuleTag
		// nothing, but is required if we have any Object-level Upgrades!
	End
	
	Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
		UnitCreatePoint			= X:40.0 Y:0.0 Z:130.0
		NaturalRallyPoint		= X:250.0 Y:0.0 Z:130.0			; NaturalRallyPointX must always match GeometryMajorRadius!
		ExitDelay			= 300					; Handles delays between units if multiple produced at a time.
		AllowAirborneCreation		= Yes
	End  
	//-----------------------------------------------

	Behavior = GettingBuiltBehavior GetBuiltBehaviorTag
		SelfBuildingLoop		= BuildingConstructionLoop		; Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop	= NoSound				; This doesn't cause an animation, so don't bother playing a sound
		SelfRepairFromRubbleLoop	= BuildingConstructionLoop
		SpawnTimer			= -1.0					; Negative means no 'autoheal'
		RebuildTimeSeconds		= 120
	End

	Body = ActiveBody ModuleTag_02
		MaxHealth			= MONUMENT_FORTRESS_HEALTH
		MaxHealthDamaged		= MONUMENT_FORTRESS_HEALTH_DAMAGED
		MaxHealthReallyDamaged		= MONUMENT_FORTRESS_HEALT_REALLY_DAMAGED
	End
	
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End

	;//Money Maker
	Behavior = AutoDepositUpdate AutoDepositModuleTag
		DepositTiming       		= GENERIC_KEEP_MONEY_TIME
		DepositAmount       		= GENERIC_KEEP_MONEY_AMOUNT 
		InitialCaptureBonus 		= 0	// no initial bonus
	End

	Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
		Radius				= GENERIC_KEEP_MONEY_RANGE		; How far we try to claim ground
		MaxIncome			= 0					; If we were to get all we wanted, how much we would earn.  Linear slope to 0 at 0% claim
		IncomeInterval			= 999999				; How often (in msec) we give that much money
		HighPriority			= Yes					; A high priority claim gets to pretend it was there first.
		Visible 			= No 					; Don't show decal when a resource building is selected.
	End

	Behavior = CitadelSlaughterHordeContain ModuleTag_SlaughterMe
		PassengerFilter			= GENERIC_FACTION_SLAUGHTERABLE
		ObjectStatusOfContained		= UNSELECTABLE ENCLOSED
		CashBackPercent			= 200%		
		ContainMax			= 99					; give it a huge capacity, just in case player sends his whole army in at once
		AllowEnemiesInside		= No
		AllowAlliesInside		= No
 		AllowNeutralInside		= No
 		AllowOwnPlayerInsideOverride	= Yes
		EnterSound			= MordorSlaughterhouseEnterSound
		EntryOffset			= X:270.0 Y:0.0 Z:0.0
		EntryPosition			= X:30.0 Y:0.0 Z:0.0
		
		ExitOffset			= X:270.0 Y:0.0 Z:0.0
		StatusForRingEntry		= HOLDING_THE_RING
		UpgradeForRingEntry		= Upgrade_RingHero Upgrade_FortressRingHero
		ObjectToDestroyForRingEntry	= NONE +TheDroppedRing
		FXForRingEntry			= FX_OneRingFlare
	End

	Behavior = ModelConditionUpgrade ModuleTag_ForHigherFX
		TriggeredBy			= Upgrade_RingHero Upgrade_FortressRingHero
		RequiresAllTriggers	= Yes
		AddConditionFlags	= BUILD_VARIATION_TWO
	End

 	#include "..\FortressRingFunc.inc"

	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry		= CYLINDER
	GeometryMajorRadius	= 70.0	
	GeometryHeight		= 400.0
;	GeometryOffset		= X:0 Y:0 Z:60

;	AdditionalGeometry	= BOX
;	GeometryMajorRadius	= 115.0
;	GeometryMinorRadius	= 40.0
;	GeometryHeight		= 100.0
;	GeometryOffset		= X:100 Y:0 Z:30
	
	GeometryIsSmall		= No
	  
	Shadow			= SHADOW_VOLUME
End


;------------------------------------------------------------------------------ 
;Minas Morgal Wall A
Object MBMMWallA

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SiegeTower01
	ExtraPublicBone	= SiegeTower02

    DefaultModelConditionState
      Model = MBMMWallA		
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3 
	
	;-------Damaged------------
		ModelConditionState  = DAMAGED
			Model         = MBMMWallA
			Texture = MinasMorgul1.tga MinasMorgul1_D2.tga 
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMWallA_D2
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		    Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallA_D2.MBMMWallA_D2
				AnimationMode		=	ONCE
  			End
		End
 
 		ModelConditionState  = RUBBLE
			Model         = MBMMWallA_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallA_D3.MBMMWallA_D3
				AnimationMode		=	ONCE
  			End
		End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End

	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 57.0
	GeometryMinorRadius   = 38.0
	GeometryHeight        = 53.0
	GeometryOffset		= X:-35 Y:50 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 20.0
	GeometryMinorRadius   = 20.0
	GeometryHeight        = 53.0
	GeometryOffset		= X:-72 Y:-7 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 38.0
	GeometryMinorRadius   = 33.0
	GeometryHeight        = 53.0
	GeometryOffset		= X:-16 Y:-19 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End
;------------------------------------------------------------------------------ 
;Minas Morgal Wall A1
Object MBMMWallA1

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SiegeTower01
	ExtraPublicBone = SiegeTower02

    DefaultModelConditionState
      Model = MBMMWallA1	
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3 
	  
    ;-------Damaged------------
		ModelConditionState  = DAMAGED
			Model         = MBMMWallA1
			Texture = MinasMorgul1.tga MinasMorgul1_D2.tga 
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMWallA1_D2
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		    Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallA1_D2.MBMMWallA1_D2
				AnimationMode		=	ONCE
  			End
		End
 
 		ModelConditionState  = RUBBLE
			Model         = MBMMWallA1_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallA1_D3.MBMMWallA1_D3
				AnimationMode		=	ONCE
  			End
		End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End

	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 58.0
	GeometryMinorRadius   = 46.0
	GeometryHeight        = 53.0
	GeometryOffset		= X:-33 Y:-46 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 39.0
	GeometryMinorRadius   = 25.0
	GeometryHeight        = 53.0
	GeometryOffset		= X:-14 Y:26 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 13.0
	GeometryMinorRadius   = 17.0
	GeometryHeight        = 53.0
	GeometryOffset		= X:-65 Y:18 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Wall AB
Object MBMMWallAB

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMWallAB	
    End
    
	WallBoundsMesh = P2
	RampMesh1 = P1
	 
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 68.0
	GeometryMinorRadius   = 93.0
	GeometryHeight        = 54.0
	GeometryOffset		= X:-43 Y:0 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Wall AT
Object MBMMWallAT

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMWallAT	
    End
    
	WallBoundsMesh = P1
;	RampMesh1 = P1
	 
    ;-------Damaged------------
		ModelConditionState  = DAMAGED
			Model         = MBMMWallAT
			Texture = MinasMorgul1.tga MinasMorgul1_D2.tga 
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMWallAT_D2
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		    Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallAT_D2.MBMMWallAT_D2
				AnimationMode		=	ONCE
  			End
		End
 
 		ModelConditionState  = RUBBLE
			Model         = MBMMWallAT_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallAT_D3.MBMMWallAT_D3
				AnimationMode		=	ONCE
  			End
		End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	AttackContactPoint = X:164 Y:0 Z:128 Swoop

	Geometry              = BOX
	GeometryMajorRadius   = 100.0
	GeometryMinorRadius   = 54.0
	GeometryHeight        = 104.0
	GeometryOffset		= X:82 Y:0 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	
	AdditionalGeometry    = CYLINDER
	GeometryMajorRadius   = 40.0
	GeometryMinorRadius   = 40.0
	GeometryHeight        = 100.0
	GeometryOffset		  = X:25 Y:0.0 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	
	AdditionalGeometry    = CYLINDER
	GeometryMajorRadius   = 30.0
	GeometryMinorRadius   = 30.0
	GeometryHeight        = 100.0
	GeometryOffset		  = X:94 Y:0.0 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	

	AdditionalGeometry    = CYLINDER
	GeometryMajorRadius   = 20.0
	GeometryMinorRadius   = 20.0
	GeometryHeight        = 100.0
	GeometryOffset		  = X:144 Y:0.0 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
		
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End
;------------------------------------------------------------------------------ 
;Minas Morgal Wall AC
Object MBMMWallAC

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone	= SiegeTower01
	ExtraPublicBone	= SiegeTower02

    DefaultModelConditionState
      Model = MBMMWallAC	
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
    ;-------Damaged------------
		ModelConditionState  = DAMAGED
			Model         = MBMMWallAC
			Texture = MinasMorgul1.tga MinasMorgul1_D2.tga 
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMWallAC_D2
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		    Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallAC_D2.MBMMWallAC_D2
				AnimationMode		=	ONCE
  			End
		End
 
 		ModelConditionState  = RUBBLE
			Model         = MBMMWallAC_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallAC_D3.MBMMWallAC_D3
				AnimationMode		=	ONCE
  			End
		End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End

	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 62.0
	GeometryMinorRadius   = 92.0
	GeometryHeight        = 54.0
	GeometryOffset		= X:-45 Y:0 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Wall B
Object MBMMWallB

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SiegeTower01

    DefaultModelConditionState
      Model = MBMMWallB	
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
    ;-------Damaged------------
		ModelConditionState  = DAMAGED
			Model         = MBMMWallB
			Texture = MinasMorgul1.tga MinasMorgul1_D2.tga 
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMWallB_D2
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		    Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallB_D2.MBMMWallB_D2
				AnimationMode		=	ONCE
  			End
		End
 
 		ModelConditionState  = RUBBLE
			Model         = MBMMWallB_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallB_D3.MBMMWallB_D3
				AnimationMode		=	ONCE
  			End
		End
  End
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End

	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 74.0
	GeometryMinorRadius   = 136.0
	GeometryHeight        = 54.0
	GeometryOffset		= X:-60 Y:-45 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 31.0
	GeometryMinorRadius   = 46.0
	GeometryHeight        = 54.0
	GeometryOffset		= X:42 Y:-96 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Wall B1
Object MBMMWallB1

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SiegeTower01

    DefaultModelConditionState
      Model = MBMMWallB1	
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3 
	  
   ;-------Damaged------------
		ModelConditionState  = DAMAGED
			Model         = MBMMWallB1
			Texture = MinasMorgul1.tga MinasMorgul1_D2.tga 
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMWallB1_D2
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		    Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallB1_D2.MBMMWallB1_D2
				AnimationMode		=	ONCE
  			End
		End
 
 		ModelConditionState  = RUBBLE
			Model         = MBMMWallB1_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallB1_D3.MBMMWallB1_D3
				AnimationMode		=	ONCE
  			End
		End    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE  WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End

	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 76.0
	GeometryMinorRadius   = 137.0
	GeometryHeight        = 54.0
	GeometryOffset		= X:-56 Y:44 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 327.0
	GeometryMinorRadius   = 42.0
	GeometryHeight        = 54.0
	GeometryOffset		= X:44 Y:92 Z:0
	GeometryRotationAnchorOffset = X:1838 Y:0.0	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End


;------------------------------------------------------------------------------ 
;Minas Morgal Wall C
Object MBMMWallC

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMWallC
    End
    
	WallBoundsMesh = P2
	RampMesh1 = P1
	;RampMesh2 = P3   
	
	   ;-------Damaged------------
		ModelConditionState  = DAMAGED
			Model         = MBMMWallC
			Texture = MinasMorgul1.tga MinasMorgul1_D2.tga 
		End
		AnimationState = DAMAGED
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = MBMMWallC_D2
		End
	    
	    AnimationState = REALLYDAMAGED
		    EnteringStateFX	= FX_BuildingReallyDamaged
		    Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallC_D2.MBMMWallC_D2
				AnimationMode		=	ONCE
  			End
		End
 
 		ModelConditionState  = RUBBLE
			Model         = MBMMWallC_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	MBMMWallC_D3.MBMMWallC_D3
				AnimationMode		=	ONCE
  			End
		End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet		initially nothing.
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE UNATTACKABLE CHUNK_VENDOR WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP NOT_AUTOACQUIRABLE DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
  	Behavior = ProductionUpdate ProductionUpdateModuleTag
	End
	Behavior = GrantUpgradeCreate ModuleTag_ActLikeAnOldUpgrade
		UpgradeToGrant			= Upgrade_TrebuchetTurret
		GiveOnBuildComplete		= Yes							; The ExemptStatus UnderConstruction hack doesn't work on foundation buildings.
	End
	Behavior = CommandSetUpgrade ModueTag_TrebCommandSet
		TriggeredBy				= Upgrade_TrebuchetTurret
		ConflictsWith			= Upgrade_HasWallTrebuchet 
		CommandSet				= GenericMinasMorgulBuyNewTrebCommandSet
	End
	Behavior = CommandSetUpgrade ModueTag_TrebSellCommandSet
		TriggeredBy				= Upgrade_HasWallTrebuchet Upgrade_TrebuchetTurret
		CommandSet				= EmptyCommandSet
		RequiresAllTriggers		= Yes
	End
	Behavior = ObjectCreationUpgrade MakeTheFreeTreb
		TriggeredBy				= Upgrade_TrebuchetTurret
		Delay					= 0
		GrantUpgrade			= Upgrade_HasWallTrebuchet
		DestroyWhenSold			= Yes
		DeathAnimAndDuration	= AnimState:DEATH_2 AnimTime:999999
	End
	Behavior = ObjectCreationUpgrade ModuleTag_MordorTreb
		TriggeredBy				= Upgrade_HasWallTrebuchet Upgrade_MordorFaction
		RequiresAllTriggers		= Yes
		Delay					= 0.0		
		ThingToSpawn			= MordorMinasMorgulCatapult
		Offset					= X:100.0 Y:0.0 Z:124.0
		FadeInTime				= 600
	End
	Behavior = ObjectCreationUpgrade ModuleTag_MenTreb
		TriggeredBy				= Upgrade_HasWallTrebuchet Upgrade_MenFaction
		RequiresAllTriggers		= Yes
		Delay					= 0.0		
		ThingToSpawn			= GondorMinasMorgulTrebuchet
		Offset					= X:100.0 Y:0.0 Z:124.0
		FadeInTime				= 600
	End
	Behavior = ObjectCreationUpgrade ModuleTag_ElvenTreb
		TriggeredBy				= Upgrade_HasWallTrebuchet Upgrade_ElfFaction
		RequiresAllTriggers		= Yes
		Delay					= 0.0		
		ThingToSpawn			= GondorMinasMorgulTrebuchet
		Offset					= X:100.0 Y:0.0 Z:124.0
		FadeInTime				= 600
	End
	Behavior = ObjectCreationUpgrade ModuleTag_IsengardTreb
		TriggeredBy				= Upgrade_HasWallTrebuchet Upgrade_IsengardFaction
		RequiresAllTriggers		= Yes
		Delay					= 0.0		
		ThingToSpawn			= IsengardWallBallista
		Offset					= X:100.0 Y:0.0 Z:124.0
		FadeInTime				= 600
	End
	Behavior = ObjectCreationUpgrade ModuleTag_WildTreb
		TriggeredBy				= Upgrade_HasWallTrebuchet Upgrade_WildFaction
		RequiresAllTriggers		= Yes
		Delay					= 0.0		
		ThingToSpawn			= MordorMinasMorgulCatapult
		Offset					= X:100.0 Y:0.0 Z:124.0
		FadeInTime				= 600
	End
	Behavior = ObjectCreationUpgrade ModuleTag_DwarfTreb
		TriggeredBy				= Upgrade_HasWallTrebuchet Upgrade_DwarfFaction
		RequiresAllTriggers		= Yes
		Delay					= 0.0		
		ThingToSpawn			= DwarvenMinasMorgulCatapult
		Offset					= X:100.0 Y:0.0 Z:124.0
		FadeInTime				= 600
	End
	Behavior = ObjectCreationUpgrade ModuleTag_AngmarTreb
		TriggeredBy				= Upgrade_HasWallTrebuchet Upgrade_AngmarFaction
		RequiresAllTriggers		= Yes
		Delay					= 0.0		
		ThingToSpawn			= AngmarTrollSlingMinasMorgul
		Offset					= X:96.0 Y:0.0 Z:124.0
		FadeInTime				= 600
	End
	Behavior = SlaveWatcherBehavior WatchTheTreb
		RemoveUpgrade			= Upgrade_HasWallTrebuchet				; when our slave dies, remove this upgrade, so we can get the upgrade again.
	End
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 55.0
	GeometryMinorRadius   = 254.0
	GeometryHeight        = 124.0
	GeometryOffset		= X:-3 Y:1 Z:0
	GeometryRotationAnchorOffset = X:810 Y:0.0	
	
	AdditionalGeometry    = BOX
	GeometryMajorRadius   = 66.0
	GeometryMinorRadius   = 56.0
	GeometryHeight        = 124.0
	GeometryOffset		= X:124 Y:0 Z:0
	GeometryRotationAnchorOffset = X:810 Y:0.0	
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End


;------------------------------------------------------------------------------ 
;Minas Morgal Wall C End
Object MBMMWallCEnd

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMWallCEnd
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR UNATTACKABLE NOT_AUTOACQUIRABLE SELECTABLE  WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 58.0
	GeometryMinorRadius   = 123.0
	GeometryHeight        = 124.0
	GeometryOffset		= X:-5 Y:-4 Z:0
	GeometryRotationAnchorOffset = X:810 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Wall C End1
Object MBMMWallCEnd1

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMWallCEnd1
    End
    
	WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR UNATTACKABLE NOT_AUTOACQUIRABLE SELECTABLE  WALK_ON_TOP_OF_WALL IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 58.0
	GeometryMinorRadius   = 123.0
	GeometryHeight        = 124.0
	GeometryOffset		= X:-5 Y:-4 Z:0
	GeometryRotationAnchorOffset = X:810 Y:0.0	
	

	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Wall D
Object MBMMWallD

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMWallD
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	#include "..\Includes\StandardBuildingEvaEvents.inc"

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR UNATTACKABLE NOT_AUTOACQUIRABLE SELECTABLE IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP	 ;WALK_ON_TOP_OF_WALL DONT_HIDE_IF_FOGGED

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 36.0
	GeometryMinorRadius   = 189.0
	GeometryHeight        = 75.0
	GeometryOffset		= X:-1 Y:0 Z:0
;	GeometryRotationAnchorOffset = X:1076.832 Y:0.0	
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End
;------------------------------------------------------------------------------ 
;Minas Morgal Ruin1
Object MMBMMRuin1

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMRuin1
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = CYLINDER
	GeometryMajorRadius   = 25
	GeometryMinorRadius   = 25
	GeometryHeight        = 45
	GeometryOffset		= X:0 Y:0 Z:0
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End
;------------------------------------------------------------------------------ 
;Minas Morgal Ruin2
Object MMBMMRuin2

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMRuin2
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 18
	GeometryMinorRadius   = 15
	GeometryHeight        = 60
	GeometryOffset		= X:-1 Y:0 Z:0
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Ruin3
Object MMBMMRuin3

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMRuin3
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 18
	GeometryMinorRadius   = 16
	GeometryHeight        = 49
	GeometryOffset		= X:-1 Y:-1 Z:0
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End
;------------------------------------------------------------------------------ 
;Minas Morgal Ruin4
Object MMBMMRuin4

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMRuin4
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 20
	GeometryMinorRadius   = 18
	GeometryHeight        = 91
	GeometryOffset		= X:0 Y:0 Z:0
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Ruin5
Object MMBMMRuin5

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMRuin5
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = CYLINDER
	GeometryMajorRadius   = 24
	GeometryMinorRadius   = 24
	GeometryHeight        = 26
	GeometryOffset		= X:0 Y:0 Z:0
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Ruin6
Object MMBMMRuin6

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMRuin6
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 44
	GeometryMinorRadius   = 18
	GeometryHeight        = 33
	GeometryOffset		= X:0 Y:0 Z:0
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Ruin7
Object MMBMMRuin7

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMRuin7
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 22
	GeometryMinorRadius   = 18
	GeometryHeight        = 75
	GeometryOffset		= X:0 Y:-1 Z:0
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------ 
;Minas Morgal Ruin8
Object MMBMMRuin8

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState
      Model = MBMMRuin8
    End
    
	;WallBoundsMesh = P1
	;RampMesh1 = P2
	;RampMesh2 = P3   
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Civilian
  EditorSorting       = STRUCTURE
  Browser = REGION Minas_Morgul STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 500
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

;  CommandSet          = GondorBarracksCommandSet
 
  ; *** AUDIO Parameters ***

	SoundOnDamaged				= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone


	; *** ENGINEERING Parameters ***

	RadarPriority       = NOT_ON_RADAR
	KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORE_FOR_VICTORY DONT_HIDE_IF_FOGGED;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 1000.0
		MaxHealthDamaged		= 700.0
		MaxHealthReallyDamaged  = 300.0
	End

	ArmorSet
		Conditions        = None
		Armor             = DefaultWallArmor
		DamageFX          = GateDamageFX
	End

	Behavior = ProductionUpdate ModuleTag_06
		; nothing
	End
  
	Behavior                  = StructureCollapseUpdate ModuleTag_08
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 155
	End
  
	AttackContactPoint = X:-24 Y:-24 Z:92

	Geometry              = BOX
	GeometryMajorRadius   = 30
	GeometryMinorRadius   = 30
	GeometryHeight        = 59
	GeometryOffset		= X:1 Y:0 Z:0
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME

End
